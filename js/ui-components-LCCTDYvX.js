const t={select:t=>document.querySelector(t),selectAll:t=>[...document.querySelectorAll(t)],on:(t,e,o)=>t.addEventListener(e,o),find:(t,e)=>t.querySelector(e),closest:(t,e)=>t.closest(e),addClass:(t,e)=>t.classList.add(e),removeClass:(t,e)=>t.classList.remove(e),toggle:(t,e)=>t.classList.toggle(e),slideUp:(t,e=300)=>{t.style.transition=`height ${e}ms ease`,t.style.overflow="hidden",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.height="0px",setTimeout(()=>{t.style.display="none"},e)},slideDown:(t,e=300)=>{t.style.display="block";const o=t.scrollHeight;t.style.height="0px",t.style.transition=`height ${e}ms ease`,t.style.overflow="hidden",t.offsetHeight,t.style.height=o+"px",setTimeout(()=>{t.style.height="",t.style.overflow="",t.style.transition=""},e)}};function e(){t.selectAll(".close-link").forEach(e=>{t.on(e,"click",function(e){e.preventDefault();const o=t.closest(this,".x_panel");o&&t.slideUp(o)})}),t.selectAll(".collapse-link").forEach(e=>{t.on(e,"click",function(e){e.preventDefault();const o=t.closest(this,".x_panel"),s=t.find(o,".x_content"),l=t.find(this,"i");s&&l&&("none"===s.style.display?(t.slideDown(s),t.removeClass(l,"fa-chevron-down"),t.addClass(l,"fa-chevron-up")):(t.slideUp(s),t.removeClass(l,"fa-chevron-up"),t.addClass(l,"fa-chevron-down")))})})}function o(){t.selectAll(".progress-bar[data-transitiongoal]").forEach(t=>{const e=parseInt(t.getAttribute("data-transitiongoal"),10),o="false"!==t.getAttribute("data-display-text");t.style.removeProperty("width"),t.style.setProperty("width","0%","important"),t.setAttribute("aria-valuenow","0"),setTimeout(()=>{t.style.setProperty("transition","width 1s ease-in-out","important"),t.style.setProperty("width",e+"%","important"),t.setAttribute("aria-valuenow",e),o&&(t.textContent=e+"%")},100)});const e=t.selectAll(".widget_summary .progress-bar");e.forEach(t=>{if(t.getAttribute("data-transitiongoal"))return;const o=t.style.width;if(o&&o.includes("%")){const s=parseInt(o.replace("%",""),10);t.style.removeProperty("width"),t.style.setProperty("width","0%","important"),t.setAttribute("aria-valuenow","0");const l=100*Array.from(e).indexOf(t)+200;setTimeout(()=>{t.style.setProperty("transition","width 1s ease-in-out","important"),t.style.setProperty("width",s+"%","important"),t.setAttribute("aria-valuenow",s)},l)}}),t.selectAll(".progress-bar:not([data-transitiongoal])").forEach(e=>{if(t.closest(e,".widget_summary"))return;const o=e.style.width||e.getAttribute("aria-valuenow")+"%"||"0%";e.style.width=o})}function s(){t.selectAll(".toast").forEach(t=>{if("undefined"!=typeof bootstrap&&bootstrap.Toast){const e=new bootstrap.Toast(t);"true"===t.getAttribute("data-show")&&e.show()}})}function l(){"undefined"!=typeof bootstrap&&bootstrap.Tooltip&&t.selectAll('[data-bs-toggle="tooltip"]').forEach(t=>{new bootstrap.Tooltip(t)}),"undefined"!=typeof bootstrap&&bootstrap.Popover&&t.selectAll('[data-bs-toggle="popover"]').forEach(t=>{new bootstrap.Popover(t)})}function i(){"undefined"!=typeof Switchery&&t.selectAll(".js-switch").forEach(t=>{t.switchery||new Switchery(t,{color:"#26B99A",size:"small"})})}"undefined"!=typeof document&&document.addEventListener("DOMContentLoaded",()=>{e(),o(),s(),l(),i()});export{t as DOM,l as initializeBootstrapComponents,e as initializePanelToolbox,o as initializeProgressBars,i as initializeSwitchery,s as initializeToasts};
