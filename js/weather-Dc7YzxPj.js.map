{"version":3,"file":"weather-Dc7YzxPj.js","sources":["../../src/modules/weather.js"],"sourcesContent":["/**\n * Weather Module\n * Handles Skycons weather icon animations\n * Already modern JavaScript - extracted from init.js\n */\n\n/**\n * Initialize Skycons weather icons\n * Modern JavaScript implementation\n */\nexport function initializeSkycons() {\n  if (typeof window.Skycons === 'undefined') {\n    console.warn('⚠️ Skycons library not available');\n    return;\n  }\n\n  try {\n    const skycons = new window.Skycons({ color: '#73879C' });\n\n    // Index.html specific weather icons (actual IDs from the HTML)\n    const weatherIcons = [\n      { id: 'partly-cloudy-day', type: window.Skycons.PARTLY_CLOUDY_DAY },\n      { id: 'clear-day', type: window.Skycons.CLEAR_DAY },\n      { id: 'rain', type: window.Skycons.RAIN },\n      { id: 'snow', type: window.Skycons.SNOW },\n      { id: 'sleet', type: window.Skycons.SLEET },\n      { id: 'wind', type: window.Skycons.WIND },\n      { id: 'cloudy', type: window.Skycons.CLOUDY }\n    ];\n\n    let initializedCount = 0;\n\n    weatherIcons.forEach(icon => {\n      const element = document.getElementById(icon.id);\n      if (element) {\n        skycons.add(element, icon.type);\n        initializedCount++;\n        console.log(`✅ Skycon initialized: ${icon.id}`);\n      }\n    });\n\n    // Legacy support: Temperature widget (if exists)\n    const tempElement = document.getElementById('canvas-temperature');\n    if (tempElement) {\n      skycons.add(tempElement, window.Skycons.PARTLY_CLOUDY_DAY);\n      initializedCount++;\n    }\n\n    // Legacy support: Humidity widget (if exists)\n    const humidityElement = document.getElementById('canvas-humidity');\n    if (humidityElement) {\n      skycons.add(humidityElement, window.Skycons.CLOUDY);\n      initializedCount++;\n    }\n\n    // Legacy support: Wind widget (if exists)\n    const windElement = document.getElementById('canvas-wind');\n    if (windElement) {\n      skycons.add(windElement, window.Skycons.WIND);\n      initializedCount++;\n    }\n\n    // Legacy support: Rain widget (if exists)\n    const rainElement = document.getElementById('canvas-rain');\n    if (rainElement) {\n      skycons.add(rainElement, window.Skycons.RAIN);\n      initializedCount++;\n    }\n\n    // Generic weather icons with data attributes\n    document.querySelectorAll('[data-weather]').forEach(element => {\n      const weatherType = element.getAttribute('data-weather').toUpperCase();\n      if (window.Skycons[weatherType]) {\n        skycons.add(element, window.Skycons[weatherType]);\n        initializedCount++;\n      }\n    });\n\n    if (initializedCount > 0) {\n      // Start the animation\n      skycons.play();\n      console.log(`✅ ${initializedCount} Skycons weather icons initialized and animated`);\n    } else {\n      console.log('ℹ️ No weather icon elements found on this page');\n    }\n\n    // Return skycons instance for external control\n    return skycons;\n  } catch (error) {\n    console.error('❌ Failed to initialize Skycons:', error);\n  }\n}\n\n/**\n * Weather Data Simulation\n * For demonstration purposes - replace with real API calls\n */\nexport function simulateWeatherData() {\n  const weatherData = {\n    temperature: Math.round(Math.random() * 30 + 10) + '°C',\n    humidity: Math.round(Math.random() * 50 + 30) + '%',\n    windSpeed: Math.round(Math.random() * 20 + 5) + ' km/h',\n    rainfall: Math.round(Math.random() * 10) + ' mm'\n  };\n\n  // Update weather displays if they exist\n  const tempDisplay = document.querySelector('[data-weather-temp]');\n  if (tempDisplay) {\n    tempDisplay.textContent = weatherData.temperature;\n  }\n\n  const humidityDisplay = document.querySelector('[data-weather-humidity]');\n  if (humidityDisplay) {\n    humidityDisplay.textContent = weatherData.humidity;\n  }\n\n  const windDisplay = document.querySelector('[data-weather-wind]');\n  if (windDisplay) {\n    windDisplay.textContent = weatherData.windSpeed;\n  }\n\n  const rainDisplay = document.querySelector('[data-weather-rain]');\n  if (rainDisplay) {\n    rainDisplay.textContent = weatherData.rainfall;\n  }\n\n  return weatherData;\n}\n\n/**\n * Weather API Integration Helper\n * Template for real weather API integration\n */\nexport async function fetchWeatherData(location = 'New York') {\n  try {\n    // Replace with your weather API endpoint\n    // const response = await fetch(`https://api.weather.com/current?location=${location}`);\n    // const data = await response.json();\n\n    // For now, return simulated data\n    return simulateWeatherData();\n  } catch (error) {\n    console.error('❌ Failed to fetch weather data:', error);\n    return simulateWeatherData(); // Fallback to simulated data\n  }\n}\n\n// Auto-initialize when module loads (only if weather elements exist)\nif (typeof document !== 'undefined') {\n  document.addEventListener('DOMContentLoaded', () => {\n    const weatherElements = document.querySelectorAll(\n      '.weather-icon, [data-weather], ' +\n        '#canvas-temperature, #canvas-humidity, #canvas-wind, #canvas-rain, ' +\n        '#partly-cloudy-day, #clear-day, #rain, #snow, #sleet, #wind, #cloudy'\n    );\n    if (weatherElements.length > 0) {\n      initializeSkycons();\n    }\n  });\n}\n"],"names":["initializeSkycons","window","Skycons","skycons","color","weatherIcons","id","type","PARTLY_CLOUDY_DAY","CLEAR_DAY","RAIN","SNOW","SLEET","WIND","CLOUDY","initializedCount","forEach","icon","element","document","getElementById","add","tempElement","humidityElement","windElement","rainElement","querySelectorAll","weatherType","getAttribute","toUpperCase","play","error","simulateWeatherData","weatherData","temperature","Math","round","random","humidity","windSpeed","rainfall","tempDisplay","querySelector","textContent","humidityDisplay","windDisplay","rainDisplay","async","fetchWeatherData","location","addEventListener","length"],"mappings":"AAUO,SAASA,IACd,QAA8B,IAAnBC,OAAOC,QAKlB,IACE,MAAMC,EAAU,IAAIF,OAAOC,QAAQ,CAAEE,MAAO,YAGtCC,EAAe,CACnB,CAAEC,GAAI,oBAAqBC,KAAMN,OAAOC,QAAQM,mBAChD,CAAEF,GAAI,YAAaC,KAAMN,OAAOC,QAAQO,WACxC,CAAEH,GAAI,OAAQC,KAAMN,OAAOC,QAAQQ,MACnC,CAAEJ,GAAI,OAAQC,KAAMN,OAAOC,QAAQS,MACnC,CAAEL,GAAI,QAASC,KAAMN,OAAOC,QAAQU,OACpC,CAAEN,GAAI,OAAQC,KAAMN,OAAOC,QAAQW,MACnC,CAAEP,GAAI,SAAUC,KAAMN,OAAOC,QAAQY,SAGvC,IAAIC,EAAmB,EAEvBV,EAAaW,QAAQC,IACnB,MAAMC,EAAUC,SAASC,eAAeH,EAAKX,IACzCY,IACFf,EAAQkB,IAAIH,EAASD,EAAKV,MAC1BQ,OAMJ,MAAMO,EAAcH,SAASC,eAAe,sBACxCE,IACFnB,EAAQkB,IAAIC,EAAarB,OAAOC,QAAQM,mBACxCO,KAIF,MAAMQ,EAAkBJ,SAASC,eAAe,mBAC5CG,IACFpB,EAAQkB,IAAIE,EAAiBtB,OAAOC,QAAQY,QAC5CC,KAIF,MAAMS,EAAcL,SAASC,eAAe,eACxCI,IACFrB,EAAQkB,IAAIG,EAAavB,OAAOC,QAAQW,MACxCE,KAIF,MAAMU,EAAcN,SAASC,eAAe,eAwB5C,OAvBIK,IACFtB,EAAQkB,IAAII,EAAaxB,OAAOC,QAAQQ,MACxCK,KAIFI,SAASO,iBAAiB,kBAAkBV,QAAQE,IAClD,MAAMS,EAAcT,EAAQU,aAAa,gBAAgBC,cACrD5B,OAAOC,QAAQyB,KACjBxB,EAAQkB,IAAIH,EAASjB,OAAOC,QAAQyB,IACpCZ,OAIAA,EAAmB,GAErBZ,EAAQ2B,OAOH3B,CACT,OAAS4B,GAET,CACF,CAMO,SAASC,IACd,MAAMC,EAAc,CAClBC,YAAaC,KAAKC,MAAsB,GAAhBD,KAAKE,SAAgB,IAAM,KACnDC,SAAUH,KAAKC,MAAsB,GAAhBD,KAAKE,SAAgB,IAAM,IAChDE,UAAWJ,KAAKC,MAAsB,GAAhBD,KAAKE,SAAgB,GAAK,QAChDG,SAAUL,KAAKC,MAAsB,GAAhBD,KAAKE,UAAiB,OAIvCI,EAActB,SAASuB,cAAc,uBACvCD,IACFA,EAAYE,YAAcV,EAAYC,aAGxC,MAAMU,EAAkBzB,SAASuB,cAAc,2BAC3CE,IACFA,EAAgBD,YAAcV,EAAYK,UAG5C,MAAMO,EAAc1B,SAASuB,cAAc,uBACvCG,IACFA,EAAYF,YAAcV,EAAYM,WAGxC,MAAMO,EAAc3B,SAASuB,cAAc,uBAK3C,OAJII,IACFA,EAAYH,YAAcV,EAAYO,UAGjCP,CACT,CAMOc,eAAeC,EAAiBC,EAAW,YAChD,IAME,OAAOjB,GACT,OAASD,GAEP,OAAOC,GACT,CACF,CAGwB,oBAAbb,UACTA,SAAS+B,iBAAiB,mBAAoB,KACpB/B,SAASO,iBAC/B,0KAIkByB,OAAS,GAC3BnD"}