import"./init-modern-D-Nz0IPp.js";import{s as e}from"./security-DPkYTG7w.js";import{b as o}from"./vendor-core-f8R1kwD4.js";import{T as t,n,C as r}from"./vendor-forms-BA4Os747.js";import{I as i,p as s,a as p,P as a}from"./cropper.esm.raw-DOKy7fDB.js";import{S as d}from"./choices.min-Cy5G6RrI.js";import{C as c,r as m}from"./vendor-charts-DZUEHy2m.js";import"./purify.es-CbgqQ3Cc.js";import"./vendor-maps-BEAnqfiV.js";window.bootstrap=o,globalThis.bootstrap=o,window.TempusDominus=t,window.Switchery=d,window.Inputmask=i,window.noUiSlider=n,window.Choices=r;const w=s||p.Pickr||a;window.Pickr=w,c.register(...m),window.Chart=c,window.waitForLibraries=function(e,o,t=5e3){const n=Date.now();!function r(){e.every(e=>void 0!==window[e]||void 0!==globalThis[e])?o():Date.now()-n<t?setTimeout(r,50):o()}()},window.dispatchEvent(new CustomEvent("form-libraries-loaded",{detail:{timestamp:Date.now(),libraries:{jQuery:typeof window.$,TempusDominus:typeof window.TempusDominus,Cropper:typeof window.Cropper,Pickr:typeof window.Pickr,Inputmask:typeof window.Inputmask,Switchery:typeof window.Switchery}}})),document.addEventListener("DOMContentLoaded",()=>{"function"==typeof window.initializeFormComponents&&window.initializeFormComponents();const o=document.getElementById("cropper-source");if(o&&window.Cropper){const t=new window.Cropper(o,{container:o.parentElement});window.cropper=t;const n=document.getElementById("cropper-preview"),r=()=>{if(!n)return;const o=t.getCropperSelection();o&&!o.hidden?o.$toCanvas().then(o=>{n.innerHTML=e(""),o.style.width="100%",o.style.height="auto",n.appendChild(o)}):n.innerHTML=e('<span class="text-muted small">No selection</span>')},i=document.getElementById("cropper-rotate");i&&i.addEventListener("click",()=>{try{const e=t.getCropperImage();e&&e.$rotate(90),r()}catch(e){}});const s=document.getElementById("cropper-reset");s&&s.addEventListener("click",()=>{try{t.getCropperImage()?.$resetTransform(),t.getCropperSelection()?.$reset(),r()}catch(e){}});const p=document.getElementById("cropper-download");p&&p.addEventListener("click",()=>{const e=t.getCropperSelection();e&&e.$toCanvas().then(e=>{const o=document.createElement("a");o.href=e.toDataURL("image/jpeg"),o.download="cropped-image.jpg",o.click()})}),t.getCropperCanvas()?.addEventListener("change",r),setTimeout(r,600)}});
