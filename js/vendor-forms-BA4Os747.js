var t,e;function i(){if(e)return t;e=1,t=s;var i={color:"#64bd63",className:"switchery",disabled:!1,speed:"0.1s"};function s(t,e){if(!(this instanceof s))return new s(e);for(var n in this.element=t,this.options=e||{},i)n in this.options||(this.options[n]=i[n]);"checkbox"==this.element.type&&this.init()}return s.prototype.hide=function(){this.element.style.display="none"},s.prototype.show=function(){var t=this.create();this.element.parentNode.appendChild(t)},s.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.switcher},s.prototype.isChecked=function(){return this.element.checked},s.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled},s.prototype.setPosition=function(t){var e=this.isChecked(),i=this.switcher,s=this.jack;t&&e?e=!1:t&&!e&&(e=!0),!0===e?(this.element.checked=!0,window.getComputedStyle?s.style.left=parseInt(window.getComputedStyle(i).width)-s.offsetWidth+"px":s.style.left=parseInt(i.currentStyle.width)-s.offsetWidth+"px",this.options.color&&this.colorize()):(s.style.left="0",this.element.checked=!1,this.switcher.style.backgroundColor="",this.switcher.style.borderColor="")},s.prototype.setSpeed=function(){this.switcher.style.transitionDuration=this.options.speed,this.jack.style.transitionDuration=this.options.speed},s.prototype.setAttributes=function(){var t=this.element.getAttribute("id"),e=this.element.getAttribute("name");t&&this.switcher.setAttribute("id",t),e&&this.switcher.setAttribute("name",e)},s.prototype.colorize=function(){this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color},s.prototype.handleClick=function(){var t=this,e=this.switcher;!1===this.isDisabled()?e.addEventListener?e.addEventListener("click",function(){t.setPosition(!0)}):e.attachEvent("onclick",function(){t.setPosition(!0)}):this.element.disabled=!0},s.prototype.init=function(){this.hide(),this.show(),this.setSpeed(),this.setPosition(),this.setAttributes(),this.handleClick()},t}
/*! choices.js v11.1.0 | Â© 2025 Josh Johnson | https://github.com/jshjohnson/Choices#readme */var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(){return o=Object.assign||function(t){for(var e,i=1,s=arguments.length;s>i;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},o.apply(this,arguments)};function r(t,e,i){for(var s,n=0,o=e.length;o>n;n++)!s&&n in e||(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var a,c="ADD_CHOICE",l="REMOVE_CHOICE",h="FILTER_CHOICES",d="ACTIVATE_CHOICES",u="CLEAR_CHOICES",p="ADD_GROUP",m="ADD_ITEM",f="REMOVE_ITEM",g="HIGHLIGHT_ITEM",v="search",y="removeItem",b="highlightItem",S=["fuseOptions","classNames"],_="select-one",w="select-multiple",E=function(t){return{type:c,choice:t}},C=function(t){return{type:m,item:t}},k=function(t){return{type:f,item:t}},D=function(t,e){return{type:g,item:t,highlighted:e}},x=function(t){return Array.from({length:t},function(){return Math.floor(36*Math.random()+0).toString(36)}).join("")},A=function(t){if("string"!=typeof t){if(null==t)return"";if("object"==typeof t){if("raw"in t)return A(t.raw);if("trusted"in t)return t.trusted}return t}return t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},M=(a=document.createElement("div"),function(t){a.innerHTML=t.trim();for(var e=a.children[0];a.firstChild;)a.removeChild(a.firstChild);return e}),L=function(t,e){return"function"==typeof t?t(A(e),e):t},T=function(t){return"function"==typeof t?t():t},I=function(t){if("string"==typeof t)return t;if("object"==typeof t){if("trusted"in t)return t.trusted;if("raw"in t)return t.raw}return""},O=function(t){if("string"==typeof t)return t;if("object"==typeof t){if("escaped"in t)return t.escaped;if("trusted"in t)return t.trusted}return""},P=function(t,e){return t?O(e):A(e)},N=function(t,e,i){t.innerHTML=P(e,i)},V=function(t,e){return t.rank-e.rank},F=function(t){return Array.isArray(t)?t:[t]},H=function(t){return t&&Array.isArray(t)?t.map(function(t){return".".concat(t)}).join(""):".".concat(t)},$=function(t,e){var i;(i=t.classList).add.apply(i,F(e))},z=function(t,e){var i;(i=t.classList).remove.apply(i,F(e))},j=function(t){if(void 0!==t)try{return JSON.parse(t)}catch(e){return t}return{}},R=function(){function t(t){var e=t.element,i=t.type,s=t.classNames;this.element=e,this.classNames=s,this.type=i,this.isActive=!1}return t.prototype.show=function(){return $(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},t.prototype.hide=function(){return z(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},t}(),B=function(){function t(t){var e=t.element,i=t.type,s=t.classNames,n=t.position;this.element=e,this.classNames=s,this.type=i,this.position=n,this.isOpen=!1,this.isFlipped=!1,this.isDisabled=!1,this.isLoading=!1}return t.prototype.shouldFlip=function(t,e){var i=!1;return"auto"===this.position?i=this.element.getBoundingClientRect().top-e>=0&&!window.matchMedia("(min-height: ".concat(t+1,"px)")).matches:"top"===this.position&&(i=!0),i},t.prototype.setActiveDescendant=function(t){this.element.setAttribute("aria-activedescendant",t)},t.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},t.prototype.open=function(t,e){$(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(t,e)&&($(this.element,this.classNames.flippedState),this.isFlipped=!0)},t.prototype.close=function(){z(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(z(this.element,this.classNames.flippedState),this.isFlipped=!1)},t.prototype.addFocusState=function(){$(this.element,this.classNames.focusState)},t.prototype.removeFocusState=function(){z(this.element,this.classNames.focusState)},t.prototype.enable=function(){z(this.element,this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===_&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},t.prototype.disable=function(){$(this.element,this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===_&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},t.prototype.wrap=function(t){var e=this.element,i=t.parentNode;i&&(t.nextSibling?i.insertBefore(e,t.nextSibling):i.appendChild(e)),e.appendChild(t)},t.prototype.unwrap=function(t){var e=this.element,i=e.parentNode;i&&(i.insertBefore(t,e),i.removeChild(e))},t.prototype.addLoadingState=function(){$(this.element,this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},t.prototype.removeLoadingState=function(){z(this.element,this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},t}(),U=function(){function t(t){var e=t.element,i=t.type,s=t.classNames,n=t.preventPaste;this.element=e,this.type=i,this.classNames=s,this.preventPaste=n,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=e.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(t.prototype,"placeholder",{set:function(t){this.element.placeholder=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(t){this.element.value=t},enumerable:!1,configurable:!0}),t.prototype.addEventListeners=function(){var t=this.element;t.addEventListener("paste",this._onPaste),t.addEventListener("input",this._onInput,{passive:!0}),t.addEventListener("focus",this._onFocus,{passive:!0}),t.addEventListener("blur",this._onBlur,{passive:!0})},t.prototype.removeEventListeners=function(){var t=this.element;t.removeEventListener("input",this._onInput),t.removeEventListener("paste",this._onPaste),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)},t.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},t.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},t.prototype.focus=function(){this.isFocussed||this.element.focus()},t.prototype.blur=function(){this.isFocussed&&this.element.blur()},t.prototype.clear=function(t){return void 0===t&&(t=!0),this.element.value="",t&&this.setWidth(),this},t.prototype.setWidth=function(){var t=this.element;t.style.minWidth="".concat(t.placeholder.length+1,"ch"),t.style.width="".concat(t.value.length+1,"ch")},t.prototype.setActiveDescendant=function(t){this.element.setAttribute("aria-activedescendant",t)},t.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},t.prototype._onInput=function(){this.type!==_&&this.setWidth()},t.prototype._onPaste=function(t){this.preventPaste&&t.preventDefault()},t.prototype._onFocus=function(){this.isFocussed=!0},t.prototype._onBlur=function(){this.isFocussed=!1},t}(),q=function(){function t(t){var e=t.element;this.element=e,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return t.prototype.prepend=function(t){var e=this.element.firstElementChild;e?this.element.insertBefore(t,e):this.element.append(t)},t.prototype.scrollToTop=function(){this.element.scrollTop=0},t.prototype.scrollToChildElement=function(t,e){var i=this;if(t){var s=this.element.offsetHeight,n=this.element.scrollTop+s,o=t.offsetHeight,r=t.offsetTop+o,a=e>0?this.element.scrollTop+r-n:t.offsetTop;requestAnimationFrame(function(){i._animateScroll(a,e)})}},t.prototype._scrollDown=function(t,e,i){var s=(i-t)/e,n=s>1?s:1;this.element.scrollTop=t+n},t.prototype._scrollUp=function(t,e,i){var s=(t-i)/e,n=s>1?s:1;this.element.scrollTop=t-n},t.prototype._animateScroll=function(t,e){var i=this,s=this.element.scrollTop,n=!1;e>0?(this._scrollDown(s,4,t),t>s&&(n=!0)):(this._scrollUp(s,4,t),s>t&&(n=!0)),n&&requestAnimationFrame(function(){i._animateScroll(t,e)})},t}(),W=function(){function t(t){var e=t.element,i=t.classNames;this.element=e,this.classNames=i,this.isDisabled=!1}return Object.defineProperty(t.prototype,"isActive",{get:function(){return"active"===this.element.dataset.choice},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(t){this.element.setAttribute("value",t),this.element.value=t},enumerable:!1,configurable:!0}),t.prototype.conceal=function(){var t=this.element;$(t,this.classNames.input),t.hidden=!0,t.tabIndex=-1;var e=t.getAttribute("style");e&&t.setAttribute("data-choice-orig-style",e),t.setAttribute("data-choice","active")},t.prototype.reveal=function(){var t=this.element;z(t,this.classNames.input),t.hidden=!1,t.removeAttribute("tabindex");var e=t.getAttribute("data-choice-orig-style");e?(t.removeAttribute("data-choice-orig-style"),t.setAttribute("style",e)):t.removeAttribute("style"),t.removeAttribute("data-choice")},t.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},t.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},t.prototype.triggerEvent=function(t,e){!function(t,e,i){void 0===i&&(i=null);var s=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0});t.dispatchEvent(s)}(this.element,t,e||{})},t}(),K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(W),Y=function(t,e){return void 0===e&&(e=!0),void 0===t?e:!!t},G=function(t){if("string"==typeof t&&(t=t.split(" ").filter(function(t){return t.length})),Array.isArray(t)&&t.length)return t},X=function(t,e,i){if(void 0===i&&(i=!0),"string"==typeof t){var s=A(t);return X({value:t,label:i||s===t?t:{escaped:s,raw:t},selected:!0},!1)}var n=t;if("choices"in n){if(!e)throw new TypeError("optGroup is not allowed");var o=n,r=o.choices.map(function(t){return X(t,!1)});return{id:0,label:I(o.label)||o.value,active:!!r.length,disabled:!!o.disabled,choices:r}}var a=n;return{id:0,group:null,score:0,rank:0,value:a.value,label:a.label||a.value,active:Y(a.active),selected:Y(a.selected,!1),disabled:Y(a.disabled,!1),placeholder:Y(a.placeholder,!1),highlighted:!1,labelClass:G(a.labelClass),labelDescription:a.labelDescription,customProperties:a.customProperties}},J=function(t){return"SELECT"===t.tagName},Q=function(t){function e(e){var i=e.element,s=e.classNames,n=e.template,o=e.extractPlaceholder,r=t.call(this,{element:i,classNames:s})||this;return r.template=n,r.extractPlaceholder=o,r}return n(e,t),Object.defineProperty(e.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),e.prototype.addOptions=function(t){var e=this,i=document.createDocumentFragment();t.forEach(function(t){var s=t;if(!s.element){var n=e.template(s);i.appendChild(n),s.element=n}}),this.element.appendChild(i)},e.prototype.optionsAsChoices=function(){var t=this,e=[];return this.element.querySelectorAll(":scope > option, :scope > optgroup").forEach(function(i){!function(t){return"OPTION"===t.tagName}(i)?function(t){return"OPTGROUP"===t.tagName}(i)&&e.push(t._optgroupToChoice(i)):e.push(t._optionToChoice(i))}),e},e.prototype._optionToChoice=function(t){return!t.hasAttribute("value")&&t.hasAttribute("placeholder")&&(t.setAttribute("value",""),t.value=""),{id:0,group:null,score:0,rank:0,value:t.value,label:t.label,element:t,active:!0,selected:this.extractPlaceholder?t.selected:t.hasAttribute("selected"),disabled:t.disabled,highlighted:!1,placeholder:this.extractPlaceholder&&(!t.value||t.hasAttribute("placeholder")),labelClass:void 0!==t.dataset.labelClass?G(t.dataset.labelClass):void 0,labelDescription:void 0!==t.dataset.labelDescription?t.dataset.labelDescription:void 0,customProperties:j(t.dataset.customProperties)}},e.prototype._optgroupToChoice=function(t){var e=this,i=t.querySelectorAll("option"),s=Array.from(i).map(function(t){return e._optionToChoice(t)});return{id:0,label:t.label||"",element:t,active:!!s.length,disabled:t.disabled,choices:s}},e}(W),Z={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,closeDropdownOnSelect:"auto",singleModeForMultiSelect:!1,addChoices:!1,addItems:!0,addItemFilter:function(t){return!!t&&""!==t},removeItems:!0,removeItemButton:!1,removeItemButtonAlignLeft:!1,editItems:!1,allowHTML:!1,allowHtmlUserInput:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:function(t,e){var i=t.value,s=t.label,n=void 0===s?i:s,o=e.value,r=e.label,a=void 0===r?o:r;return I(n).localeCompare(I(a),[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(t){return'Press Enter to add <b>"'.concat(t,'"</b>')},removeItemIconText:function(){return"Remove item"},removeItemLabelText:function(t){return"Remove item: ".concat(t)},maxItemText:function(t){return"Only ".concat(t," values can be added")},valueComparer:function(t,e){return t===e},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:{containerOuter:["choices"],containerInner:["choices__inner"],input:["choices__input"],inputCloned:["choices__input--cloned"],list:["choices__list"],listItems:["choices__list--multiple"],listSingle:["choices__list--single"],listDropdown:["choices__list--dropdown"],item:["choices__item"],itemSelectable:["choices__item--selectable"],itemDisabled:["choices__item--disabled"],itemChoice:["choices__item--choice"],description:["choices__description"],placeholder:["choices__placeholder"],group:["choices__group"],groupHeading:["choices__heading"],button:["choices__button"],activeState:["is-active"],focusState:["is-focused"],openState:["is-open"],disabledState:["is-disabled"],highlightedState:["is-highlighted"],selectedState:["is-selected"],flippedState:["is-flipped"],loadingState:["is-loading"],notice:["choices__notice"],addChoice:["choices__item--selectable","add-choice"],noResults:["has-no-results"],noChoices:["has-no-choices"]},appendGroupInSearch:!1},tt=function(t){var e=t.itemEl;e&&(e.remove(),t.itemEl=void 0)},et={groups:function(t,e){var i=t,s=!0;switch(e.type){case p:i.push(e.group);break;case u:i=[];break;default:s=!1}return{state:i,update:s}},items:function(t,e,i){var s=t,n=!0;switch(e.type){case m:e.item.selected=!0,(o=e.item.element)&&(o.selected=!0,o.setAttribute("selected","")),s.push(e.item);break;case f:var o;if(e.item.selected=!1,o=e.item.element){o.selected=!1,o.removeAttribute("selected");var r=o.parentElement;r&&J(r)&&r.type===_&&(r.value="")}tt(e.item),s=s.filter(function(t){return t.id!==e.item.id});break;case l:tt(e.choice),s=s.filter(function(t){return t.id!==e.choice.id});break;case g:var a=e.highlighted,c=s.find(function(t){return t.id===e.item.id});c&&c.highlighted!==a&&(c.highlighted=a,i&&function(t,e,i){var s=t.itemEl;s&&(z(s,i),$(s,e))}(c,a?i.classNames.highlightedState:i.classNames.selectedState,a?i.classNames.selectedState:i.classNames.highlightedState));break;default:n=!1}return{state:s,update:n}},choices:function(t,e,i){var s=t,n=!0;switch(e.type){case c:s.push(e.choice);break;case l:e.choice.choiceEl=void 0,e.choice.group&&(e.choice.group.choices=e.choice.group.choices.filter(function(t){return t.id!==e.choice.id})),s=s.filter(function(t){return t.id!==e.choice.id});break;case m:case f:e.item.choiceEl=void 0;break;case h:var o=[];e.results.forEach(function(t){o[t.item.id]=t}),s.forEach(function(t){var e=o[t.id];void 0!==e?(t.score=e.score,t.rank=e.rank,t.active=!0):(t.score=0,t.rank=0,t.active=!1),i&&i.appendGroupInSearch&&(t.choiceEl=void 0)});break;case d:s.forEach(function(t){t.active=e.active,i&&i.appendGroupInSearch&&(t.choiceEl=void 0)});break;case u:s=[];break;default:n=!1}return{state:s,update:n}}},it=function(){function t(t){this._state=this.defaultState,this._listeners=[],this._txn=0,this._context=t}return Object.defineProperty(t.prototype,"defaultState",{get:function(){return{groups:[],items:[],choices:[]}},enumerable:!1,configurable:!0}),t.prototype.changeSet=function(t){return{groups:t,items:t,choices:t}},t.prototype.reset=function(){this._state=this.defaultState;var t=this.changeSet(!0);this._txn?this._changeSet=t:this._listeners.forEach(function(e){return e(t)})},t.prototype.subscribe=function(t){return this._listeners.push(t),this},t.prototype.dispatch=function(t){var e=this,i=this._state,s=!1,n=this._changeSet||this.changeSet(!1);Object.keys(et).forEach(function(o){var r=et[o](i[o],t,e._context);r.update&&(s=!0,n[o]=!0,i[o]=r.state)}),s&&(this._txn?this._changeSet=n:this._listeners.forEach(function(t){return t(n)}))},t.prototype.withTxn=function(t){this._txn++;try{t()}finally{if(this._txn=Math.max(0,this._txn-1),!this._txn){var e=this._changeSet;e&&(this._changeSet=void 0,this._listeners.forEach(function(t){return t(e)}))}}},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(t){return t.active&&t.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeChoices",{get:function(){return this.choices.filter(function(t){return t.active})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchableChoices",{get:function(){return this.choices.filter(function(t){return!t.disabled&&!t.placeholder})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeGroups",{get:function(){var t=this;return this.state.groups.filter(function(e){var i=e.active&&!e.disabled,s=t.state.choices.some(function(t){return t.active&&!t.disabled});return i&&s},[])},enumerable:!1,configurable:!0}),t.prototype.inTxn=function(){return this._txn>0},t.prototype.getChoiceById=function(t){return this.activeChoices.find(function(e){return e.id===t})},t.prototype.getGroupById=function(t){return this.groups.find(function(e){return e.id===t})},t}(),st="no-choices",nt="no-results",ot="add-choice";function rt(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function at(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,s)}return i}function ct(t){for(var e=1;arguments.length>e;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?at(Object(i),!0).forEach(function(e){rt(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):at(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function lt(t){return Array.isArray?Array.isArray(t):"[object Array]"===ft(t)}function ht(t){return"string"==typeof t}function dt(t){return"number"==typeof t}function ut(t){return"object"==typeof t}function pt(t){return null!=t}function mt(t){return!t.trim().length}function ft(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const gt=Object.prototype.hasOwnProperty;class vt{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(t=>{let i=yt(t);this._keys.push(i),this._keyMap[i.id]=i,e+=i.weight}),this._keys.forEach(t=>{t.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function yt(t){let e=null,i=null,s=null,n=1,o=null;if(ht(t)||lt(t))s=t,e=bt(t),i=St(t);else{if(!gt.call(t,"name"))throw new Error("Missing name property in key");const r=t.name;if(s=r,gt.call(t,"weight")&&(n=t.weight,0>=n))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(r));e=bt(r),i=St(r),o=t.getFn}return{path:e,id:i,weight:n,src:s,getFn:o}}function bt(t){return lt(t)?t:t.split(".")}function St(t){return lt(t)?t.join("."):t}const _t={useExtendedSearch:!1,getFn:function(t,e){let i=[],s=!1;const n=(t,e,o)=>{if(pt(t))if(e[o]){const r=t[e[o]];if(!pt(r))return;if(o===e.length-1&&(ht(r)||dt(r)||function(t){return!0===t||!1===t||function(t){return ut(t)&&null!==t}(t)&&"[object Boolean]"==ft(t)}(r)))i.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(r));else if(lt(r)){s=!0;for(let t=0,i=r.length;i>t;t+=1)n(r[t],e,o+1)}else e.length&&n(r,e,o+1)}else i.push(t)};return n(t,ht(e)?e.split("."):e,0),s?i:i[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var wt=ct(ct(ct(ct({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),_t);const Et=/[^ ]+/g;class Ct{constructor({getFn:t=wt.getFn,fieldNormWeight:e=wt.fieldNormWeight}={}){this.norm=function(t=1,e=3){const i=new Map,s=Math.pow(10,e);return{get(e){const n=e.match(Et).length;if(i.has(n))return i.get(n);const o=1/Math.pow(n,.5*t),r=parseFloat(Math.round(o*s)/s);return i.set(n,r),r},clear(){i.clear()}}}(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((t,e)=>{this._keysMap[t.id]=e})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,ht(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();ht(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,i=this.size();i>e;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!pt(t)||mt(t))return;let i={v:t,i:e,n:this.norm.get(t)};this.records.push(i)}_addObject(t,e){let i={i:e,$:{}};this.keys.forEach((e,s)=>{let n=e.getFn?e.getFn(t):this.getFn(t,e.path);if(pt(n))if(lt(n)){let t=[];const e=[{nestedArrIndex:-1,value:n}];for(;e.length;){const{nestedArrIndex:i,value:s}=e.pop();if(pt(s))if(ht(s)&&!mt(s)){let e={v:s,i:i,n:this.norm.get(s)};t.push(e)}else lt(s)&&s.forEach((t,i)=>{e.push({nestedArrIndex:i,value:t})})}i.$[s]=t}else if(ht(n)&&!mt(n)){let t={v:n,n:this.norm.get(n)};i.$[s]=t}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function kt(t,e,{getFn:i=wt.getFn,fieldNormWeight:s=wt.fieldNormWeight}={}){const n=new Ct({getFn:i,fieldNormWeight:s});return n.setKeys(t.map(yt)),n.setSources(e),n.create(),n}function Dt(t,{errors:e=0,currentLocation:i=0,expectedLocation:s=0,distance:n=wt.distance,ignoreLocation:o=wt.ignoreLocation}={}){const r=e/t.length;if(o)return r;const a=Math.abs(s-i);return n?r+a/n:a?1:r}const xt=32;function At(t){let e={};for(let i=0,s=t.length;s>i;i+=1){const n=t.charAt(i);e[n]=(e[n]||0)|1<<s-i-1}return e}class Mt{constructor(t,{location:e=wt.location,threshold:i=wt.threshold,distance:s=wt.distance,includeMatches:n=wt.includeMatches,findAllMatches:o=wt.findAllMatches,minMatchCharLength:r=wt.minMatchCharLength,isCaseSensitive:a=wt.isCaseSensitive,ignoreLocation:c=wt.ignoreLocation}={}){if(this.options={location:e,threshold:i,distance:s,includeMatches:n,findAllMatches:o,minMatchCharLength:r,isCaseSensitive:a,ignoreLocation:c},this.pattern=a?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(t,e)=>{this.chunks.push({pattern:t,alphabet:At(t),startIndex:e})},h=this.pattern.length;if(h>xt){let t=0;const e=h%xt,i=h-e;for(;i>t;)l(this.pattern.substr(t,xt),t),t+=xt;if(e){const t=h-xt;l(this.pattern.substr(t),t)}}else l(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:i}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return i&&(e.indices=[[0,t.length-1]]),e}const{location:s,distance:n,threshold:o,findAllMatches:r,minMatchCharLength:a,ignoreLocation:c}=this.options;let l=[],h=0,d=!1;this.chunks.forEach(({pattern:e,alphabet:u,startIndex:p})=>{const{isMatch:m,score:f,indices:g}=function(t,e,i,{location:s=wt.location,distance:n=wt.distance,threshold:o=wt.threshold,findAllMatches:r=wt.findAllMatches,minMatchCharLength:a=wt.minMatchCharLength,includeMatches:c=wt.includeMatches,ignoreLocation:l=wt.ignoreLocation}={}){if(e.length>xt)throw new Error("Pattern length exceeds max of 32.");const h=e.length,d=t.length,u=Math.max(0,Math.min(s,d));let p=o,m=u;const f=a>1||c,g=f?Array(d):[];let v;for(;(v=t.indexOf(e,m))>-1;){let t=Dt(e,{currentLocation:v,expectedLocation:u,distance:n,ignoreLocation:l});if(p=Math.min(t,p),m=v+h,f){let t=0;for(;h>t;)g[v+t]=1,t+=1}}m=-1;let y=[],b=1,S=h+d;const _=1<<h-1;for(let E=0;h>E;E+=1){let s=0,o=S;for(;o>s;)Dt(e,{errors:E,currentLocation:u+o,expectedLocation:u,distance:n,ignoreLocation:l})>p?S=o:s=o,o=Math.floor((S-s)/2+s);S=o;let a=Math.max(1,u-o+1),c=r?d:Math.min(u+o,d)+h,v=Array(c+2);v[c+1]=(1<<E)-1;for(let r=c;r>=a;r-=1){let s=r-1,o=i[t.charAt(s)];if(f&&(g[s]=+!!o),v[r]=(v[r+1]<<1|1)&o,E&&(v[r]|=(y[r+1]|y[r])<<1|1|y[r+1]),v[r]&_&&(b=Dt(e,{errors:E,currentLocation:s,expectedLocation:u,distance:n,ignoreLocation:l}),p>=b)){if(p=b,m=s,u>=m)break;a=Math.max(1,2*u-m)}}if(Dt(e,{errors:E+1,currentLocation:u,expectedLocation:u,distance:n,ignoreLocation:l})>p)break;y=v}const w={isMatch:m>=0,score:Math.max(.001,b)};if(f){const t=function(t=[],e=wt.minMatchCharLength){let i=[],s=-1,n=-1,o=0;for(let r=t.length;r>o;o+=1){let r=t[o];r&&-1===s?s=o:r||-1===s||(n=o-1,e>n-s+1||i.push([s,n]),s=-1)}return t[o-1]&&o-s>=e&&i.push([s,o-1]),i}(g,a);t.length?c&&(w.indices=t):w.isMatch=!1}return w}(t,e,u,{location:s+p,distance:n,threshold:o,findAllMatches:r,minMatchCharLength:a,includeMatches:i,ignoreLocation:c});m&&(d=!0),h+=f,m&&g&&(l=[...l,...g])});let u={isMatch:d,score:d?h/this.chunks.length:1};return d&&i&&(u.indices=l),u}}class Lt{constructor(t){this.pattern=t}static isMultiMatch(t){return Tt(t,this.multiRegex)}static isSingleMatch(t){return Tt(t,this.singleRegex)}search(){}}function Tt(t,e){const i=t.match(e);return i?i[1]:null}class It extends Lt{constructor(t,{location:e=wt.location,threshold:i=wt.threshold,distance:s=wt.distance,includeMatches:n=wt.includeMatches,findAllMatches:o=wt.findAllMatches,minMatchCharLength:r=wt.minMatchCharLength,isCaseSensitive:a=wt.isCaseSensitive,ignoreLocation:c=wt.ignoreLocation}={}){super(t),this._bitapSearch=new Mt(t,{location:e,threshold:i,distance:s,includeMatches:n,findAllMatches:o,minMatchCharLength:r,isCaseSensitive:a,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Ot extends Lt{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,i=0;const s=[],n=this.pattern.length;for(;(e=t.indexOf(this.pattern,i))>-1;)i=e+n,s.push([e,i-1]);const o=!!s.length;return{isMatch:o,score:o?0:1,indices:s}}}const Pt=[class extends Lt{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},Ot,class extends Lt{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends Lt{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends Lt{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends Lt{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends Lt{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},It],Nt=Pt.length,Vt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ft=new Set([It.type,Ot.type]);const Ht=[];function $t(t,e){for(let i=0,s=Ht.length;s>i;i+=1){let s=Ht[i];if(s.condition(t,e))return new s(t,e)}return new Mt(t,e)}const zt="$and",jt="$path",Rt=t=>!(!t[zt]&&!t.$or),Bt=t=>({[zt]:Object.keys(t).map(e=>({[e]:t[e]}))});function Ut(t,e,{auto:i=!0}={}){const s=t=>{let n=Object.keys(t);const o=(t=>!!t[jt])(t);if(!o&&n.length>1&&!Rt(t))return s(Bt(t));if((t=>!lt(t)&&ut(t)&&!Rt(t))(t)){const s=o?t[jt]:n[0],r=o?t.$val:t[s];if(!ht(r))throw new Error((t=>`Invalid value for key ${t}`)(s));const a={keyId:St(s),pattern:r};return i&&(a.searcher=$t(r,e)),a}let r={children:[],operator:n[0]};return n.forEach(e=>{const i=t[e];lt(i)&&i.forEach(t=>{r.children.push(s(t))})}),r};return Rt(t)||(t=Bt(t)),s(t)}function qt(t,e){const i=t.matches;e.matches=[],pt(i)&&i.forEach(t=>{if(!pt(t.indices)||!t.indices.length)return;const{indices:i,value:s}=t;let n={indices:i,value:s};t.key&&(n.key=t.key.src),t.idx>-1&&(n.refIndex=t.idx),e.matches.push(n)})}function Wt(t,e){e.score=t.score}class Kt{constructor(t,e={},i){this.options=ct(ct({},wt),e),this.options.useExtendedSearch,this._keyStore=new vt(this.options.keys),this.setCollection(t,i)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof Ct))throw new Error("Incorrect 'index' type");this._myIndex=e||kt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){pt(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const e=[];for(let i=0,s=this._docs.length;s>i;i+=1){const n=this._docs[i];t(n,i)&&(this.removeAt(i),i-=1,s-=1,e.push(n))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:i,includeScore:s,shouldSort:n,sortFn:o,ignoreFieldNorm:r}=this.options;let a=ht(t)?ht(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=wt.ignoreFieldNorm}){t.forEach(t=>{let i=1;t.matches.forEach(({key:t,norm:s,score:n})=>{const o=t?t.weight:null;i*=Math.pow(0===n&&o?Number.EPSILON:n,(o||1)*(e?1:s))}),t.score=i})}(a,{ignoreFieldNorm:r}),n&&a.sort(o),dt(e)&&e>-1&&(a=a.slice(0,e)),function(t,e,{includeMatches:i=wt.includeMatches,includeScore:s=wt.includeScore}={}){const n=[];return i&&n.push(qt),s&&n.push(Wt),t.map(t=>{const{idx:i}=t,s={item:e[i],refIndex:i};return n.length&&n.forEach(e=>{e(t,s)}),s})}(a,this._docs,{includeMatches:i,includeScore:s})}_searchStringList(t){const e=$t(t,this.options),{records:i}=this._myIndex,s=[];return i.forEach(({v:t,i:i,n:n})=>{if(!pt(t))return;const{isMatch:o,score:r,indices:a}=e.searchIn(t);o&&s.push({item:t,idx:i,matches:[{score:r,value:t,norm:n,indices:a}]})}),s}_searchLogical(t){const e=Ut(t,this.options),i=(t,e,s)=>{if(!t.children){const{keyId:i,searcher:n}=t,o=this._findMatches({key:this._keyStore.get(i),value:this._myIndex.getValueForItemAtKeyId(e,i),searcher:n});return o&&o.length?[{idx:s,item:e,matches:o}]:[]}const n=[];for(let o=0,r=t.children.length;r>o;o+=1){const r=t.children[o],a=i(r,e,s);if(a.length)n.push(...a);else if(t.operator===zt)return[]}return n},s=this._myIndex.records,n={},o=[];return s.forEach(({$:t,i:s})=>{if(pt(t)){let r=i(e,t,s);r.length&&(n[s]||(n[s]={idx:s,item:t,matches:[]},o.push(n[s])),r.forEach(({matches:t})=>{n[s].matches.push(...t)}))}}),o}_searchObjectList(t){const e=$t(t,this.options),{keys:i,records:s}=this._myIndex,n=[];return s.forEach(({$:t,i:s})=>{if(!pt(t))return;let o=[];i.forEach((i,s)=>{o.push(...this._findMatches({key:i,value:t[s],searcher:e}))}),o.length&&n.push({idx:s,item:t,matches:o})}),n}_findMatches({key:t,value:e,searcher:i}){if(!pt(e))return[];let s=[];if(lt(e))e.forEach(({v:e,i:n,n:o})=>{if(!pt(e))return;const{isMatch:r,score:a,indices:c}=i.searchIn(e);r&&s.push({score:a,key:t,value:e,idx:n,norm:o,indices:c})});else{const{v:n,n:o}=e,{isMatch:r,score:a,indices:c}=i.searchIn(n);r&&s.push({score:a,key:t,value:n,norm:o,indices:c})}return s}}Kt.version="7.0.0",Kt.createIndex=kt,Kt.parseIndex=function(t,{getFn:e=wt.getFn,fieldNormWeight:i=wt.fieldNormWeight}={}){const{keys:s,records:n}=t,o=new Ct({getFn:e,fieldNormWeight:i});return o.setKeys(s),o.setIndexRecords(n),o},Kt.config=wt,Kt.parseQuery=Ut,function(...t){Ht.push(...t)}(class{constructor(t,{isCaseSensitive:e=wt.isCaseSensitive,includeMatches:i=wt.includeMatches,minMatchCharLength:s=wt.minMatchCharLength,ignoreLocation:n=wt.ignoreLocation,findAllMatches:o=wt.findAllMatches,location:r=wt.location,threshold:a=wt.threshold,distance:c=wt.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:i,minMatchCharLength:s,findAllMatches:o,ignoreLocation:n,location:r,threshold:a,distance:c},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map(t=>{let i=t.trim().split(Vt).filter(t=>t&&!!t.trim()),s=[];for(let n=0,o=i.length;o>n;n+=1){const t=i[n];let o=!1,r=-1;for(;!o&&++r<Nt;){const i=Pt[r];let n=i.isMultiMatch(t);n&&(s.push(new i(n,e)),o=!0)}if(!o)for(r=-1;++r<Nt;){const i=Pt[r];let n=i.isSingleMatch(t);if(n){s.push(new i(n,e));break}}}return s})}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:s}=this.options;t=s?t:t.toLowerCase();let n=0,o=[],r=0;for(let a=0,c=e.length;c>a;a+=1){const s=e[a];o.length=0,n=0;for(let e=0,a=s.length;a>e;e+=1){const a=s[e],{isMatch:c,indices:l,score:h}=a.search(t);if(!c){r=0,n=0,o.length=0;break}if(n+=1,r+=h,i){const t=a.constructor.type;Ft.has(t)?o=[...o,...l]:o.push(l)}}if(n){let t={isMatch:!0,score:r/n};return i&&(t.indices=o),t}}return{isMatch:!1,score:1}}});var Yt,Gt,Xt,Jt,Qt=function(){function t(t){this._haystack=[],this._fuseOptions=o(o({},t.fuseOptions),{keys:r([],t.searchFields),includeMatches:!0})}return t.prototype.index=function(t){this._haystack=t,this._fuse&&this._fuse.setCollection(t)},t.prototype.reset=function(){this._haystack=[],this._fuse=void 0},t.prototype.isEmptyIndex=function(){return!this._haystack.length},t.prototype.search=function(t){return this._fuse||(this._fuse=new Kt(this._haystack,this._fuseOptions)),this._fuse.search(t).map(function(t,e){return{item:t.item,score:t.score||0,rank:e+1}})},t}(),Zt=function(t,e,i){var s=t.dataset,n=e.customProperties,o=e.labelClass,r=e.labelDescription;o&&(s.labelClass=F(o).join(" ")),r&&(s.labelDescription=r),i&&n&&("string"==typeof n?s.customProperties=n:"object"!=typeof n||function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(n)||(s.customProperties=JSON.stringify(n)))},te=function(t,e,i){var s=e&&t.querySelector("label[for='".concat(e,"']")),n=s&&s.innerText;n&&i.setAttribute("aria-label",n)},ee={containerOuter:function(t,e,i,s,n,o,r){var a=t.classNames.containerOuter,c=document.createElement("div");return $(c,a),c.dataset.type=o,e&&(c.dir=e),s&&(c.tabIndex=0),i&&(c.setAttribute("role",n?"combobox":"listbox"),n?c.setAttribute("aria-autocomplete","list"):r||te(this._docRoot,this.passedElement.element.id,c),c.setAttribute("aria-haspopup","true"),c.setAttribute("aria-expanded","false")),r&&c.setAttribute("aria-labelledby",r),c},containerInner:function(t){var e=t.classNames.containerInner,i=document.createElement("div");return $(i,e),i},itemList:function(t,e){var i=t.searchEnabled,s=t.classNames,n=s.list,o=s.listSingle,r=s.listItems,a=document.createElement("div");return $(a,n),$(a,e?o:r),this._isSelectElement&&i&&a.setAttribute("role","listbox"),a},placeholder:function(t,e){var i=t.allowHTML,s=t.classNames.placeholder,n=document.createElement("div");return $(n,s),N(n,i,e),n},item:function(t,e,i){var s=t.allowHTML,n=t.removeItemButtonAlignLeft,o=t.removeItemIconText,r=t.removeItemLabelText,a=t.classNames,c=a.item,l=a.button,h=a.highlightedState,d=a.itemSelectable,u=a.placeholder,p=I(e.value),m=document.createElement("div");if($(m,c),e.labelClass){var f=document.createElement("span");N(f,s,e.label),$(f,e.labelClass),m.appendChild(f)}else N(m,s,e.label);if(m.dataset.item="",m.dataset.id=e.id,m.dataset.value=p,Zt(m,e,!0),(e.disabled||this.containerOuter.isDisabled)&&m.setAttribute("aria-disabled","true"),this._isSelectElement&&(m.setAttribute("aria-selected","true"),m.setAttribute("role","option")),e.placeholder&&($(m,u),m.dataset.placeholder=""),$(m,e.highlighted?h:d),i){e.disabled&&z(m,d),m.dataset.deletable="";var g=document.createElement("button");g.type="button",$(g,l),N(g,!0,L(o,e.value));var v=L(r,e.value);v&&g.setAttribute("aria-label",v),g.dataset.button="",n?m.insertAdjacentElement("afterbegin",g):m.appendChild(g)}return m},choiceList:function(t,e){var i=t.classNames.list,s=document.createElement("div");return $(s,i),e||s.setAttribute("aria-multiselectable","true"),s.setAttribute("role","listbox"),s},choiceGroup:function(t,e){var i=t.allowHTML,s=t.classNames,n=s.group,o=s.groupHeading,r=s.itemDisabled,a=e.id,c=e.label,l=e.disabled,h=I(c),d=document.createElement("div");$(d,n),l&&$(d,r),d.setAttribute("role","group"),d.dataset.group="",d.dataset.id=a,d.dataset.value=h,l&&d.setAttribute("aria-disabled","true");var u=document.createElement("div");return $(u,o),N(u,i,c||""),d.appendChild(u),d},choice:function(t,e,i,s){var n=t.allowHTML,o=t.classNames,r=o.item,a=o.itemChoice,c=o.itemSelectable,l=o.selectedState,h=o.itemDisabled,d=o.description,u=o.placeholder,p=e.label,m=I(e.value),f=document.createElement("div");f.id=e.elementId,$(f,r),$(f,a),s&&"string"==typeof p&&(p=P(n,p),p={trusted:p+=" (".concat(s,")")});var g=f;if(e.labelClass){var v=document.createElement("span");N(v,n,p),$(v,e.labelClass),g=v,f.appendChild(v)}else N(f,n,p);if(e.labelDescription){var y="".concat(e.elementId,"-description");g.setAttribute("aria-describedby",y);var b=document.createElement("span");N(b,n,e.labelDescription),b.id=y,$(b,d),f.appendChild(b)}return e.selected&&$(f,l),e.placeholder&&$(f,u),f.setAttribute("role",e.group?"treeitem":"option"),f.dataset.choice="",f.dataset.id=e.id,f.dataset.value=m,i&&(f.dataset.selectText=i),e.group&&(f.dataset.groupId="".concat(e.group.id)),Zt(f,e,!1),e.disabled?($(f,h),f.dataset.choiceDisabled="",f.setAttribute("aria-disabled","true")):($(f,c),f.dataset.choiceSelectable=""),f},input:function(t,e){var i=t.classNames,s=i.input,n=i.inputCloned,o=t.labelId,r=document.createElement("input");return r.type="search",$(r,s),$(r,n),r.autocomplete="off",r.autocapitalize="off",r.spellcheck=!1,r.setAttribute("aria-autocomplete","list"),e?r.setAttribute("aria-label",e):o||te(this._docRoot,this.passedElement.element.id,r),r},dropdown:function(t){var e=t.classNames,i=e.list,s=e.listDropdown,n=document.createElement("div");return $(n,i),$(n,s),n.setAttribute("aria-expanded","false"),n},notice:function(t,e,i){var s=t.classNames,n=s.item,o=s.itemChoice,r=s.addChoice,a=s.noResults,c=s.noChoices,l=s.notice;void 0===i&&(i="");var h=document.createElement("div");switch(N(h,!0,e),$(h,n),$(h,o),$(h,l),i){case ot:$(h,r);break;case nt:$(h,a);break;case st:$(h,c)}return i===ot&&(h.dataset.choiceSelectable="",h.dataset.choice=""),h},option:function(t){var e=I(t.label),i=new Option(e,t.value,!1,t.selected);return Zt(i,t,!0),i.disabled=t.disabled,t.selected&&i.setAttribute("selected",""),i}},ie="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,se={},ne=function(t){if(t)return t.dataset.id?parseInt(t.dataset.id,10):void 0},oe="[data-choice-selectable]",re=function(){function t(e,i){void 0===e&&(e="[data-choice]"),void 0===i&&(i={});var s=this;this.initialisedOK=void 0,this._hasNonChoicePlaceholder=!1,this._lastAddedChoiceId=0,this._lastAddedGroupId=0;var n=t.defaults;this.config=o(o(o({},n.allOptions),n.options),i),S.forEach(function(t){s.config[t]=o(o(o({},n.allOptions[t]),n.options[t]),i[t])});var r=this.config;r.silent||this._validateConfig();var a=r.shadowRoot||document.documentElement;this._docRoot=a;var c="string"==typeof e?a.querySelector(e):e;if(!c||"object"!=typeof c||"INPUT"!==c.tagName&&!J(c)){if(!c&&"string"==typeof e)throw TypeError("Selector ".concat(e," failed to find an element"));throw TypeError("Expected one of the following types text|select-one|select-multiple")}var l=c.type,h="text"===l;(h||1!==r.maxItemCount)&&(r.singleModeForMultiSelect=!1),r.singleModeForMultiSelect&&(l=w);var d=l===_,u=l===w,p=d||u;if(this._elementType=l,this._isTextElement=h,this._isSelectOneElement=d,this._isSelectMultipleElement=u,this._isSelectElement=d||u,this._canAddUserChoices=h&&r.addItems||p&&r.addChoices,"boolean"!=typeof r.renderSelectedChoices&&(r.renderSelectedChoices="always"===r.renderSelectedChoices||d),"auto"===r.closeDropdownOnSelect?r.closeDropdownOnSelect=h||d||r.singleModeForMultiSelect:r.closeDropdownOnSelect=Y(r.closeDropdownOnSelect),r.placeholder&&(r.placeholderValue?this._hasNonChoicePlaceholder=!0:c.dataset.placeholder&&(this._hasNonChoicePlaceholder=!0,r.placeholderValue=c.dataset.placeholder)),i.addItemFilter&&"function"!=typeof i.addItemFilter){var m=i.addItemFilter instanceof RegExp?i.addItemFilter:new RegExp(i.addItemFilter);r.addItemFilter=m.test.bind(m)}if(this._isTextElement)this.passedElement=new K({element:c,classNames:r.classNames});else{var f=c;this.passedElement=new Q({element:f,classNames:r.classNames,template:function(t){return s._templates.option(t)},extractPlaceholder:r.placeholder&&!this._hasNonChoicePlaceholder})}if(this.initialised=!1,this._store=new it(r),this._currentValue="",r.searchEnabled=!h&&r.searchEnabled||u,this._canSearch=r.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=function(t){var e=t.id||t.name&&"".concat(t.name,"-").concat(x(2))||x(4);return e=e.replace(/(:|\.|\[|\]|,)/g,""),"".concat("choices-","-").concat(e)}(c),this._direction=c.dir,!this._direction){var g=window.getComputedStyle(c).direction;g!==window.getComputedStyle(document.documentElement).direction&&(this._direction=g)}if(this._idNames={itemChoice:"item-choice"},this._templates=n.templates,this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onInput=this._onInput.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return r.silent,this.initialised=!0,void(this.initialisedOK=!1);this.init(),this._initialItems=this._store.items.map(function(t){return t.value})}return Object.defineProperty(t,"defaults",{get:function(){return Object.preventExtensions({get options(){return se},get allOptions(){return Z},get templates(){return ee}})},enumerable:!1,configurable:!0}),t.prototype.init=function(){if(!this.initialised&&void 0===this.initialisedOK){var t;this._searcher=(t=this.config,new Qt(t)),this._loadChoices(),this._createTemplates(),this._createElements(),this._createStructure(),this._isTextElement&&!this.config.addItems||this.passedElement.element.hasAttribute("disabled")||this.passedElement.element.closest("fieldset:disabled")?this.disable():(this.enable(),this._addEventListeners()),this._initStore(),this.initialised=!0,this.initialisedOK=!0;var e=this.config.callbackOnInit;"function"==typeof e&&e.call(this)}},t.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._store._listeners=[],this.clearStore(!1),this._stopSearch(),this._templates=t.defaults.templates,this.initialised=!1,this.initialisedOK=void 0)},t.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},t.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},t.prototype.highlightItem=function(t,e){if(void 0===e&&(e=!0),!t||!t.id)return this;var i=this._store.items.find(function(e){return e.id===t.id});return!i||i.highlighted||(this._store.dispatch(D(i,!0)),e&&this.passedElement.triggerEvent(b,this._getChoiceForOutput(i))),this},t.prototype.unhighlightItem=function(t,e){if(void 0===e&&(e=!0),!t||!t.id)return this;var i=this._store.items.find(function(e){return e.id===t.id});return i&&i.highlighted?(this._store.dispatch(D(i,!1)),e&&this.passedElement.triggerEvent("unhighlightItem",this._getChoiceForOutput(i)),this):this},t.prototype.highlightAll=function(){var t=this;return this._store.withTxn(function(){t._store.items.forEach(function(e){e.highlighted||(t._store.dispatch(D(e,!0)),t.passedElement.triggerEvent(b,t._getChoiceForOutput(e)))})}),this},t.prototype.unhighlightAll=function(){var t=this;return this._store.withTxn(function(){t._store.items.forEach(function(e){e.highlighted&&(t._store.dispatch(D(e,!1)),t.passedElement.triggerEvent(b,t._getChoiceForOutput(e)))})}),this},t.prototype.removeActiveItemsByValue=function(t){var e=this;return this._store.withTxn(function(){e._store.items.filter(function(e){return e.value===t}).forEach(function(t){return e._removeItem(t)})}),this},t.prototype.removeActiveItems=function(t){var e=this;return this._store.withTxn(function(){e._store.items.filter(function(e){return e.id!==t}).forEach(function(t){return e._removeItem(t)})}),this},t.prototype.removeHighlightedItems=function(t){var e=this;return void 0===t&&(t=!1),this._store.withTxn(function(){e._store.highlightedActiveItems.forEach(function(i){e._removeItem(i),t&&e._triggerChange(i.value)})}),this},t.prototype.showDropdown=function(t){var e=this;return this.dropdown.isActive||(void 0===t&&(t=!this._canSearch),requestAnimationFrame(function(){e.dropdown.show();var i=e.dropdown.element.getBoundingClientRect();e.containerOuter.open(i.bottom,i.height),t||e.input.focus(),e.passedElement.triggerEvent("showDropdown")})),this},t.prototype.hideDropdown=function(t){var e=this;return this.dropdown.isActive?(requestAnimationFrame(function(){e.dropdown.hide(),e.containerOuter.close(),!t&&e._canSearch&&(e.input.removeActiveDescendant(),e.input.blur()),e.passedElement.triggerEvent("hideDropdown")}),this):this},t.prototype.getValue=function(t){var e=this,i=this._store.items.map(function(i){return t?i.value:e._getChoiceForOutput(i)});return this._isSelectOneElement||this.config.singleModeForMultiSelect?i[0]:i},t.prototype.setValue=function(t){var e=this;return this.initialisedOK?(this._store.withTxn(function(){t.forEach(function(t){t&&e._addChoice(X(t,!1))})}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setValue"),this)},t.prototype.setChoiceByValue=function(t){var e=this;return this.initialisedOK?(this._isTextElement||(this._store.withTxn(function(){(Array.isArray(t)?t:[t]).forEach(function(t){return e._findAndSelectChoiceByValue(t)}),e.unhighlightAll()}),this._searcher.reset()),this):(this._warnChoicesInitFailed("setChoiceByValue"),this)},t.prototype.setChoices=function(t,e,i,s,n,r){var a=this;if(void 0===t&&(t=[]),void 0===e&&(e="value"),void 0===i&&(i="label"),void 0===s&&(s=!1),void 0===n&&(n=!0),void 0===r&&(r=!1),!this.initialisedOK)return this._warnChoicesInitFailed("setChoices"),this;if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!=typeof e||!e)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if("function"==typeof t){var c=t(this);if("function"==typeof Promise&&c instanceof Promise)return new Promise(function(t){return requestAnimationFrame(t)}).then(function(){return a._handleLoadingState(!0)}).then(function(){return c}).then(function(t){return a.setChoices(t,e,i,s,n,r)}).catch(function(t){a.config.silent}).then(function(){return a._handleLoadingState(!1)}).then(function(){return a});if(!Array.isArray(c))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof c));return this.setChoices(c,e,i,!1)}if(!Array.isArray(t))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._store.withTxn(function(){n&&(a._isSearching=!1),s&&a.clearChoices(!0,r);var c="value"===e,l="label"===i;t.forEach(function(t){if("choices"in t){var s=t;l||(s=o(o({},s),{label:s[i]})),a._addGroup(X(s,!0))}else{var n=t;l&&c||(n=o(o({},n),{value:n[e],label:n[i]}));var r=X(n,!1);a._addChoice(r),r.placeholder&&!a._hasNonChoicePlaceholder&&(a._placeholderValue=O(r.label))}}),a.unhighlightAll()}),this._searcher.reset(),this},t.prototype.refresh=function(t,e,i){var s=this;return void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===i&&(i=!1),this._isSelectElement?(this._store.withTxn(function(){var n=s.passedElement.optionsAsChoices(),o={};i||s._store.items.forEach(function(t){t.id&&t.active&&t.selected&&(o[t.value]=!0)}),s.clearStore(!1);var r=function(t){i?s._store.dispatch(k(t)):o[t.value]&&(t.selected=!0)};n.forEach(function(t){"choices"in t?t.choices.forEach(r):r(t)}),s._addPredefinedChoices(n,e,t),s._isSearching&&s._searchChoices(s.input.value)}),this):(this.config.silent,this)},t.prototype.removeChoice=function(t){var e=this._store.choices.find(function(e){return e.value===t});return e?(this._clearNotice(),this._store.dispatch(function(t){return{type:l,choice:t}}(e)),this._searcher.reset(),e.selected&&this.passedElement.triggerEvent(y,this._getChoiceForOutput(e)),this):this},t.prototype.clearChoices=function(t,e){var i=this;return void 0===t&&(t=!0),void 0===e&&(e=!1),t&&(e?this.passedElement.element.replaceChildren(""):this.passedElement.element.querySelectorAll(":not([selected])").forEach(function(t){t.remove()})),this.itemList.element.replaceChildren(""),this.choiceList.element.replaceChildren(""),this._clearNotice(),this._store.withTxn(function(){var t=e?[]:i._store.items;i._store.reset(),t.forEach(function(t){i._store.dispatch(E(t)),i._store.dispatch(C(t))})}),this._searcher.reset(),this},t.prototype.clearStore=function(t){return void 0===t&&(t=!0),this.clearChoices(t,!0),this._stopSearch(),this._lastAddedChoiceId=0,this._lastAddedGroupId=0,this},t.prototype.clearInput=function(){var t=!this._isSelectOneElement;return this.input.clear(t),this._stopSearch(),this},t.prototype._validateConfig=function(){var t,e,i,s,n=this.config;(t=n,e=Z,i=Object.keys(t).sort(),s=Object.keys(e).sort(),i.filter(function(t){return 0>s.indexOf(t)})).length,n.allowHTML&&n.allowHtmlUserInput&&(n.addItems,n.addChoices)},t.prototype._render=function(t){void 0===t&&(t={choices:!0,groups:!0,items:!0}),this._store.inTxn()||(this._isSelectElement&&(t.choices||t.groups)&&this._renderChoices(),t.items&&this._renderItems())},t.prototype._renderChoices=function(){var t=this;if(this._canAddItems()){var e=this.config,i=this._isSearching,s=this._store,n=s.activeGroups,o=s.activeChoices,r=0;if(i&&e.searchResultLimit>0?r=e.searchResultLimit:e.renderChoiceLimit>0&&(r=e.renderChoiceLimit),this._isSelectElement){var a=o.filter(function(t){return!t.element});a.length&&this.passedElement.addOptions(a)}var c=document.createDocumentFragment(),l=function(t){return t.filter(function(t){return!t.placeholder&&(i?!!t.rank:e.renderSelectedChoices||!t.selected)})},h=!1,d=function(s,n,o){i?s.sort(V):e.shouldSort&&s.sort(e.sorter);var a=s.length;a=!n&&r&&a>r?r:a,a--,s.every(function(s,n){var r=s.choiceEl||t._templates.choice(e,s,e.itemSelectText,o);return s.choiceEl=r,c.appendChild(r),!i&&s.selected||(h=!0),a>n})};o.length&&(e.resetScrollPosition&&requestAnimationFrame(function(){return t.choiceList.scrollToTop()}),this._hasNonChoicePlaceholder||i||!this._isSelectOneElement||d(o.filter(function(t){return t.placeholder&&!t.group}),!1,void 0),n.length&&!i?(e.shouldSort&&n.sort(e.sorter),d(o.filter(function(t){return!t.placeholder&&!t.group}),!1,void 0),n.forEach(function(s){var n=l(s.choices);if(n.length){if(s.label){var o=s.groupEl||t._templates.choiceGroup(t.config,s);s.groupEl=o,o.remove(),c.appendChild(o)}d(n,!0,e.appendGroupInSearch&&i?s.label:void 0)}})):d(l(o),!1,void 0)),h||!i&&c.children.length&&e.renderSelectedChoices||(this._notice||(this._notice={text:T(i?e.noResultsText:e.noChoicesText),type:i?nt:st}),c.replaceChildren("")),this._renderNotice(c),this.choiceList.element.replaceChildren(c),h&&this._highlightChoice()}},t.prototype._renderItems=function(){var t=this,e=this._store.items||[],i=this.itemList.element,s=this.config,n=document.createDocumentFragment(),o=function(t){return i.querySelector('[data-item][data-id="'.concat(t.id,'"]'))},r=function(e){var i=e.itemEl;i&&i.parentElement||(i=o(e)||t._templates.item(s,e,s.removeItemButton),e.itemEl=i,n.appendChild(i))};e.forEach(r);var a=!!n.childNodes.length;if(this._isSelectOneElement){var c=i.children.length;if(a||c>1){var l=i.querySelector(H(s.classNames.placeholder));l&&l.remove()}else a||c||!this._placeholderValue||(a=!0,r(X({selected:!0,value:"",label:this._placeholderValue,placeholder:!0},!1)))}a&&(i.append(n),s.shouldSortItems&&!this._isSelectOneElement&&(e.sort(s.sorter),e.forEach(function(t){var e=o(t);e&&(e.remove(),n.append(e))}),i.append(n))),this._isTextElement&&(this.passedElement.value=e.map(function(t){return t.value}).join(s.delimiter))},t.prototype._displayNotice=function(t,e,i){void 0===i&&(i=!0);var s=this._notice;s&&(s.type===e&&s.text===t||s.type===ot&&(e===nt||e===st))?i&&this.showDropdown(!0):(this._clearNotice(),this._notice=t?{text:t,type:e}:void 0,this._renderNotice(),i&&t&&this.showDropdown(!0))},t.prototype._clearNotice=function(){if(this._notice){var t=this.choiceList.element.querySelector(H(this.config.classNames.notice));t&&t.remove(),this._notice=void 0}},t.prototype._renderNotice=function(t){var e=this._notice;if(e){var i=this._templates.notice(this.config,e.text,e.type);t?t.append(i):this.choiceList.prepend(i)}},t.prototype._getChoiceForOutput=function(t,e){return{id:t.id,highlighted:t.highlighted,labelClass:t.labelClass,labelDescription:t.labelDescription,customProperties:t.customProperties,disabled:t.disabled,active:t.active,label:t.label,placeholder:t.placeholder,value:t.value,groupValue:t.group?t.group.label:void 0,element:t.element,keyCode:e}},t.prototype._triggerChange=function(t){null!=t&&this.passedElement.triggerEvent("change",{value:t})},t.prototype._handleButtonAction=function(t){var e=this,i=this._store.items;if(i.length&&this.config.removeItems&&this.config.removeItemButton){var s=t&&ne(t.parentElement),n=s&&i.find(function(t){return t.id===s});n&&this._store.withTxn(function(){if(e._removeItem(n),e._triggerChange(n.value),e._isSelectOneElement&&!e._hasNonChoicePlaceholder){var t=(e.config.shouldSort?e._store.choices.reverse():e._store.choices).find(function(t){return t.placeholder});t&&(e._addItem(t),e.unhighlightAll(),t.value&&e._triggerChange(t.value))}})}},t.prototype._handleItemAction=function(t,e){var i=this;void 0===e&&(e=!1);var s=this._store.items;if(s.length&&this.config.removeItems&&!this._isSelectOneElement){var n=ne(t);n&&(s.forEach(function(t){t.id!==n||t.highlighted?!e&&t.highlighted&&i.unhighlightItem(t):i.highlightItem(t)}),this.input.focus())}},t.prototype._handleChoiceAction=function(t){var e=this,i=ne(t),s=i&&this._store.getChoiceById(i);if(!s||s.disabled)return!1;var n=this.dropdown.isActive;if(!s.selected){if(!this._canAddItems())return!0;this._store.withTxn(function(){e._addItem(s,!0,!0),e.clearInput(),e.unhighlightAll()}),this._triggerChange(s.value)}return n&&this.config.closeDropdownOnSelect&&(this.hideDropdown(!0),this.containerOuter.element.focus()),!0},t.prototype._handleBackspace=function(t){var e=this.config;if(e.removeItems&&t.length){var i=t[t.length-1],s=t.some(function(t){return t.highlighted});e.editItems&&!s&&i?(this.input.value=i.value,this.input.setWidth(),this._removeItem(i),this._triggerChange(i.value)):(s||this.highlightItem(i,!1),this.removeHighlightedItems(!0))}},t.prototype._loadChoices=function(){var t,e=this,i=this.config;if(this._isTextElement){if(this._presetChoices=i.items.map(function(t){return X(t,!1)}),this.passedElement.value){var s=this.passedElement.value.split(i.delimiter).map(function(t){return X(t,!1,e.config.allowHtmlUserInput)});this._presetChoices=this._presetChoices.concat(s)}this._presetChoices.forEach(function(t){t.selected=!0})}else if(this._isSelectElement){this._presetChoices=i.choices.map(function(t){return X(t,!0)});var n=this.passedElement.optionsAsChoices();n&&(t=this._presetChoices).push.apply(t,n)}},t.prototype._handleLoadingState=function(t){void 0===t&&(t=!0);var e=this.itemList.element;t?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?e.replaceChildren(this._templates.placeholder(this.config,this.config.loadingText)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?(e.replaceChildren(""),this._render()):this.input.placeholder=this._placeholderValue||"")},t.prototype._handleSearch=function(t){if(this.input.isFocussed)if(null==t||t.length<this.config.searchFloor)this._store.choices.some(function(t){return!t.active})&&this._stopSearch();else{var e=this.config.searchChoices?this._searchChoices(t):0;null!==e&&this.passedElement.triggerEvent(v,{value:t,resultCount:e})}},t.prototype._canAddItems=function(){var t=this.config,e=t.maxItemCount,i=t.maxItemText;return t.singleModeForMultiSelect||0>=e||e>this._store.items.length?(this._notice&&this._notice.type===ot&&this._clearNotice(),!0):(this.choiceList.element.replaceChildren(""),this._notice=void 0,this._displayNotice("function"==typeof i?i(e):i,ot),!1)},t.prototype._canCreateItem=function(t){var e=this.config,i=!0,s="";if(i&&"function"==typeof e.addItemFilter&&!e.addItemFilter(t)&&(i=!1,s=L(e.customAddItemText,t)),i&&this._store.choices.find(function(i){return e.valueComparer(i.value,t)})){if(this._isSelectElement)return this._displayNotice("",ot),!1;e.duplicateItemsAllowed||(i=!1,s=L(e.uniqueItemText,t))}return i&&(s=L(e.addItemText,t)),s&&this._displayNotice(s,ot),i},t.prototype._searchChoices=function(t){var e=t.trim().replace(/\s{2,}/," ");if(!e.length||e===this._currentValue)return null;var i=this._searcher;i.isEmptyIndex()&&i.index(this._store.searchableChoices);var s=i.search(e);this._currentValue=e,this._highlightPosition=0,this._isSearching=!0;var n=this._notice;return(n&&n.type)!==ot&&(s.length?this._clearNotice():this._displayNotice(T(this.config.noResultsText),nt)),this._store.dispatch(function(t){return{type:h,results:t}}(s)),s.length},t.prototype._stopSearch=function(){this._isSearching&&(this._currentValue="",this._isSearching=!1,this._clearNotice(),this._store.dispatch({type:d,active:!0}),this.passedElement.triggerEvent(v,{value:"",resultCount:0}))},t.prototype._addEventListeners=function(){var t=this._docRoot,e=this.containerOuter.element,i=this.input.element;t.addEventListener("touchend",this._onTouchEnd,!0),e.addEventListener("keydown",this._onKeyDown,!0),e.addEventListener("mousedown",this._onMouseDown,!0),t.addEventListener("click",this._onClick,{passive:!0}),t.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(e.addEventListener("focus",this._onFocus,{passive:!0}),e.addEventListener("blur",this._onBlur,{passive:!0})),i.addEventListener("keyup",this._onKeyUp,{passive:!0}),i.addEventListener("input",this._onInput,{passive:!0}),i.addEventListener("focus",this._onFocus,{passive:!0}),i.addEventListener("blur",this._onBlur,{passive:!0}),i.form&&i.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},t.prototype._removeEventListeners=function(){var t=this._docRoot,e=this.containerOuter.element,i=this.input.element;t.removeEventListener("touchend",this._onTouchEnd,!0),e.removeEventListener("keydown",this._onKeyDown,!0),e.removeEventListener("mousedown",this._onMouseDown,!0),t.removeEventListener("click",this._onClick),t.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)),i.removeEventListener("keyup",this._onKeyUp),i.removeEventListener("input",this._onInput),i.removeEventListener("focus",this._onFocus),i.removeEventListener("blur",this._onBlur),i.form&&i.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},t.prototype._onKeyDown=function(t){var e=t.keyCode,i=this.dropdown.isActive,s=1===t.key.length||2===t.key.length&&t.key.charCodeAt(0)>=55296||"Unidentified"===t.key;switch(this._isTextElement||i||27===e||9===e||16===e||(this.showDropdown(),!this.input.isFocussed&&s&&(this.input.value+=t.key," "===t.key&&t.preventDefault())),e){case 65:return this._onSelectKey(t,this.itemList.element.hasChildNodes());case 13:return this._onEnterKey(t,i);case 27:return this._onEscapeKey(t,i);case 38:case 33:case 40:case 34:return this._onDirectionKey(t,i);case 8:case 46:return this._onDeleteKey(t,this._store.items,this.input.isFocussed)}},t.prototype._onKeyUp=function(){this._canSearch=this.config.searchEnabled},t.prototype._onInput=function(){var t=this.input.value;t?this._canAddItems()&&(this._canSearch&&this._handleSearch(t),this._canAddUserChoices&&(this._canCreateItem(t),this._isSelectElement&&(this._highlightPosition=0,this._highlightChoice()))):this._isTextElement?this.hideDropdown(!0):this._stopSearch()},t.prototype._onSelectKey=function(t,e){(t.ctrlKey||t.metaKey)&&e&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())},t.prototype._onEnterKey=function(t,e){var i=this,s=this.input.value,n=t.target;if(t.preventDefault(),n&&n.hasAttribute("data-button"))this._handleButtonAction(n);else if(e){var o=this.dropdown.element.querySelector(H(this.config.classNames.highlightedState));if(!o||!this._handleChoiceAction(o))if(n&&s){if(this._canAddItems()){var r=!1;this._store.withTxn(function(){if(!(r=i._findAndSelectChoiceByValue(s,!0))){if(!i._canAddUserChoices)return;if(!i._canCreateItem(s))return;i._addChoice(X(s,!1,i.config.allowHtmlUserInput),!0,!0),r=!0}i.clearInput(),i.unhighlightAll()}),r&&(this._triggerChange(s),this.config.closeDropdownOnSelect&&this.hideDropdown(!0))}}else this.hideDropdown(!0)}else(this._isSelectElement||this._notice)&&this.showDropdown()},t.prototype._onEscapeKey=function(t,e){e&&(t.stopPropagation(),this.hideDropdown(!0),this._stopSearch(),this.containerOuter.element.focus())},t.prototype._onDirectionKey=function(t,e){var i,s,n,o=t.keyCode;if(e||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var r=40===o||34===o?1:-1,a=void 0;if(t.metaKey||34===o||33===o)a=r>0?this.dropdown.element.querySelector("".concat(oe,":last-of-type")):this.dropdown.element.querySelector(oe);else{var c=this.dropdown.element.querySelector(H(this.config.classNames.highlightedState));a=c?function(t,e,i){void 0===i&&(i=1);for(var s="".concat(i>0?"next":"previous","ElementSibling"),n=t[s];n;){if(n.matches(e))return n;n=n[s]}return null}(c,oe,r):this.dropdown.element.querySelector(oe)}a&&(i=a,s=this.choiceList.element,void 0===(n=r)&&(n=1),(n>0?s.scrollTop+s.offsetHeight>=i.offsetTop+i.offsetHeight:i.offsetTop>=s.scrollTop)||this.choiceList.scrollToChildElement(a,r),this._highlightChoice(a)),t.preventDefault()}},t.prototype._onDeleteKey=function(t,e,i){this._isSelectOneElement||t.target.value||!i||(this._handleBackspace(e),t.preventDefault())},t.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},t.prototype._onTouchEnd=function(t){var e=(t||t.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(e)&&((e===this.containerOuter.element||e===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),t.stopPropagation()),this._wasTap=!0},t.prototype._onMouseDown=function(t){var e=t.target;if(e instanceof HTMLElement){if(ie&&this.choiceList.element.contains(e)){var i=this.choiceList.element.firstElementChild;this._isScrollingOnIe="ltr"===this._direction?t.offsetX>=i.offsetWidth:t.offsetX<i.offsetLeft}if(e!==this.input.element){var s=e.closest("[data-button],[data-item],[data-choice]");s instanceof HTMLElement&&("button"in s.dataset?this._handleButtonAction(s):"item"in s.dataset?this._handleItemAction(s,t.shiftKey):"choice"in s.dataset&&this._handleChoiceAction(s)),t.preventDefault()}}},t.prototype._onMouseOver=function(t){var e=t.target;e instanceof HTMLElement&&"choice"in e.dataset&&this._highlightChoice(e)},t.prototype._onClick=function(t){var e=t.target,i=this.containerOuter;i.element.contains(e)?this.dropdown.isActive||i.isDisabled?this._isSelectOneElement&&e!==this.input.element&&!this.dropdown.element.contains(e)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),i.element.focus()):(i.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll())},t.prototype._onFocus=function(t){var e=t.target,i=this.containerOuter;if(e&&i.element.contains(e)){var s=e===this.input.element;this._isTextElement?s&&i.addFocusState():this._isSelectMultipleElement?s&&(this.showDropdown(!0),i.addFocusState()):(i.addFocusState(),s&&this.showDropdown(!0))}},t.prototype._onBlur=function(t){var e=t.target,i=this.containerOuter;e&&i.element.contains(e)&&!this._isScrollingOnIe?e===this.input.element?(i.removeFocusState(),this.hideDropdown(!0),(this._isTextElement||this._isSelectMultipleElement)&&this.unhighlightAll()):e===this.containerOuter.element&&(i.removeFocusState(),this._canSearch||this.hideDropdown(!0)):(this._isScrollingOnIe=!1,this.input.element.focus())},t.prototype._onFormReset=function(){var t=this;this._store.withTxn(function(){t.clearInput(),t.hideDropdown(),t.refresh(!1,!1,!0),t._initialItems.length&&t.setChoiceByValue(t._initialItems)})},t.prototype._highlightChoice=function(t){void 0===t&&(t=null);var e=Array.from(this.dropdown.element.querySelectorAll(oe));if(e.length){var i=t,s=this.config.classNames.highlightedState;Array.from(this.dropdown.element.querySelectorAll(H(s))).forEach(function(t){z(t,s),t.setAttribute("aria-selected","false")}),i?this._highlightPosition=e.indexOf(i):(i=e.length>this._highlightPosition?e[this._highlightPosition]:e[e.length-1])||(i=e[0]),$(i,s),i.setAttribute("aria-selected","true"),this.passedElement.triggerEvent("highlightChoice",{el:i}),this.dropdown.isActive&&(this.input.setActiveDescendant(i.id),this.containerOuter.setActiveDescendant(i.id))}},t.prototype._addItem=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!1),!t.id)throw new TypeError("item.id must be set before _addItem is called for a choice/item");(this.config.singleModeForMultiSelect||this._isSelectOneElement)&&this.removeActiveItems(t.id),this._store.dispatch(C(t)),e&&(this.passedElement.triggerEvent("addItem",this._getChoiceForOutput(t)),i&&this.passedElement.triggerEvent("choice",this._getChoiceForOutput(t)))},t.prototype._removeItem=function(t){if(t.id){this._store.dispatch(k(t));var e=this._notice;e&&e.type===st&&this._clearNotice(),this.passedElement.triggerEvent(y,this._getChoiceForOutput(t))}},t.prototype._addChoice=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!1),t.id)throw new TypeError("Can not re-add a choice which has already been added");var s=this.config;if(s.duplicateItemsAllowed||!this._store.choices.find(function(e){return s.valueComparer(e.value,t.value)})){this._lastAddedChoiceId++,t.id=this._lastAddedChoiceId,t.elementId="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(t.id);var n=s.prependValue,o=s.appendValue;n&&(t.value=n+t.value),o&&(t.value+=o.toString()),(n||o)&&t.element&&(t.element.value=t.value),this._clearNotice(),this._store.dispatch(E(t)),t.selected&&this._addItem(t,e,i)}},t.prototype._addGroup=function(t,e){var i=this;if(void 0===e&&(e=!0),t.id)throw new TypeError("Can not re-add a group which has already been added");this._store.dispatch(function(t){return{type:p,group:t}}(t)),t.choices&&(this._lastAddedGroupId++,t.id=this._lastAddedGroupId,t.choices.forEach(function(s){s.group=t,t.disabled&&(s.disabled=!0),i._addChoice(s,e)}))},t.prototype._createTemplates=function(){var t=this,e=this.config.callbackOnCreateTemplates,i={};"function"==typeof e&&(i=e.call(this,M,P,F));var s={};Object.keys(this._templates).forEach(function(e){s[e]=e in i?i[e].bind(t):t._templates[e].bind(t)}),this._templates=s},t.prototype._createElements=function(){var t=this._templates,e=this.config,i=this._isSelectOneElement,s=e.position,n=e.classNames,o=this._elementType;this.containerOuter=new B({element:t.containerOuter(e,this._direction,this._isSelectElement,i,e.searchEnabled,o,e.labelId),classNames:n,type:o,position:s}),this.containerInner=new B({element:t.containerInner(e),classNames:n,type:o,position:s}),this.input=new U({element:t.input(e,this._placeholderValue),classNames:n,type:o,preventPaste:!e.paste}),this.choiceList=new q({element:t.choiceList(e,i)}),this.itemList=new q({element:t.itemList(e,i)}),this.dropdown=new R({element:t.dropdown(e),classNames:n,type:o})},t.prototype._createStructure=function(){var t=this,e=t.containerInner,i=t.containerOuter,s=t.passedElement,n=this.dropdown.element;s.conceal(),e.wrap(s.element),i.wrap(e.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":(this._placeholderValue&&(this.input.placeholder=this._placeholderValue),this.input.setWidth()),i.element.appendChild(e.element),i.element.appendChild(n),e.element.appendChild(this.itemList.element),n.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&n.insertBefore(this.input.element,n.firstChild):e.element.appendChild(this.input.element),this._highlightPosition=0,this._isSearching=!1},t.prototype._initStore=function(){var t=this;this._store.subscribe(this._render).withTxn(function(){t._addPredefinedChoices(t._presetChoices,t._isSelectOneElement&&!t._hasNonChoicePlaceholder,!1)}),(!this._store.choices.length||this._isSelectOneElement&&this._hasNonChoicePlaceholder)&&this._render()},t.prototype._addPredefinedChoices=function(t,e,i){var s=this;void 0===e&&(e=!1),void 0===i&&(i=!0),e&&-1===t.findIndex(function(t){return t.selected})&&t.some(function(t){return!t.disabled&&!("choices"in t)&&(t.selected=!0,!0)}),t.forEach(function(t){"choices"in t?s._isSelectElement&&s._addGroup(t,i):s._addChoice(t,i)})},t.prototype._findAndSelectChoiceByValue=function(t,e){var i=this;void 0===e&&(e=!1);var s=this._store.choices.find(function(e){return i.config.valueComparer(e.value,t)});return!(!s||s.disabled||s.selected||(this._addItem(s,!0,e),0))},t.prototype._generatePlaceholderValue=function(){var t=this.config;if(!t.placeholder)return null;if(this._hasNonChoicePlaceholder)return t.placeholderValue;if(this._isSelectElement){var e=this.passedElement.placeholderOption;return e?e.text:null}return null},t.prototype._warnChoicesInitFailed=function(t){if(!this.config.silent){if(!this.initialised)throw new TypeError("".concat(t," called on a non-initialised instance of Choices"));if(!this.initialisedOK)throw new TypeError("".concat(t," called for an element which has multiple instances of Choices initialised on it"))}},t.version="11.1.0",t}();function ae(t){return"object"==typeof t&&"function"==typeof t.to}function ce(t){t.parentElement.removeChild(t)}function le(t){return null!=t}function he(t){t.preventDefault()}function de(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function ue(t,e,i){i>0&&(ge(t,e),setTimeout(function(){ve(t,e)},i))}function pe(t){return Math.max(Math.min(t,100),0)}function me(t){return Array.isArray(t)?t:[t]}function fe(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function ge(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function ve(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function ye(t){var e=void 0!==window.pageXOffset,i="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:i?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:i?t.documentElement.scrollTop:t.body.scrollTop}}function be(t,e){return 100/(e-t)}function Se(t,e,i){return 100*e/(t[i+1]-t[i])}function _e(t,e){for(var i=1;t>=e[i];)i+=1;return i}(Gt=Yt||(Yt={})).Range="range",Gt.Steps="steps",Gt.Positions="positions",Gt.Count="count",Gt.Values="values",(Jt=Xt||(Xt={}))[Jt.None=-1]="None",Jt[Jt.NoValue=0]="NoValue",Jt[Jt.LargeValue=1]="LargeValue",Jt[Jt.SmallValue=2]="SmallValue";var we=function(){function t(t,e,i){var s;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=e;var n=[];for(Object.keys(t).forEach(function(e){n.push([me(t[e]),e])}),n.sort(function(t,e){return t[0][0]-e[0][0]}),s=0;s<n.length;s++)this.handleEntryPoint(n[s][1],n[s][0]);for(this.xNumSteps=this.xSteps.slice(0),s=0;s<this.xNumSteps.length;s++)this.handleStepPoint(s,this.xNumSteps[s])}return t.prototype.getDistance=function(t){for(var e=[],i=0;i<this.xNumSteps.length-1;i++)e[i]=Se(this.xVal,t,i);return e},t.prototype.getAbsoluteDistance=function(t,e,i){var s,n=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[n+1];)n++;else t===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);i||t!==this.xPct[n+1]||n++,null===e&&(e=[]);var o=1,r=e[n],a=0,c=0,l=0,h=0;for(s=i?(t-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):(this.xPct[n+1]-t)/(this.xPct[n+1]-this.xPct[n]);r>0;)a=this.xPct[n+1+h]-this.xPct[n+h],e[n+h]*o+100-100*s>100?(c=a*s,o=(r-100*s)/e[n+h],s=1):(c=e[n+h]*a/100*o,o=0),i?(l-=c,1>this.xPct.length+h||h--):(l+=c,1>this.xPct.length-h||h++),r=e[n+h]*o;return t+l},t.prototype.toStepping=function(t){return function(t,e,i){if(i>=t.slice(-1)[0])return 100;var s=_e(i,t),n=t[s-1],o=t[s],r=e[s-1],a=e[s];return r+function(t,e){return Se(t,0>t[0]?e+Math.abs(t[0]):e-t[0],0)}([n,o],i)/be(r,a)}(this.xVal,this.xPct,t)},t.prototype.fromStepping=function(t){return function(t,e,i){if(i>=100)return t.slice(-1)[0];var s=_e(i,e),n=t[s-1],o=t[s],r=e[s-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([n,o],(i-r)*be(r,e[s]))}(this.xVal,this.xPct,t)},t.prototype.getStep=function(t){return function(t,e,i,s){if(100===s)return s;var n=_e(s,t),o=t[n-1],r=t[n];return i?s-o>(r-o)/2?r:o:e[n-1]?t[n-1]+function(t,e){return Math.round(t/e)*e}(s-t[n-1],e[n-1]):s}(this.xPct,this.xSteps,this.snap,t)},t.prototype.getDefaultStep=function(t,e,i){var s=_e(t,this.xPct);return(100===t||e&&t===this.xPct[s-1])&&(s=Math.max(s-1,1)),(this.xVal[s]-this.xVal[s-1])/i},t.prototype.getNearbySteps=function(t){var e=_e(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},t.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(fe);return Math.max.apply(null,t)},t.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},t.prototype.convert=function(t){return this.getStep(this.toStepping(t))},t.prototype.handleEntryPoint=function(t,e){var i;if(!de(i="min"===t?0:"max"===t?100:parseFloat(t))||!de(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(i),this.xVal.push(e[0]);var s=Number(e[1]);i?this.xSteps.push(!isNaN(s)&&s):isNaN(s)||(this.xSteps[0]=s),this.xHighestCompleteStep.push(0)},t.prototype.handleStepPoint=function(t,e){if(e)if(this.xVal[t]!==this.xVal[t+1]){this.xSteps[t]=Se([this.xVal[t],this.xVal[t+1]],e,0)/be(this.xPct[t],this.xPct[t+1]);var i=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],s=Math.ceil(Number(i.toFixed(3))-1),n=this.xVal[t]+this.xNumSteps[t]*s;this.xHighestCompleteStep[t]=n}else this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t]},t}(),Ee={to:function(t){return void 0===t?"":t.toFixed(2)},from:Number},Ce={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},ke=".__tooltips",De=".__aria";function xe(t,e){if(!de(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function Ae(t,e){if(!de(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function Me(t,e){if(!de(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");t.keyboardMultiplier=e}function Le(t,e){if(!de(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function Te(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new we(e,t.snap||!1,t.singleStep)}function Ie(t,e){if(e=me(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function Oe(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.");t.snap=e}function Pe(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.");t.animate=e}function Ne(t,e){if("number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.");t.animationDuration=e}function Ve(t,e){var i,s=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(i=1;i<t.handles;i++)s.push(e);s.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");s=e}t.connect=s}function Fe(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function He(t,e){if(!de(e))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function $e(t,e){if(!de(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||2>t.handles)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function ze(t,e){var i;if(!de(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!de(e[0])&&!de(e[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],i=0;i<t.spectrum.xNumSteps.length-1;i++)if(0>t.padding[0][i]||0>t.padding[1][i])throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var s=e[0]+e[1],n=t.spectrum.xVal[0];if(s/(t.spectrum.xVal[t.spectrum.xVal.length-1]-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function je(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Re(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=e.indexOf("tap")>=0,s=e.indexOf("drag")>=0,n=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,r=e.indexOf("hover")>=0,a=e.indexOf("unconstrained")>=0,c=e.indexOf("invert-connects")>=0,l=e.indexOf("drag-all")>=0,h=e.indexOf("smooth-steps")>=0;if(n){if(2!==t.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");He(t,t.start[1]-t.start[0])}if(c&&2!==t.handles)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(a&&(t.margin||t.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:i||o,drag:s,dragAll:l,smoothSteps:h,fixed:n,snap:o,hover:r,unconstrained:a,invertConnects:c}}function Be(t,e){if(!1!==e)if(!0===e||ae(e)){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(e)}else{if((e=me(e)).length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(t){if("boolean"!=typeof t&&!ae(t))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),t.tooltips=e}}function Ue(t,e){if(e.length!==t.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");t.handleAttributes=e}function qe(t,e){if(!ae(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");t.ariaFormat=e}function We(t,e){if(!function(t){return ae(t)&&"function"==typeof t.from}(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");t.format=e}function Ke(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");t.keyboardSupport=e}function Ye(t,e){t.documentElement=e}function Ge(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function Xe(t,e){if("object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof t.cssPrefix?(t.cssClasses={},Object.keys(e).forEach(function(i){t.cssClasses[i]=t.cssPrefix+e[i]})):t.cssClasses=e}function Je(t){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Ee,format:Ee},i={step:{r:!1,t:xe},keyboardPageMultiplier:{r:!1,t:Ae},keyboardMultiplier:{r:!1,t:Me},keyboardDefaultStep:{r:!1,t:Le},start:{r:!0,t:Ie},connect:{r:!0,t:Ve},direction:{r:!0,t:je},snap:{r:!1,t:Oe},animate:{r:!1,t:Pe},animationDuration:{r:!1,t:Ne},range:{r:!0,t:Te},orientation:{r:!1,t:Fe},margin:{r:!1,t:He},limit:{r:!1,t:$e},padding:{r:!1,t:ze},behaviour:{r:!0,t:Re},ariaFormat:{r:!1,t:qe},format:{r:!1,t:We},tooltips:{r:!1,t:Be},keyboardSupport:{r:!0,t:Ke},documentElement:{r:!1,t:Ye},cssPrefix:{r:!0,t:Ge},cssClasses:{r:!0,t:Xe},handleAttributes:{r:!1,t:Ue}},s={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Ce,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(i).forEach(function(n){if(le(t[n])||void 0!==s[n])i[n].t(e,le(t[n])?t[n]:s[n]);else if(i[n].r)throw new Error("noUiSlider: '"+n+"' is required.")}),e.pips=t.pips;var n=document.createElement("div"),o=void 0!==n.style.msTransform,r=void 0!==n.style.transform;return e.transformRule=r?"transform":o?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function Qe(t,e,i){var s,n,o,r,a,c,l,h=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},d=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(i){}return t}(),u=t,p=e.spectrum,m=[],f=[],g=[],v=0,y={},b=!1,S=t.ownerDocument,_=e.documentElement||S.documentElement,w=S.body,E="rtl"===S.dir||1===e.ort?0:100;function C(t,e){var i=S.createElement("div");return e&&ge(i,e),t.appendChild(i),i}function k(t,i){var s=C(t,e.cssClasses.origin),n=C(s,e.cssClasses.handle);if(C(n,e.cssClasses.touchArea),n.setAttribute("data-handle",String(i)),e.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",function(t){return function(t,i){if(A()||M(i))return!1;var s=["Left","Right"],n=["Down","Up"],o=["PageDown","PageUp"],r=["Home","End"];e.dir&&!e.ort?s.reverse():e.ort&&!e.dir&&(n.reverse(),o.reverse());var a,c=t.key.replace("Arrow",""),l=c===o[0],h=c===o[1],d=c===n[0]||c===s[0]||l,u=c===n[1]||c===s[1]||h,g=c===r[1];if(!(d||u||c===r[0]||g))return!0;if(t.preventDefault(),u||d){var v=d?0:1,y=nt(i)[v];if(null===y)return!1;!1===y&&(y=p.getDefaultStep(f[i],d,e.keyboardDefaultStep)),y*=h||l?e.keyboardPageMultiplier:e.keyboardMultiplier,y=Math.max(y,1e-7),y*=d?-1:1,a=m[i]+y}else a=g?e.spectrum.xVal[e.spectrum.xVal.length-1]:e.spectrum.xVal[0];return Z(i,p.toStepping(a),!0,!0),K("slide",i),K("update",i),K("change",i),K("set",i),!1}(t,i)})),void 0!==e.handleAttributes){var o=e.handleAttributes[i];Object.keys(o).forEach(function(t){n.setAttribute(t,o[t])})}return n.setAttribute("role","slider"),n.setAttribute("aria-orientation",e.ort?"vertical":"horizontal"),0===i?ge(n,e.cssClasses.handleLower):i===e.handles-1&&ge(n,e.cssClasses.handleUpper),s.handle=n,s}function D(t,i){return!!i&&C(t,e.cssClasses.connect)}function x(t,i){return!(!e.tooltips||!e.tooltips[i])&&C(t.firstChild,e.cssClasses.tooltip)}function A(){return u.hasAttribute("disabled")}function M(t){return o[t].hasAttribute("disabled")}function L(){c&&(W("update"+ke),c.forEach(function(t){t&&ce(t)}),c=null)}function T(){L(),c=o.map(x),q("update"+ke,function(t,i,s){if(c&&e.tooltips&&!1!==c[i]){var n=t[i];!0!==e.tooltips[i]&&(n=e.tooltips[i].to(s[i])),c[i].innerHTML=n}})}function I(t,e){return t.map(function(t){return p.fromStepping(e?p.getStep(t):t)})}function O(){a&&(ce(a),a=null)}function P(t){O();var i=function(t){function e(t,e){return Number((t+e).toFixed(7))}var i,s=function(t){if(t.mode===Yt.Range||t.mode===Yt.Steps)return p.xVal;if(t.mode===Yt.Count){if(2>t.values)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var e=t.values-1,i=100/e,s=[];e--;)s[e]=e*i;return s.push(100),I(s,t.stepped)}return t.mode===Yt.Positions?I(t.values,t.stepped):t.mode===Yt.Values?t.stepped?t.values.map(function(t){return p.fromStepping(p.getStep(p.toStepping(t)))}):t.values:[]}(t),n={},o=p.xVal[0],r=p.xVal[p.xVal.length-1],a=!1,c=!1,l=0;return i=s.slice().sort(function(t,e){return t-e}),(s=i.filter(function(t){return!this[t]&&(this[t]=!0)},{}))[0]!==o&&(s.unshift(o),a=!0),s[s.length-1]!==r&&(s.push(r),c=!0),s.forEach(function(i,o){var r,h,d,u,m,f,g,v,y,b,S=i,_=s[o+1],w=t.mode===Yt.Steps;for(w&&(r=p.xNumSteps[o]),r||(r=_-S),void 0===_&&(_=S),r=Math.max(r,1e-7),h=S;_>=h;h=e(h,r)){for(v=(m=(u=p.toStepping(h))-l)/(t.density||1),b=m/(y=Math.round(v)),d=1;y>=d;d+=1)n[(f=l+d*b).toFixed(5)]=[p.fromStepping(f),0];g=s.indexOf(h)>-1?Xt.LargeValue:w?Xt.SmallValue:Xt.NoValue,!o&&a&&h!==_&&(g=0),h===_&&c||(n[u.toFixed(5)]=[h,g]),l=u}}),n}(t),s=t.filter,n=t.format||{to:function(t){return String(Math.round(t))}};return a=u.appendChild(function(t,i,s){var n,o,r=S.createElement("div"),a=((n={})[Xt.None]="",n[Xt.NoValue]=e.cssClasses.valueNormal,n[Xt.LargeValue]=e.cssClasses.valueLarge,n[Xt.SmallValue]=e.cssClasses.valueSub,n),c=((o={})[Xt.None]="",o[Xt.NoValue]=e.cssClasses.markerNormal,o[Xt.LargeValue]=e.cssClasses.markerLarge,o[Xt.SmallValue]=e.cssClasses.markerSub,o),l=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],h=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];function d(t,i){var s=i===e.cssClasses.value,n=s?a:c;return i+" "+(s?l:h)[e.ort]+" "+n[t]}return ge(r,e.cssClasses.pips),ge(r,0===e.ort?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical),Object.keys(t).forEach(function(n){!function(t,n,o){if((o=i?i(n,o):o)!==Xt.None){var a=C(r,!1);a.className=d(o,e.cssClasses.marker),a.style[e.style]=t+"%",o>Xt.NoValue&&((a=C(r,!1)).className=d(o,e.cssClasses.value),a.setAttribute("data-value",String(n)),a.style[e.style]=t+"%",a.innerHTML=String(s.to(n)))}}(n,t[n][0],t[n][1])}),r}(i,s,n))}function N(){var t=s.getBoundingClientRect(),i="offset"+["Width","Height"][e.ort];return 0===e.ort?t.width||s[i]:t.height||s[i]}function V(t,i,s,n){var o=function(o){var r,a,c=function(t,e,i){var s=0===t.type.indexOf("touch"),n=0===t.type.indexOf("mouse"),o=0===t.type.indexOf("pointer"),r=0,a=0;if(0===t.type.indexOf("MSPointer")&&(o=!0),"mousedown"===t.type&&!t.buttons&&!t.touches)return!1;if(s){var c=function(e){var s=e.target;return s===i||i.contains(s)||t.composed&&t.composedPath().shift()===i};if("touchstart"===t.type){var l=Array.prototype.filter.call(t.touches,c);if(l.length>1)return!1;r=l[0].pageX,a=l[0].pageY}else{var h=Array.prototype.find.call(t.changedTouches,c);if(!h)return!1;r=h.pageX,a=h.pageY}}return e=e||ye(S),(n||o)&&(r=t.clientX+e.x,a=t.clientY+e.y),t.pageOffset=e,t.points=[r,a],t.cursor=n||o,t}(o,n.pageOffset,n.target||i);return!!c&&!(A()&&!n.doNotReject)&&(r=u,a=e.cssClasses.tap,!((r.classList?r.classList.contains(a):new RegExp("\\b"+a+"\\b").test(r.className))&&!n.doNotReject)&&(t!==h.start||void 0===c.buttons||1>=c.buttons)&&(!n.hover||!c.buttons)&&(d||c.preventDefault(),c.calcPoint=c.points[e.ort],void s(c,n)))},r=[];return t.split(" ").forEach(function(t){i.addEventListener(t,o,!!d&&{passive:!0}),r.push([t,o])}),r}function F(t){var i,n,o,r,a,c,l=100*(t-(i=s,n=e.ort,o=i.getBoundingClientRect(),a=(r=i.ownerDocument).documentElement,c=ye(r),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(c.x=0),n?o.top+c.y-a.clientTop:o.left+c.x-a.clientLeft))/N();return l=pe(l),e.dir?100-l:l}function H(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&z(t,e)}function $(t,i){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==i.buttonsProperty)return z(t,i);var s=(e.dir?-1:1)*(t.calcPoint-i.startCalcPoint);X(s>0,100*s/i.baseSize,i.locations,i.handleNumbers,i.connect)}function z(t,i){i.handle&&(ve(i.handle,e.cssClasses.active),v-=1),i.listeners.forEach(function(t){_.removeEventListener(t[0],t[1])}),0===v&&(ve(u,e.cssClasses.drag),Q(),t.cursor&&(w.style.cursor="",w.removeEventListener("selectstart",he))),e.events.smoothSteps&&(i.handleNumbers.forEach(function(t){Z(t,f[t],!0,!0,!1,!1)}),i.handleNumbers.forEach(function(t){K("update",t)})),i.handleNumbers.forEach(function(t){K("change",t),K("set",t),K("end",t)})}function j(t,i){if(!i.handleNumbers.some(M)){var s;1===i.handleNumbers.length&&(s=o[i.handleNumbers[0]].children[0],v+=1,ge(s,e.cssClasses.active)),t.stopPropagation();var n=[],r=V(h.move,_,$,{target:t.target,handle:s,connect:i.connect,listeners:n,startCalcPoint:t.calcPoint,baseSize:N(),pageOffset:t.pageOffset,handleNumbers:i.handleNumbers,buttonsProperty:t.buttons,locations:f.slice()}),a=V(h.end,_,z,{target:t.target,handle:s,listeners:n,doNotReject:!0,handleNumbers:i.handleNumbers}),c=V("mouseout",_,H,{target:t.target,handle:s,listeners:n,doNotReject:!0,handleNumbers:i.handleNumbers});n.push.apply(n,r.concat(a,c)),t.cursor&&(w.style.cursor=getComputedStyle(t.target).cursor,o.length>1&&ge(u,e.cssClasses.drag),w.addEventListener("selectstart",he,!1)),i.handleNumbers.forEach(function(t){K("start",t)})}}function R(t){t.stopPropagation();var i=F(t.calcPoint),s=function(t){var e=100,i=!1;return o.forEach(function(s,n){if(!M(n)){var o=f[n],r=Math.abs(o-t);(e>r||e>=r&&t>o||100===r&&100===e)&&(i=n,e=r)}}),i}(i);!1!==s&&(e.events.snap||ue(u,e.cssClasses.tap,e.animationDuration),Z(s,i,!0,!0),Q(),K("slide",s,!0),K("update",s,!0),e.events.snap?j(t,{handleNumbers:[s]}):(K("change",s,!0),K("set",s,!0)))}function B(t){var e=F(t.calcPoint),i=p.getStep(e),s=p.fromStepping(i);Object.keys(y).forEach(function(t){"hover"===t.split(".")[0]&&y[t].forEach(function(t){t.call(rt,s)})})}function U(t){t.fixed||o.forEach(function(t,e){V(h.start,t.children[0],j,{handleNumbers:[e]})}),t.tap&&V(h.start,s,R,{}),t.hover&&V(h.move,s,B,{hover:!0}),t.drag&&r.forEach(function(i,s){if(!1!==i&&0!==s&&s!==r.length-1){var n=o[s-1],a=o[s],c=[i],l=[n,a],d=[s-1,s];ge(i,e.cssClasses.draggable),t.fixed&&(c.push(n.children[0]),c.push(a.children[0])),t.dragAll&&(l=o,d=g),c.forEach(function(t){V(h.start,t,j,{handles:l,handleNumbers:d,connect:i})})}})}function q(t,e){y[t]=y[t]||[],y[t].push(e),"update"===t.split(".")[0]&&o.forEach(function(t,e){K("update",e)})}function W(t){var e=t&&t.split(".")[0],i=e?t.substring(e.length):t;Object.keys(y).forEach(function(t){var s=t.split(".")[0],n=t.substring(s.length);e&&e!==s||i&&i!==n||function(t){return t===De||t===ke}(n)&&i!==n||delete y[t]})}function K(t,i,s){Object.keys(y).forEach(function(n){var o=n.split(".")[0];t===o&&y[n].forEach(function(t){t.call(rt,m.map(e.format.to),i,m.slice(),s||!1,f.slice(),rt)})})}function Y(t,i,s,n,r,a,c){var l;return o.length>1&&!e.events.unconstrained&&(n&&i>0&&(l=p.getAbsoluteDistance(t[i-1],e.margin,!1),s=Math.max(s,l)),r&&i<o.length-1&&(l=p.getAbsoluteDistance(t[i+1],e.margin,!0),s=Math.min(s,l))),o.length>1&&e.limit&&(n&&i>0&&(l=p.getAbsoluteDistance(t[i-1],e.limit,!1),s=Math.min(s,l)),r&&i<o.length-1&&(l=p.getAbsoluteDistance(t[i+1],e.limit,!0),s=Math.max(s,l))),e.padding&&(0===i&&(l=p.getAbsoluteDistance(0,e.padding[0],!1),s=Math.max(s,l)),i===o.length-1&&(l=p.getAbsoluteDistance(100,e.padding[1],!0),s=Math.min(s,l))),c||(s=p.getStep(s)),!((s=pe(s))===t[i]&&!a)&&s}function G(t,i){var s=e.ort;return(s?i:t)+", "+(s?t:i)}function X(t,i,s,n,o){var r=s.slice(),a=n[0],c=e.events.smoothSteps,l=[!t,t],h=[t,!t];n=n.slice(),t&&n.reverse(),n.length>1?n.forEach(function(t,e){var s=Y(r,t,r[t]+i,l[e],h[e],!1,c);!1===s?i=0:(i=s-r[t],r[t]=s)}):l=h=[!0];var d=!1;n.forEach(function(t,e){d=Z(t,s[t]+i,l[e],h[e],!1,c)||d}),d&&(n.forEach(function(t){K("update",t),K("slide",t)}),null!=o&&K("drag",a))}function J(t,i){return e.dir?100-t-i:t}function Q(){g.forEach(function(t){var e=f[t]>50?-1:1,i=3+(o.length+e*t);o[t].style.zIndex=String(i)})}function Z(t,i,s,n,r,a){return r||(i=Y(f,t,i,s,n,!1,a)),!1!==i&&(function(t,i){f[t]=i,m[t]=p.fromStepping(i);var s="translate("+G(J(i,0)-E+"%","0")+")";if(o[t].style[e.transformRule]=s,e.events.invertConnects&&f.length>1){var n=f.every(function(t,e,i){return 0===e||t>=i[e-1]});if(b!==!n)return b=!b,Ve(e,e.connect.map(function(t){return!t})),void ot()}tt(t),tt(t+1),b&&(tt(t-1),tt(t+2))}(t,i),!0)}function tt(t){if(r[t]){var i=f.slice();b&&i.sort(function(t,e){return t-e});var s=0,n=100;0!==t&&(s=i[t-1]),t!==r.length-1&&(n=i[t]);var o=n-s,a="translate("+G(J(s,o)+"%","0")+")",c="scale("+G(o/100,"1")+")";r[t].style[e.transformRule]=a+" "+c}}function et(t,i){return null===t||!1===t||void 0===t?f[i]:("number"==typeof t&&(t=String(t)),!1!==(t=e.format.from(t))&&(t=p.toStepping(t)),!1===t||isNaN(t)?f[i]:t)}function it(t,i,s){var n=me(t),o=void 0===f[0];i=void 0===i||i,e.animate&&!o&&ue(u,e.cssClasses.tap,e.animationDuration),g.forEach(function(t){Z(t,et(n[t],t),!0,!1,s)});var r=1===g.length?0:1;if(o&&p.hasNoSize()&&(s=!0,f[0]=0,g.length>1)){var a=100/(g.length-1);g.forEach(function(t){f[t]=t*a})}for(;r<g.length;++r)g.forEach(function(t){Z(t,f[t],!0,!0,s)});Q(),g.forEach(function(t){K("update",t),null!==n[t]&&i&&K("set",t)})}function st(t){if(void 0===t&&(t=!1),t)return 1===m.length?m[0]:m.slice(0);var i=m.map(e.format.to);return 1===i.length?i[0]:i}function nt(t){var i=f[t],s=p.getNearbySteps(i),n=m[t],o=s.thisStep.step,r=null;if(e.snap)return[n-s.stepBefore.startValue||null,s.stepAfter.startValue-n||null];!1!==o&&n+o>s.stepAfter.startValue&&(o=s.stepAfter.startValue-n),r=n>s.thisStep.startValue?s.thisStep.step:!1!==s.stepBefore.step&&n-s.stepBefore.highestStep,100===i?o=null:0===i&&(r=null);var a=p.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(a))),null!==r&&!1!==r&&(r=Number(r.toFixed(a))),[r,o]}function ot(){for(;n.firstChild;)n.removeChild(n.firstChild);for(var t=0;t<=e.handles;t++)r[t]=D(n,e.connect[t]),tt(t);U({drag:e.events.drag,fixed:!0})}ge(l=u,e.cssClasses.target),0===e.dir?ge(l,e.cssClasses.ltr):ge(l,e.cssClasses.rtl),0===e.ort?ge(l,e.cssClasses.horizontal):ge(l,e.cssClasses.vertical),ge(l,"rtl"===getComputedStyle(l).direction?e.cssClasses.textDirectionRtl:e.cssClasses.textDirectionLtr),s=C(l,e.cssClasses.base),function(t,i){n=C(i,e.cssClasses.connects),o=[],(r=[]).push(D(n,t[0]));for(var s=0;s<e.handles;s++)o.push(k(i,s)),g[s]=s,r.push(D(n,t[s+1]))}(e.connect,s),U(e.events),it(e.start),e.pips&&P(e.pips),e.tooltips&&T(),W("update"+De),q("update"+De,function(t,i,s,n,r){g.forEach(function(t){var i=o[t],n=Y(f,t,0,!0,!0,!0),a=Y(f,t,100,!0,!0,!0),c=r[t],l=String(e.ariaFormat.to(s[t]));n=p.fromStepping(n).toFixed(1),a=p.fromStepping(a).toFixed(1),c=p.fromStepping(c).toFixed(1),i.children[0].setAttribute("aria-valuemin",n),i.children[0].setAttribute("aria-valuemax",a),i.children[0].setAttribute("aria-valuenow",c),i.children[0].setAttribute("aria-valuetext",l)})});var rt={destroy:function(){for(W(De),W(ke),Object.keys(e.cssClasses).forEach(function(t){ve(u,e.cssClasses[t])});u.firstChild;)u.removeChild(u.firstChild);delete u.noUiSlider},steps:function(){return g.map(nt)},on:q,off:W,get:st,set:it,setHandle:function(t,e,i,s){if(0>(t=Number(t))||t>=g.length)throw new Error("noUiSlider: invalid handle number, got: "+t);Z(t,et(e,t),!0,!0,s),K("update",t),i&&K("set",t)},reset:function(t){it(e.start,t)},disable:function(t){null!=t?(o[t].setAttribute("disabled",""),o[t].handle.removeAttribute("tabindex")):(u.setAttribute("disabled",""),o.forEach(function(t){t.handle.removeAttribute("tabindex")}))},enable:function(t){null!=t?(o[t].removeAttribute("disabled"),o[t].handle.setAttribute("tabindex","0")):(u.removeAttribute("disabled"),o.forEach(function(t){t.removeAttribute("disabled"),t.handle.setAttribute("tabindex","0")}))},__moveHandles:function(t,e,i){X(t,e,f,i)},options:i,updateOptions:function(t,s){var n=st(),o=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];o.forEach(function(e){void 0!==t[e]&&(i[e]=t[e])});var r=Je(i);o.forEach(function(i){void 0!==t[i]&&(e[i]=r[i])}),p=r.spectrum,e.margin=r.margin,e.limit=r.limit,e.padding=r.padding,e.pips?P(e.pips):O(),e.tooltips?T():L(),f=[],it(le(t.start)?t.start:n,s),t.connect&&ot()},target:u,removePips:O,removeTooltips:L,getPositions:function(){return f.slice()},getTooltips:function(){return c},getOrigins:function(){return o},pips:P};return rt}const Ze={__spectrum:we,cssClasses:Ce,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var i=Qe(t,Je(e),e);return t.noUiSlider=i,i}},ti={},ei=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){let t=function(t){return Promise.all(t.map(t=>Promise.resolve(t).then(t=>({status:"fulfilled",value:t}),t=>({status:"rejected",reason:t}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),n=i?.nonce||i?.getAttribute("nonce");s=t(e.map(t=>{if((t=function(t){return"/MediReach/"+t}(t))in ti)return;ti[t]=!0;const e=t.endsWith(".css"),i=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${i}`))return;const s=document.createElement("link");return s.rel=e?"stylesheet":"modulepreload",e||(s.as="script"),s.crossOrigin="",s.href=t,n&&s.setAttribute("nonce",n),document.head.appendChild(s),e?new Promise((e,i)=>{s.addEventListener("load",e),s.addEventListener("error",()=>i(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}function n(t){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}return s.then(e=>{for(const t of e||[])"rejected"===t.status&&n(t.reason);return t().catch(n)})};class ii extends Error{}const si="tempus-dominus";class ni{}ni.NAME=si,ni.dataKey="td",ni.events=new class{constructor(){this.key=".td",this.change=`change${this.key}`,this.update=`update${this.key}`,this.error=`error${this.key}`,this.show=`show${this.key}`,this.hide=`hide${this.key}`,this.blur=`blur${this.key}`,this.focus=`focus${this.key}`,this.keyup=`keyup${this.key}`,this.keydown=`keydown${this.key}`}},ni.css=new class{constructor(){this.widget=`${si}-widget`,this.calendarHeader="calendar-header",this.switch="picker-switch",this.toolbar="toolbar",this.noHighlight="no-highlight",this.sideBySide="timepicker-sbs",this.previous="previous",this.next="next",this.disabled="disabled",this.old="old",this.new="new",this.active="active",this.dateContainer="date-container",this.decadesContainer=`${this.dateContainer}-decades`,this.decade="decade",this.yearsContainer=`${this.dateContainer}-years`,this.year="year",this.monthsContainer=`${this.dateContainer}-months`,this.month="month",this.daysContainer=`${this.dateContainer}-days`,this.day="day",this.calendarWeeks="cw",this.dayOfTheWeek="dow",this.today="today",this.weekend="weekend",this.rangeIn="range-in",this.rangeStart="range-start",this.rangeEnd="range-end",this.timeContainer="time-container",this.separator="separator",this.clockContainer=`${this.timeContainer}-clock`,this.hourContainer=`${this.timeContainer}-hour`,this.minuteContainer=`${this.timeContainer}-minute`,this.secondContainer=`${this.timeContainer}-second`,this.hour="hour",this.minute="minute",this.second="second",this.toggleMeridiem="toggleMeridiem",this.show="show",this.collapsing="td-collapsing",this.collapse="td-collapse",this.inline="inline",this.lightTheme="light",this.darkTheme="dark",this.isDarkPreferredQuery="(prefers-color-scheme: dark)"}},ni.errorMessages=new class{constructor(){this.base="TD:",this.failedToSetInvalidDate="Failed to set invalid date",this.failedToParseInput="Failed parse input field"}unexpectedOption(t){const e=new ii(`${this.base} Unexpected option: ${t} does not match a known option.`);throw e.code=1,e}unexpectedOptions(t){const e=new ii(`${this.base}: ${t.join(", ")}`);throw e.code=1,e}unexpectedOptionValue(t,e,i){const s=new ii(`${this.base} Unexpected option value: ${t} does not accept a value of "${e}". Valid values are: ${i.join(", ")}`);throw s.code=2,s}typeMismatch(t,e,i){const s=new ii(`${this.base} Mismatch types: ${t} has a type of ${e} instead of the required ${i}`);throw s.code=3,s}numbersOutOfRange(t,e,i){const s=new ii(`${this.base} ${t} expected an array of number between ${e} and ${i}.`);throw s.code=4,s}failedToParseDate(t,e,i=!1){const s=new ii(`${this.base} Could not correctly parse "${e}" to a date for ${t}.`);if(s.code=5,!i)throw s}mustProvideElement(){const t=new ii(`${this.base} No element was provided.`);throw t.code=6,t}subscribeMismatch(){const t=new ii(`${this.base} The subscribed events does not match the number of callbacks`);throw t.code=7,t}conflictingConfiguration(t){const e=new ii(`${this.base} A configuration value conflicts with another rule. ${t}`);throw e.code=8,e}customDateFormatError(t){const e=new ii(`${this.base} Custom Date Format: ${t}`);throw e.code=9,e}dateString(){}deprecatedWarning(t,e){}throwError(t){const e=new ii(`${this.base} ${t}`);throw e.code=9,e}};var oi,ri,ai={dateFormats:{LTS:"h:mm:ss T",LT:"h:mm T",L:"MM/dd/yyyy",LL:"MMMM d, yyyy",LLL:"MMMM d, yyyy h:mm T",LLLL:"dddd, MMMM d, yyyy h:mm T"},format:"L LT",locale:"default",hourCycle:void 0,ordinal:t=>{const e=["th","st","nd","rd"],i=t%100;return`[${t}${e[(i-20)%10]||e[i]||e[0]}]`}};(ri=oi||(oi={})).seconds="seconds",ri.minutes="minutes",ri.hours="hours",ri.date="date",ri.month="month",ri.year="year";const ci={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},li=t=>{switch(t){case"date":return{dateStyle:"short"};case"month":return{month:"numeric",year:"numeric"};case"year":return{year:"numeric"}}},hi=t=>{if(!t)return"h12";const e={hour:"2-digit",minute:"2-digit",numberingSystem:"latn"},i=(new di).setLocalization({locale:t});i.hours=0;const s=i.parts(void 0,e).hour;if("12"===s)return"h12";if("24"===s)return"h24";i.hours=23;const n=i.parts(void 0,e).hour;return"00"===s&&"11"===n?"h11":"00"===s&&"23"===n?"h23":void 0};class di extends Date{constructor(){super(...arguments),this.localization=ai,this.nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],this.leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335],this.dateTimeRegex=/(\[[^[\]]*])|y{1,4}|M{1,4}|d{1,4}|H{1,2}|h{1,2}|t|T|m{1,2}|s{1,2}|f{3}/g,this.formattingTokens=/(\[[^[\]]*])|([-_:/.,()\s]+)|(T|t|yyyy|yy?|MM?M?M?|Do|dd?d?d?|hh?|HH?|mm?|ss?)/g,this.match2=/\d\d/,this.match3=/\d{3}/,this.match4=/\d{4}/,this.match1to2=/\d\d?/,this.matchSigned=/[+-]?\d+/,this.matchOffset=/[+-]\d\d:?(\d\d)?|Z/,this.matchWord=/[^\d_:/,\-()\s]+/,this.zoneExpressions=[this.matchOffset,(t,e)=>{t.offset=this.offsetFromString(e)}],this.expressions={t:{pattern:void 0,parser:(t,e)=>{t.afternoon=this.meridiemMatch(e)}},T:{pattern:void 0,parser:(t,e)=>{t.afternoon=this.meridiemMatch(e)}},fff:{pattern:this.match3,parser:(t,e)=>{t.milliseconds=+e}},s:{pattern:this.match1to2,parser:this.addInput("seconds")},ss:{pattern:this.match1to2,parser:this.addInput("seconds")},m:{pattern:this.match1to2,parser:this.addInput("minutes")},mm:{pattern:this.match1to2,parser:this.addInput("minutes")},H:{pattern:this.match1to2,parser:this.addInput("hours")},h:{pattern:this.match1to2,parser:this.addInput("hours")},HH:{pattern:this.match1to2,parser:this.addInput("hours")},hh:{pattern:this.match1to2,parser:this.addInput("hours")},d:{pattern:this.match1to2,parser:this.addInput("day")},dd:{pattern:this.match2,parser:this.addInput("day")},Do:{pattern:this.matchWord,parser:(t,e)=>{if(t.day=+(e.match(/\d+/)[0]||1),this.localization.ordinal)for(let i=1;31>=i;i+=1)this.localization.ordinal(i).replace(/[[\]]/g,"")===e&&(t.day=i)}},M:{pattern:this.match1to2,parser:this.addInput("month")},MM:{pattern:this.match2,parser:this.addInput("month")},MMM:{pattern:this.matchWord,parser:(t,e)=>{const i=this.getAllMonths(),s=(this.getAllMonths("short")||i.map(t=>t.slice(0,3))).indexOf(e)+1;if(1>s)throw new Error;t.month=s%12||s}},MMMM:{pattern:this.matchWord,parser:(t,e)=>{const i=this.getAllMonths().indexOf(e)+1;if(1>i)throw new Error;t.month=i%12||i}},y:{pattern:this.matchSigned,parser:this.addInput("year")},yy:{pattern:this.match2,parser:(t,e)=>{t.year=this.parseTwoDigitYear(+e)}},yyyy:{pattern:this.match4,parser:this.addInput("year")}}}setLocale(t){return this.localization||(this.localization=ai,this.localization.locale=t),this}setLocalization(t){return this.localization=t,this}static convert(t,e="default",i=void 0){if(!t)throw new Error("A date is required");return i||((i=ai).locale=e),new di(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()).setLocalization(i)}get clone(){return new di(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.getMilliseconds()).setLocalization(this.localization)}static isValid(t){return void 0!==t&&"null"!==JSON.stringify(t)&&t.constructor.name===di.name}startOf(t,e=0){if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);switch(t){case"seconds":this.setMilliseconds(0);break;case"minutes":this.setSeconds(0,0);break;case"hours":this.setMinutes(0,0,0);break;case"date":this.setHours(0,0,0,0);break;case"weekDay":{if(this.startOf(oi.date),this.weekDay===e)break;const t=(this.weekDay-e+7)%7;this.manipulate(-1*t,oi.date);break}case"month":this.startOf(oi.date),this.setDate(1);break;case"year":this.startOf(oi.date),this.setMonth(0,1)}return this}endOf(t,e=0){if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);switch(t){case"seconds":this.setMilliseconds(999);break;case"minutes":this.setSeconds(59,999);break;case"hours":this.setMinutes(59,59,999);break;case"date":this.setHours(23,59,59,999);break;case"weekDay":{this.endOf(oi.date);const t=6+e;if(this.weekDay===t)break;this.manipulate(t-this.weekDay,oi.date);break}case"month":this.endOf(oi.date),this.manipulate(1,oi.month),this.setDate(0);break;case"year":this.endOf(oi.date),this.setMonth(11,31)}return this}manipulate(t,e){if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return this[e]+=t,this}isBefore(t,e){if(!di.isValid(t))return!1;if(!e)return this.valueOf()<t.valueOf();if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return this.clone.startOf(e).valueOf()<t.clone.startOf(e).valueOf()}isAfter(t,e){if(!di.isValid(t))return!1;if(!e)return this.valueOf()>t.valueOf();if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return this.clone.startOf(e).valueOf()>t.clone.startOf(e).valueOf()}isSame(t,e){if(!di.isValid(t))return!1;if(!e)return this.valueOf()===t.valueOf();if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return t=di.convert(t),this.clone.startOf(e).valueOf()===t.startOf(e).valueOf()}isBetween(t,e,i,s="()"){if(!di.isValid(t)||!di.isValid(e))return!1;if(i&&void 0===this[i])throw new Error(`Unit '${i}' is not valid`);const n="("===s[0],o=")"===s[1],r=n?this.isAfter(t,i):!this.isBefore(t,i),a=o?this.isBefore(e,i):!this.isAfter(e,i);return r&&a}parts(t=this.localization.locale,e={dateStyle:"full",timeStyle:"long"}){const i={};return new Intl.DateTimeFormat(t,e).formatToParts(this).filter(t=>"literal"!==t.type).forEach(t=>i[t.type]=t.value),i}get seconds(){return this.getSeconds()}set seconds(t){this.setSeconds(t)}get secondsFormatted(){return this.parts(void 0,ci).second}get minutes(){return this.getMinutes()}set minutes(t){this.setMinutes(t)}get minutesFormatted(){return this.parts(void 0,ci).minute}get hours(){return this.getHours()}set hours(t){this.setHours(t)}getHoursFormatted(t="h12"){return this.parts(void 0,{...ci,hourCycle:t}).hour}meridiem(t=this.localization.locale){return new Intl.DateTimeFormat(t,{hour:"numeric",hour12:!0}).formatToParts(this).find(t=>"dayPeriod"===t.type)?.value}get date(){return this.getDate()}set date(t){this.setDate(t)}get dateFormatted(){return this.parts(void 0,ci).day}get weekDay(){return this.getDay()}get month(){return this.getMonth()}set month(t){const e=new Date(this.year,t+1);e.setDate(0);const i=e.getDate();this.date>i&&(this.date=i),this.setMonth(t)}get monthFormatted(){return this.parts(void 0,ci).month}get year(){return this.getFullYear()}set year(t){this.setFullYear(t)}get week(){const t=this.computeOrdinal(),e=this.getUTCDay();let i=Math.floor((t-e+10)/7);return 1>i?i=this.weeksInWeekYear():i>this.weeksInWeekYear()&&(i=1),i}weeksInWeekYear(){const t=(this.year+Math.floor(this.year/4)-Math.floor(this.year/100)+Math.floor(this.year/400))%7,e=this.year-1,i=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7;return 4===t||3===i?53:52}dateToDataValue(){return di.isValid(this)?`${this.year}-${this.month.toString().padStart(2,"0")}-${this.date.toString().padStart(2,"0")}`:""}get isLeapYear(){return this.year%4==0&&(this.year%100!=0||this.year%400==0)}computeOrdinal(){return this.date+(this.isLeapYear?this.leapLadder:this.nonLeapLadder)[this.month]}getAllMonths(t="long"){const e=new Intl.DateTimeFormat(this.localization.locale,{month:t}).format;return[...Array(12).keys()].map(t=>e(new Date(2021,t)))}replaceTokens(t,e){return t.replace(/(\[[^[\]]*])|(LTS?|l{1,4}|L{1,4})/g,(t,i,s)=>{const n=s&&s.toUpperCase();return i||e[n]||ai.dateFormats[n]})}parseTwoDigitYear(t){return t+(t>68?1900:2e3)}offsetFromString(t){if(!t)return 0;if("Z"===t)return 0;const[e,i,s]=t.match(/([+-]|\d\d)/g),n=60*+i+(+s||0);return 0===n?0:"+"===e?-n:n}zoneInformation(t,e){let i=t.parts(this.localization.locale,{timeZoneName:"longOffset"}).timeZoneName.replace("GMT","").replace(":","");const s=i.includes("-");return i=i.replace("-",""),"z"===e?i=i.substring(1,2):"zz"===e&&(i=i.substring(0,2)),`${s?"-":""}${i}`}addInput(t){return(e,i)=>{e[t]=+i}}getLocaleAfternoon(){return new Intl.DateTimeFormat(this.localization.locale,{hour:"numeric",hour12:!0}).formatToParts(new Date(2022,3,4,13)).find(t=>"dayPeriod"===t.type)?.value?.replace(/\s+/g," ")}meridiemMatch(t){return t.toLowerCase()===this.getLocaleAfternoon().toLowerCase()}correctHours(t){const{afternoon:e}=t;if(void 0!==e){const{hours:i}=t;e?12>i&&(t.hours+=12):12===i&&(t.hours=0),delete t.afternoon}}makeParser(t){const e=(t=this.replaceTokens(t,this.localization.dateFormats)).match(this.formattingTokens),{length:i}=e,s=[];for(let n=0;i>n;n+=1){const t=e[n],i=this.expressions[t];s[n]=i?.parser?i:t.replace(/^\[[^[\]]*]$/g,"")}return t=>{const e={hours:0,minutes:0,seconds:0,milliseconds:0};for(let n=0,o=0;i>n;n+=1){const i=s[n];if("string"==typeof i)o+=i.length;else{const s=t.slice(o);let n=s;i.pattern&&(n=i.pattern.exec(s)[0]),i.parser.call(this,e,n),t=t.replace(n,"")}}return this.correctHours(e),e}}static fromString(t,e){e?.format||ni.errorMessages.customDateFormatError("No format was provided");try{const i=new di;if(i.setLocalization(e),["x","X"].indexOf(e.format)>-1)return new di(("X"===e.format?1e3:1)*+t);t=t.replace(/\s+/g," ");const s=i.makeParser(e.format),{year:n,month:o,day:r,hours:a,minutes:c,seconds:l,milliseconds:h,zone:d}=s(t),u=r||(n||o?1:i.getDate()),p=n||i.getFullYear();let m=0;return n&&!o||(m=o>0?o-1:i.getMonth()),d?new di(Date.UTC(p,m,u,a,c,l,h+60*d.offset*1e3)):new di(p,m,u,a,c,l,h)}catch(i){ni.errorMessages.customDateFormatError(`Unable to parse provided input: ${t}, format: ${e.format}`)}}format(t,e=this.localization.locale){if(t&&"object"==typeof t)return new Intl.DateTimeFormat(e,t).format(this);const i=this.replaceTokens(t||this.localization.format||`${ai.dateFormats.L}, ${ai.dateFormats.LT}`,this.localization.dateFormats),s=t=>new Intl.DateTimeFormat(this.localization.locale,t).format(this);this.localization.hourCycle||(this.localization.hourCycle=hi(this.localization.locale));const n=this.localization.hourCycle.startsWith("h1")?"h24":this.localization.hourCycle,o=this.localization.hourCycle.startsWith("h2")?"h12":this.localization.hourCycle,r={y:this.year,yy:s({year:"2-digit"}),yyyy:this.year,M:s({month:"numeric"}),MM:this.monthFormatted,MMM:this.getAllMonths("short")[this.getMonth()],MMMM:this.getAllMonths()[this.getMonth()],d:this.date,dd:this.dateFormatted,ddd:s({weekday:"short"}),dddd:s({weekday:"long"}),H:this.getHours(),HH:this.getHoursFormatted(n),h:this.hours>12?this.hours-12:this.hours,hh:this.getHoursFormatted(o),t:this.meridiem(),T:this.meridiem().toUpperCase(),m:this.minutes,mm:this.minutesFormatted,s:this.seconds,ss:this.secondsFormatted,fff:this.getMilliseconds()};return i.replace(this.dateTimeRegex,(t,e)=>e||r[t]).replace(/\[/g,"").replace(/]/g,"")}}class ui{constructor(){this.cache=new Map}locate(t){const e=this.cache.get(t);if(e)return e;const i=new t;return this.cache.set(t,i),i}}let pi;const mi=[{name:"calendar",className:ni.css.daysContainer,unit:oi.month,step:1},{name:"months",className:ni.css.monthsContainer,unit:oi.year,step:1},{name:"years",className:ni.css.yearsContainer,unit:oi.year,step:10},{name:"decades",className:ni.css.decadesContainer,unit:oi.year,step:100}];class fi{constructor(){this._currentCalendarViewMode=0,this._viewDate=new di,this.minimumCalendarViewMode=0,this.currentView="calendar"}get currentCalendarViewMode(){return this._currentCalendarViewMode}set currentCalendarViewMode(t){this._currentCalendarViewMode=t,this.currentView=mi[t].name}get viewDate(){return this._viewDate}set viewDate(t){this._viewDate=t,this.options&&(this.options.viewDate=t)}refreshCurrentView(){this.currentView=mi[this.currentCalendarViewMode].name}get isTwelveHour(){return["h12","h11"].includes(this.options.localization.hourCycle)}}class gi{constructor(){this.optionsStore=pi.locate(fi)}isValid(t,e){if(!this._enabledDisabledDatesIsValid(e,t))return!1;if(e!==oi.month&&e!==oi.year&&this.optionsStore.options.restrictions.daysOfWeekDisabled?.length>0&&-1!==this.optionsStore.options.restrictions.daysOfWeekDisabled.indexOf(t.weekDay))return!1;if(!this._minMaxIsValid(e,t))return!1;if(e===oi.hours||e===oi.minutes||e===oi.seconds){if(!this._enabledDisabledHoursIsValid(t))return!1;if(0!==this.optionsStore.options.restrictions.disabledTimeIntervals?.filter(e=>t.isBetween(e.from,e.to)).length)return!1}return!0}_enabledDisabledDatesIsValid(t,e){return!(t===oi.date&&(this.optionsStore.options.restrictions.disabledDates.length>0&&this._isInDisabledDates(e)||this.optionsStore.options.restrictions.enabledDates.length>0&&!this._isInEnabledDates(e)))}_isInDisabledDates(t){return!(!this.optionsStore.options.restrictions.disabledDates||0===this.optionsStore.options.restrictions.disabledDates.length||!this.optionsStore.options.restrictions.disabledDates.find(e=>e.isSame(t,oi.date)))}_isInEnabledDates(t){return!this.optionsStore.options.restrictions.enabledDates||0===this.optionsStore.options.restrictions.enabledDates.length||!!this.optionsStore.options.restrictions.enabledDates.find(e=>e.isSame(t,oi.date))}_minMaxIsValid(t,e){return!(this.optionsStore.options.restrictions.minDate&&e.isBefore(this.optionsStore.options.restrictions.minDate,t)||this.optionsStore.options.restrictions.maxDate&&e.isAfter(this.optionsStore.options.restrictions.maxDate,t))}_enabledDisabledHoursIsValid(t){return!(this.optionsStore.options.restrictions.disabledHours.length>0&&this._isInDisabledHours(t)||this.optionsStore.options.restrictions.enabledHours.length>0&&!this._isInEnabledHours(t))}_isInDisabledHours(t){if(!this.optionsStore.options.restrictions.disabledHours||0===this.optionsStore.options.restrictions.disabledHours.length)return!1;const e=t.hours;return this.optionsStore.options.restrictions.disabledHours.includes(e)}_isInEnabledHours(t){if(!this.optionsStore.options.restrictions.enabledHours||0===this.optionsStore.options.restrictions.enabledHours.length)return!0;const e=t.hours;return this.optionsStore.options.restrictions.enabledHours.includes(e)}dateRangeIsValid(t,e,i){if(!this.optionsStore.options.dateRange)return!0;if(2!==t.length&&1!==e)return!0;const s=t[0].clone;if(s.isSame(i,oi.date))return!0;for(s.manipulate(1,oi.date);!s.isSame(i,oi.date);){if(!this.isValid(s,oi.date))return!1;s.manipulate(1,oi.date)}return!0}}class vi{constructor(){this.subscribers=[]}subscribe(t){return this.subscribers.push(t),this.unsubscribe.bind(this,this.subscribers.length-1)}unsubscribe(t){this.subscribers.splice(t,1)}emit(t){this.subscribers.forEach(e=>{e(t)})}destroy(){this.subscribers=null,this.subscribers=[]}}class yi{constructor(){this.triggerEvent=new vi,this.viewUpdate=new vi,this.updateDisplay=new vi,this.action=new vi,this.updateViewDate=new vi}destroy(){this.triggerEvent.destroy(),this.viewUpdate.destroy(),this.updateDisplay.destroy(),this.action.destroy(),this.updateViewDate.destroy()}}const bi={allowInputToggle:!1,container:void 0,dateRange:!1,debug:!1,defaultDate:void 0,display:{icons:{type:"icons",time:"fa-solid fa-clock",date:"fa-solid fa-calendar",up:"fa-solid fa-arrow-up",down:"fa-solid fa-arrow-down",previous:"fa-solid fa-chevron-left",next:"fa-solid fa-chevron-right",today:"fa-solid fa-calendar-check",clear:"fa-solid fa-trash",close:"fa-solid fa-xmark"},sideBySide:!1,calendarWeeks:!1,viewMode:"calendar",toolbarPlacement:"bottom",keepOpen:!1,buttons:{today:!1,clear:!1,close:!1},components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!0,hours:!0,minutes:!0,seconds:!1,useTwentyfourHour:void 0},inline:!1,theme:"auto",placement:"bottom",keyboardNavigation:!0},keepInvalid:!1,localization:{clear:"Clear selection",close:"Close the picker",dateFormats:ai.dateFormats,dayViewHeaderFormat:{month:"long",year:"2-digit"},decrementHour:"Decrement Hour",decrementMinute:"Decrement Minute",decrementSecond:"Decrement Second",format:ai.format,hourCycle:ai.hourCycle,incrementHour:"Increment Hour",incrementMinute:"Increment Minute",incrementSecond:"Increment Second",locale:ai.locale,maxWeekdayLength:0,nextCentury:"Next Century",nextDecade:"Next Decade",nextMonth:"Next Month",nextYear:"Next Year",ordinal:ai.ordinal,pickHour:"Pick Hour",pickMinute:"Pick Minute",pickSecond:"Pick Second",previousCentury:"Previous Century",previousDecade:"Previous Decade",previousMonth:"Previous Month",previousYear:"Previous Year",selectDate:"Select Date",selectDecade:"Select Decade",selectMonth:"Select Month",selectTime:"Select Time",selectYear:"Select Year",startOfTheWeek:0,today:"Go to today",toggleMeridiem:"Toggle Meridiem",toggleAriaLabel:"Change date"},meta:{},multipleDates:!1,multipleDatesSeparator:"; ",promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200,restrictions:{minDate:void 0,maxDate:void 0,disabledDates:[],enabledDates:[],daysOfWeekDisabled:[],disabledTimeIntervals:[],disabledHours:[],enabledHours:[]},stepping:1,useCurrent:!0,viewDate:new di};function Si(t,e){if(!t)return null;if(t.constructor.name===di.name)return t;if(t.constructor.name===Date.name)return di.convert(t);if("string"==typeof t){const i=di.fromString(t,e);return"null"===JSON.stringify(i)?null:i}return null}function _i(t,e,i){"string"==typeof t&&"input"!==e&&ni.errorMessages.dateString();const s=Si(t,i);return s||ni.errorMessages.failedToParseDate(e,t,"input"===e),s}function wi(t,e,i,s=ai){Array.isArray(e)||ni.errorMessages.typeMismatch(t,i,"array of DateTime or Date");for(let n=0;n<e.length;n++){const i=_i(e[n],t,s);i.setLocalization(s),e[n]=i}}function Ei(t,e,i){Array.isArray(e)&&!e.some(t=>"number"!=typeof t)||ni.errorMessages.typeMismatch(t,i,"array of numbers")}function Ci(t){return({value:e,localization:i})=>{const s=_i(e,t,i);if(void 0!==s)return s.setLocalization(i),s}}function ki(t){const e=Ci(t);return t=>void 0===t.value?t.value:e(t)}function Di(t,e,i){return({value:s,providedType:n})=>void 0===s?[]:(Ei(t,s,n),s.some(t=>e>t||t>i)&&ni.errorMessages.numbersOutOfRange(t,e,i),s)}function xi(t){return Di(t,0,23)}function Ai(t){return({value:e,providedType:i,localization:s})=>void 0===e?[]:(wi(t,e,i,s),e)}function Mi(t){return({value:e,path:i})=>(t.includes(e)||ni.errorMessages.unexpectedOptionValue(i.substring(1),e,t),e)}const Li=Object.freeze({defaultDate:Ci("defaultDate"),viewDate:Ci("viewDate"),minDate:ki("restrictions.minDate"),maxDate:ki("restrictions.maxDate"),disabledHours:xi("restrictions.disabledHours"),enabledHours:xi("restrictions.enabledHours"),disabledDates:Ai("restrictions.disabledDates"),enabledDates:Ai("restrictions.enabledDates"),daysOfWeekDisabled:Di("restrictions.daysOfWeekDisabled",0,6),disabledTimeIntervals:({key:t,value:e,providedType:i,localization:s})=>{if(void 0===e)return[];Array.isArray(e)||ni.errorMessages.typeMismatch(t,i,"array of { from: DateTime|Date, to: DateTime|Date }");const n=e;for(let o=0;o<n.length;o++)Object.keys(n[o]).forEach(e=>{const i=`${t}[${o}].${e}`,r=_i(n[o][e],i,s);r.setLocalization(s),n[o][e]=r});return n},toolbarPlacement:Mi(["top","bottom","default"]),type:Mi(["icons","sprites"]),viewMode:Mi(["clock","calendar","months","years","decades"]),theme:Mi(["light","dark","auto"]),placement:Mi(["top","bottom"]),meta:({value:t})=>t,dayViewHeaderFormat:({value:t})=>t,container:({value:t,path:e})=>(t&&!(t instanceof HTMLElement||t instanceof Element||t?.appendChild)&&ni.errorMessages.typeMismatch(e.substring(1),typeof t,"HTMLElement"),t),useTwentyfourHour:({value:t,path:e,providedType:i,defaultType:s})=>{if(ni.errorMessages.deprecatedWarning("useTwentyfourHour",'Please use "options.localization.hourCycle" instead'),void 0===t||"boolean"===i)return t;ni.errorMessages.typeMismatch(e,i,s)},hourCycle:Mi(["h11","h12","h23","h24"])}),Ti=({value:t,defaultType:e,providedType:i,path:s})=>{switch(e){case"boolean":return"true"===t||!0===t;case"number":return+t;case"string":return t.toString();case"object":return{};case"function":return t;default:ni.errorMessages.typeMismatch(s,i,e)}};function Ii(t){return(Li[t.key]||Ti)(t)}class Oi{static deepCopy(t){const e={};return Object.keys(t).forEach(i=>{const s=t[i];s instanceof di?e[i]=s.clone:s instanceof Date?e[i]=new Date(s.valueOf()):(e[i]=s,"object"!=typeof s||s instanceof HTMLElement||s instanceof Element||Array.isArray(s)||(e[i]=Oi.deepCopy(s)))}),e}static objectPath(t,e){return"."===t.charAt(0)&&(t=t.slice(1)),t?t.split(".").reduce((t,e)=>Oi.isValue(t)||Oi.isValue(t[e])?t[e]:void 0,e):e}static spread(t,e,i,s=""){const n=Oi.objectPath(s,bi),o=Object.keys(t).filter(t=>!Object.keys(n).includes(t));if(o.length>0){const t=Oi.getFlattenDefaultOptions(),e=o.map(e=>{let i=`"${s}${s?".":""}${e}" is not a known option.`;const n=t.find(t=>t.includes(e));return n&&(i+=` Did you mean "${n}"?`),i});ni.errorMessages.unexpectedOptions(e)}Object.keys(t).filter(t=>"__proto__"!==t&&"constructor"!==t).forEach(o=>{"."===(s+=`.${o}`).charAt(0)&&(s=s.slice(1));const r=n[o],a=typeof t[o],c=typeof r,l=t[o];if(null==l)return e[o]=l,void(s=s.substring(0,s.lastIndexOf(`.${o}`)));"object"!=typeof r||Array.isArray(t[o])||r instanceof Date||Oi.ignoreProperties.includes(o)?e[o]=Oi.processKey(o,l,a,c,s,i):Oi.spread(t[o],e[o],i,s),s=s.substring(0,s.lastIndexOf(`.${o}`))})}static processKey(t,e,i,s,n,o){return Ii({key:t,value:e,providedType:i,defaultType:s,path:n,localization:o})}static _mergeOptions(t,e){const i=Oi.deepCopy(e),s="default"!==e.localization?.locale?e.localization:t?.localization||bi.localization;return Oi.spread(t,i,s,""),i}static _dataToOptions(t,e){const i=JSON.parse(JSON.stringify(t.dataset));if(i?.tdTargetInput&&delete i.tdTargetInput,i?.tdTargetToggle&&delete i.tdTargetToggle,!i||0===Object.keys(i).length)return e;const s={},n=t=>{const e={};return Object.keys(t).forEach(t=>{e[t.toLowerCase()]=t}),e},o=this.normalizeObject(n),r=n(e);return Object.keys(i).filter(t=>t.startsWith(ni.dataKey)).map(t=>t.substring(2)).forEach(t=>{let n=r[t.toLowerCase()];if(t.includes("_")){const a=t.split("_");n=r[a[0].toLowerCase()],void 0!==n&&e[n].constructor===Object&&(s[n]=o(a,1,e[n],i[`td${t}`]))}else void 0!==n&&(s[n]=i[`td${t}`])}),this._mergeOptions(s,e)}static normalizeObject(t){const e=(i,s,n,o)=>{const r=t(n)[i[s].toLowerCase()],a={};return void 0===r||(n[r]?.constructor===Object?(s++,a[r]=e(i,s,n[r],o)):a[r]=o),a};return e}static _dateTypeCheck(t,e){return Si(t,e)}static _typeCheckDateArray(t,e,i,s){return wi(t,e,i,s)}static _typeCheckNumberArray(t,e,i){return Ei(t,e,i)}static dateConversion(t,e,i){return _i(t,e,i)}static getFlattenDefaultOptions(){if(this._flattenDefaults)return this._flattenDefaults;const t=(e,i=[])=>Array.isArray(e)?[]:Object(e)===e?Object.entries(e).flatMap(([e,s])=>t(s,[...i,e])):i.join(".");return this._flattenDefaults=t(bi),this._flattenDefaults}static _validateConflicts(t){!t.display.sideBySide||t.display.components.clock&&(t.display.components.hours||t.display.components.minutes||t.display.components.seconds)||ni.errorMessages.conflictingConfiguration("Cannot use side by side mode without the clock components"),t.restrictions.minDate&&t.restrictions.maxDate&&(t.restrictions.minDate.isAfter(t.restrictions.maxDate)&&ni.errorMessages.conflictingConfiguration("minDate is after maxDate"),t.restrictions.maxDate.isBefore(t.restrictions.minDate)&&ni.errorMessages.conflictingConfiguration("maxDate is before minDate")),t.multipleDates&&t.dateRange&&ni.errorMessages.conflictingConfiguration('Cannot uss option "multipleDates" with "dateRange"')}}Oi.ignoreProperties=["meta","dayViewHeaderFormat","container","dateForms","ordinal"],Oi.isValue=t=>null!=t;class Pi{constructor(){this._dates=[],this.optionsStore=pi.locate(fi),this.validation=pi.locate(gi),this._eventEmitters=pi.locate(yi)}get picked(){return[...this._dates]}get lastPicked(){return this._dates[this.lastPickedIndex]?.clone}get lastPickedIndex(){return 0===this._dates.length?0:this._dates.length-1}formatInput(t){return t?(t.localization=this.optionsStore.options.localization,t.format()):""}parseInput(t){try{return Oi.dateConversion(t,"input",this.optionsStore.options.localization)}catch(e){return void this._eventEmitters.triggerEvent.emit({type:ni.events.error,reason:ni.errorMessages.failedToParseInput,format:this.optionsStore.options.localization.format,value:t})}}setFromInput(t,e){if(!t)return void this.setValue(void 0,e);const i=this.parseInput(t);i&&(i.setLocalization(this.optionsStore.options.localization),this.setValue(i,e))}add(t){this._dates.push(t)}isPicked(t,e){if(!di.isValid(t))return!1;if(!e)return void 0!==this._dates.find(e=>e.isSame(t));const i=li(e),s=t.format(i);return void 0!==this._dates.map(t=>t.format(i)).find(t=>t===s)}pickedIndex(t,e){if(!di.isValid(t))return-1;if(!e)return this._dates.map(t=>t.valueOf()).indexOf(t.valueOf());const i=li(e),s=t.format(i);return this._dates.map(t=>t.format(i)).indexOf(s)}clear(){this.optionsStore.unset=!0,this._eventEmitters.triggerEvent.emit({type:ni.events.change,date:void 0,oldDate:this.lastPicked,isClear:!0,isValid:!0}),this._dates=[],this.optionsStore.input&&(this.optionsStore.input.value=""),this._eventEmitters.updateDisplay.emit("all")}static getStartEndYear(t,e){const i=t/10,s=Math.floor(e/t)*t;return[s,s+9*i,Math.floor(e/i)*i]}updateInput(t){if(!this.optionsStore.input)return;let e=this.formatInput(t);(this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange)&&(e=this._dates.map(t=>this.formatInput(t)).join(this.optionsStore.options.multipleDatesSeparator)),this.optionsStore.input.value!=e&&(this.optionsStore.input.value=e)}setValue(t,e){const i=void 0===e,s=!t&&i;let n=this.optionsStore.unset?null:this._dates[e]?.clone;if(!n&&!this.optionsStore.unset&&i&&s&&(n=this.lastPicked),t&&n?.isSame(t))return void this.updateInput(t);if(!t)return void this._setValueNull(s,e,n);e=e||0,t=t.clone,1!==this.optionsStore.options.stepping&&(t.minutes=Math.round(t.minutes/this.optionsStore.options.stepping)*this.optionsStore.options.stepping,t.startOf(oi.minutes));const o=i=>{this._dates[e]=t,this._eventEmitters.updateViewDate.emit(t.clone),this.updateInput(t),this.optionsStore.unset=!1,this._eventEmitters.updateDisplay.emit("all"),this._eventEmitters.triggerEvent.emit({type:ni.events.change,date:t,oldDate:n,isClear:s,isValid:i})};this.validation.isValid(t)&&this.validation.dateRangeIsValid(this.picked,e,t)?o(!0):(this.optionsStore.options.keepInvalid&&o(!1),this._eventEmitters.triggerEvent.emit({type:ni.events.error,reason:ni.errorMessages.failedToSetInvalidDate,date:t,oldDate:n}))}_setValueNull(t,e,i){!this.optionsStore.options.multipleDates||1===this._dates.length||t?(this.optionsStore.unset=!0,this._dates=[]):this._dates.splice(e,1),this.updateInput(),this._eventEmitters.triggerEvent.emit({type:ni.events.change,date:void 0,oldDate:i,isClear:t,isValid:!0}),this._eventEmitters.updateDisplay.emit("all")}}var Ni,Vi;(Vi=Ni||(Ni={})).next="next",Vi.previous="previous",Vi.changeCalendarView="changeCalendarView",Vi.selectMonth="selectMonth",Vi.selectYear="selectYear",Vi.selectDecade="selectDecade",Vi.selectDay="selectDay",Vi.selectHour="selectHour",Vi.selectMinute="selectMinute",Vi.selectSecond="selectSecond",Vi.incrementHours="incrementHours",Vi.incrementMinutes="incrementMinutes",Vi.incrementSeconds="incrementSeconds",Vi.decrementHours="decrementHours",Vi.decrementMinutes="decrementMinutes",Vi.decrementSeconds="decrementSeconds",Vi.toggleMeridiem="toggleMeridiem",Vi.togglePicker="togglePicker",Vi.showClock="showClock",Vi.showHours="showHours",Vi.showMinutes="showMinutes",Vi.showSeconds="showSeconds",Vi.clear="clear",Vi.close="close",Vi.today="today";var Fi=Ni;class Hi{constructor(){this.optionsStore=pi.locate(fi),this.dates=pi.locate(Pi),this.validation=pi.locate(gi)}getPicker(){const t=document.createElement("div");if(t.classList.add(ni.css.daysContainer),t.role="grid",t.append(...this._daysOfTheWeek()),this.optionsStore.options.display.calendarWeeks){const e=document.createElement("div");e.classList.add(ni.css.calendarWeeks,ni.css.noHighlight),t.appendChild(e)}const{rangeHoverEvent:e,rangeHoverOutEvent:i}=this.handleMouseEvents(t);for(let s=0;42>s;s++){if(0!==s&&s%7==0&&this.optionsStore.options.display.calendarWeeks){const e=document.createElement("div");e.classList.add(ni.css.calendarWeeks,ni.css.noHighlight),e.tabIndex=-1,t.appendChild(e)}const n=document.createElement("div");n.setAttribute("data-action",Fi.selectDay),n.role="gridcell",n.tabIndex=-1,t.appendChild(n),matchMedia("(hover: hover)").matches&&this.optionsStore.options.dateRange&&(n.addEventListener("mouseover",e),n.addEventListener("mouseout",i))}return t}_update(t,e){const i=t.getElementsByClassName(ni.css.daysContainer)[0];this._updateCalendarView(i);const s=this.optionsStore.viewDate.clone.startOf(oi.month).startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).manipulate(12,oi.hours);this._handleCalendarWeeks(i,s.clone),i.querySelectorAll(`[data-action="${Fi.selectDay}"]`).forEach(t=>{const i=[];i.push(ni.css.day),s.isBefore(this.optionsStore.viewDate,oi.month)&&i.push(ni.css.old),s.isAfter(this.optionsStore.viewDate,oi.month)&&i.push(ni.css.new),this.optionsStore.unset||this.optionsStore.options.dateRange||!this.dates.isPicked(s,oi.date)||i.push(ni.css.active),this.validation.isValid(s,oi.date)||i.push(ni.css.disabled),s.isSame(new di,oi.date)&&i.push(ni.css.today),0!==s.weekDay&&6!==s.weekDay||i.push(ni.css.weekend),this._handleDateRange(s,i),e(oi.date,s,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",s.dateToDataValue()),t.setAttribute("data-day",`${s.date}`),t.innerText=s.parts(void 0,{day:"numeric"}).day,t.ariaLabel=s.format("MMMM dd, yyyy"),s.manipulate(1,oi.date)})}_handleDateRange(t,e){const i=this.dates.picked[0],s=this.dates.picked[1];this.optionsStore.options.dateRange&&(t.isBetween(i,s,oi.date)&&e.push(ni.css.rangeIn),t.isSame(i,oi.date)&&e.push(ni.css.rangeStart),t.isSame(s,oi.date)&&e.push(ni.css.rangeEnd))}handleMouseEvents(t){return{rangeHoverEvent:e=>{const i=e?.currentTarget;if(1!==this.dates.picked.length||i.classList.contains(ni.css.disabled))return;const s=[...t.querySelectorAll(".day")],n=i.getAttribute("data-value"),o=di.fromString(n,{format:"yyyy-MM-dd"}),r=s.findIndex(t=>t.getAttribute("data-value")===n),a=this.dates.picked[0],c=this.dates.picked[1],l=a.dateToDataValue(),h=s.findIndex(t=>t.getAttribute("data-value")===l),d=s[h];let u;o.isSame(a,oi.date)||i.classList.remove(ni.css.rangeStart),o.isSame(c,oi.date)||i.classList.remove(ni.css.rangeEnd),o.isBefore(a)?(i.classList.add(ni.css.rangeStart),d?.classList.remove(ni.css.rangeStart),d?.classList.add(ni.css.rangeEnd),u=(t,e)=>e>r&&h>e):(i.classList.add(ni.css.rangeEnd),d?.classList.remove(ni.css.rangeEnd),d?.classList.add(ni.css.rangeStart),u=(t,e)=>r>e&&e>h),s.filter(u).forEach(t=>{t.classList.add(ni.css.rangeIn)})},rangeHoverOutEvent:e=>{const i=[...t.querySelectorAll(".day")];if(1===this.dates.picked.length&&i.forEach(t=>t.classList.remove(ni.css.rangeIn)),1!==this.dates.picked.length)return;const s=e?.currentTarget,n=new di(s.getAttribute("data-value"));n.isSame(this.dates.picked[0],oi.date)||s.classList.remove(ni.css.rangeStart),n.isSame(this.dates.picked[1],oi.date)||s.classList.remove(ni.css.rangeEnd)}}}_updateCalendarView(t){if("calendar"!==this.optionsStore.currentView)return;const[e,i,s]=t.parentElement.getElementsByClassName(ni.css.calendarHeader)[0].getElementsByTagName("div");i.setAttribute(ni.css.daysContainer,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat)),this.optionsStore.options.display.components.month?i.classList.remove(ni.css.disabled):i.classList.add(ni.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,oi.month),oi.month)?e.classList.remove(ni.css.disabled):e.classList.add(ni.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,oi.month),oi.month)?s.classList.remove(ni.css.disabled):s.classList.add(ni.css.disabled)}_daysOfTheWeek(){const t=this.optionsStore.viewDate.clone.startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).startOf(oi.date),e=[];if(document.createElement("div"),this.optionsStore.options.display.calendarWeeks){const t=document.createElement("div");t.classList.add(ni.css.calendarWeeks,ni.css.noHighlight),t.innerText="#",e.push(t)}for(let i=0;7>i;i++){const i=document.createElement("div");i.classList.add(ni.css.dayOfTheWeek,ni.css.noHighlight);let s=t.format({weekday:"short"});this.optionsStore.options.localization.maxWeekdayLength>0&&(s=s.substring(0,this.optionsStore.options.localization.maxWeekdayLength)),i.innerText=s,i.ariaLabel=t.format({weekday:"long"}),t.manipulate(1,oi.date),e.push(i)}return e}_handleCalendarWeeks(t,e){[...t.querySelectorAll(`.${ni.css.calendarWeeks}`)].filter(t=>"#"!==t.innerText).forEach(t=>{t.innerText=`${e.week}`,e.manipulate(7,oi.date)})}}class $i{constructor(){this.optionsStore=pi.locate(fi),this.dates=pi.locate(Pi),this.validation=pi.locate(gi)}getPicker(){const t=document.createElement("div");t.classList.add(ni.css.monthsContainer);for(let e=0;12>e;e++){const e=document.createElement("div");e.tabIndex=-1,e.setAttribute("data-action",Fi.selectMonth),t.appendChild(e)}return t}_update(t,e){const i=t.getElementsByClassName(ni.css.monthsContainer)[0];if("months"===this.optionsStore.currentView){const[t,e,s]=i.parentElement.getElementsByClassName(ni.css.calendarHeader)[0].getElementsByTagName("div");e.setAttribute(ni.css.monthsContainer,this.optionsStore.viewDate.format({year:"numeric"})),this.optionsStore.options.display.components.year?e.classList.remove(ni.css.disabled):e.classList.add(ni.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,oi.year),oi.year)?t.classList.remove(ni.css.disabled):t.classList.add(ni.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,oi.year),oi.year)?s.classList.remove(ni.css.disabled):s.classList.add(ni.css.disabled)}const s=this.optionsStore.viewDate.clone.startOf(oi.year);i.querySelectorAll(`[data-action="${Fi.selectMonth}"]`).forEach((t,i)=>{const n=[];n.push(ni.css.month),!this.optionsStore.unset&&this.dates.isPicked(s,oi.month)&&n.push(ni.css.active),this.validation.isValid(s,oi.month)||n.push(ni.css.disabled),e(oi.month,s,n,t),t.classList.remove(...t.classList),t.classList.add(...n),t.setAttribute("data-value",`${i}`),t.innerText=`${s.format({month:"short"})}`,s.manipulate(1,oi.month)})}}class zi{constructor(){this.optionsStore=pi.locate(fi),this.dates=pi.locate(Pi),this.validation=pi.locate(gi)}getPicker(){const t=document.createElement("div");t.classList.add(ni.css.yearsContainer);for(let e=0;12>e;e++){const e=document.createElement("div");e.tabIndex=-1,e.setAttribute("data-action",Fi.selectYear),t.appendChild(e)}return t}_update(t,e){this._startYear=this.optionsStore.viewDate.clone.manipulate(-1,oi.year),this._endYear=this.optionsStore.viewDate.clone.manipulate(10,oi.year);const i=t.getElementsByClassName(ni.css.yearsContainer)[0];if("years"===this.optionsStore.currentView){const[t,e,s]=i.parentElement.getElementsByClassName(ni.css.calendarHeader)[0].getElementsByTagName("div");e.setAttribute(ni.css.yearsContainer,`${this._startYear.format({year:"numeric"})}-${this._endYear.format({year:"numeric"})}`),this.optionsStore.options.display.components.decades?e.classList.remove(ni.css.disabled):e.classList.add(ni.css.disabled),this.validation.isValid(this._startYear,oi.year)?t.classList.remove(ni.css.disabled):t.classList.add(ni.css.disabled),this.validation.isValid(this._endYear,oi.year)?s.classList.remove(ni.css.disabled):s.classList.add(ni.css.disabled)}const s=this.optionsStore.viewDate.clone.startOf(oi.year).manipulate(-1,oi.year);i.querySelectorAll(`[data-action="${Fi.selectYear}"]`).forEach(t=>{const i=[];i.push(ni.css.year),!this.optionsStore.unset&&this.dates.isPicked(s,oi.year)&&i.push(ni.css.active),this.validation.isValid(s,oi.year)||i.push(ni.css.disabled),e(oi.year,s,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",`${s.year}`),t.innerText=s.format({year:"numeric"}),s.manipulate(1,oi.year)})}}class ji{constructor(){this.optionsStore=pi.locate(fi),this.dates=pi.locate(Pi),this.validation=pi.locate(gi)}getPicker(){const t=document.createElement("div");t.classList.add(ni.css.decadesContainer);for(let e=0;12>e;e++){const e=document.createElement("div");e.tabIndex=-1,e.setAttribute("data-action",Fi.selectDecade),t.appendChild(e)}return t}_update(t,e){const[i,s]=Pi.getStartEndYear(100,this.optionsStore.viewDate.year);this._startDecade=this.optionsStore.viewDate.clone.startOf(oi.year),this._startDecade.year=i,this._endDecade=this.optionsStore.viewDate.clone.startOf(oi.year),this._endDecade.year=s;const n=t.getElementsByClassName(ni.css.decadesContainer)[0],[o,r,a]=n.parentElement.getElementsByClassName(ni.css.calendarHeader)[0].getElementsByTagName("div"),c=this.validation.isValid(this._startDecade,oi.year);"decades"===this.optionsStore.currentView&&(r.setAttribute(ni.css.decadesContainer,`${this._startDecade.format({year:"numeric"})}-${this._endDecade.format({year:"numeric"})}`),c?o.classList.remove(ni.css.disabled):o.classList.add(ni.css.disabled),this.validation.isValid(this._endDecade,oi.year)?a.classList.remove(ni.css.disabled):a.classList.add(ni.css.disabled));const l=this.dates.picked.map(t=>t.year);n.querySelectorAll(`[data-action="${Fi.selectDecade}"]`).forEach((t,i)=>{if(0===i)return t.classList.add(ni.css.old),void(0>this._startDecade.year-10&&(t.textContent=" ",o.classList.add(ni.css.disabled),t.classList.add(ni.css.disabled),t.setAttribute("data-value","")));const s=[];s.push(ni.css.decade);const n=this._startDecade.year,r=this._startDecade.year+9;!this.optionsStore.unset&&l.filter(t=>t>=n&&r>=t).length>0&&s.push(ni.css.active),c||this.validation.isValid(this._startDecade.clone.manipulate(10,oi.year),oi.year)||s.push(ni.css.disabled),e("decade",this._startDecade,s,t),t.classList.remove(...t.classList),t.classList.add(...s),t.setAttribute("data-value",`${this._startDecade.year}`),t.innerText=`${this._startDecade.format({year:"numeric"})}`,this._startDecade.manipulate(10,oi.year)})}}class Ri{constructor(){this._gridColumns="",this.optionsStore=pi.locate(fi),this.dates=pi.locate(Pi),this.validation=pi.locate(gi)}getPicker(t){const e=document.createElement("div");return e.classList.add(ni.css.clockContainer),e.append(...this._grid(t)),e}_update(t){const e=t.getElementsByClassName(ni.css.clockContainer)[0];let i=this.dates.lastPicked?.clone;if(!i&&this.optionsStore.options.useCurrent&&(i=this.optionsStore.viewDate.clone),e.querySelectorAll(".disabled").forEach(t=>t.classList.remove(ni.css.disabled)),this.optionsStore.options.display.components.hours&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,oi.hours),oi.hours)||e.querySelector(`[data-action=${Fi.incrementHours}]`).classList.add(ni.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,oi.hours),oi.hours)||e.querySelector(`[data-action=${Fi.decrementHours}]`).classList.add(ni.css.disabled),e.querySelector(`[data-time-component=${oi.hours}]`).innerText=i?i.getHoursFormatted(this.optionsStore.options.localization.hourCycle):"--"),this.optionsStore.options.display.components.minutes&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,oi.minutes),oi.minutes)||e.querySelector(`[data-action=${Fi.incrementMinutes}]`).classList.add(ni.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,oi.minutes),oi.minutes)||e.querySelector(`[data-action=${Fi.decrementMinutes}]`).classList.add(ni.css.disabled),e.querySelector(`[data-time-component=${oi.minutes}]`).innerText=i?i.minutesFormatted:"--"),this.optionsStore.options.display.components.seconds&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,oi.seconds),oi.seconds)||e.querySelector(`[data-action=${Fi.incrementSeconds}]`).classList.add(ni.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,oi.seconds),oi.seconds)||e.querySelector(`[data-action=${Fi.decrementSeconds}]`).classList.add(ni.css.disabled),e.querySelector(`[data-time-component=${oi.seconds}]`).innerText=i?i.secondsFormatted:"--"),this.optionsStore.isTwelveHour){const t=e.querySelector(`[data-action=${Fi.toggleMeridiem}]`),s=(i||this.optionsStore.viewDate).clone;t.innerText=s.meridiem(),this.validation.isValid(s.manipulate(12>s.hours?12:-12,oi.hours))?t.classList.remove(ni.css.disabled):t.classList.add(ni.css.disabled)}e.style.gridTemplateAreas=`"${this._gridColumns}"`}_grid(t){this._gridColumns="";const e=[],i=[],s=[],n=document.createElement("div"),o=t(this.optionsStore.options.display.icons.up),r=t(this.optionsStore.options.display.icons.down);n.classList.add(ni.css.separator,ni.css.noHighlight);const a=n.cloneNode(!0);a.innerHTML=":";const c=(t=!1)=>t?a.cloneNode(!0):n.cloneNode(!0);if(this.optionsStore.options.display.components.hours){let t=document.createElement("div");t.tabIndex=-1,t.setAttribute("title",this.optionsStore.options.localization.incrementHour),t.setAttribute("data-action",Fi.incrementHours),t.appendChild(o.cloneNode(!0)),e.push(t),t=document.createElement("div"),t.tabIndex=-1,t.setAttribute("title",this.optionsStore.options.localization.pickHour),t.setAttribute("data-action",Fi.showHours),t.setAttribute("data-time-component",oi.hours),i.push(t),t=document.createElement("div"),t.tabIndex=-1,t.setAttribute("title",this.optionsStore.options.localization.decrementHour),t.setAttribute("data-action",Fi.decrementHours),t.appendChild(r.cloneNode(!0)),s.push(t),this._gridColumns+="a"}if(this.optionsStore.options.display.components.minutes){this._gridColumns+=" a",this.optionsStore.options.display.components.hours&&(e.push(c()),i.push(c(!0)),s.push(c()),this._gridColumns+=" a");let t=document.createElement("div");t.tabIndex=-1,t.setAttribute("title",this.optionsStore.options.localization.incrementMinute),t.setAttribute("data-action",Fi.incrementMinutes),t.appendChild(o.cloneNode(!0)),e.push(t),t=document.createElement("div"),t.tabIndex=-1,t.setAttribute("title",this.optionsStore.options.localization.pickMinute),t.setAttribute("data-action",Fi.showMinutes),t.setAttribute("data-time-component",oi.minutes),i.push(t),t=document.createElement("div"),t.tabIndex=-1,t.setAttribute("title",this.optionsStore.options.localization.decrementMinute),t.setAttribute("data-action",Fi.decrementMinutes),t.appendChild(r.cloneNode(!0)),s.push(t)}if(this.optionsStore.options.display.components.seconds){this._gridColumns+=" a",this.optionsStore.options.display.components.minutes&&(e.push(c()),i.push(c(!0)),s.push(c()),this._gridColumns+=" a");let t=document.createElement("div");t.tabIndex=-1,t.setAttribute("title",this.optionsStore.options.localization.incrementSecond),t.setAttribute("data-action",Fi.incrementSeconds),t.appendChild(o.cloneNode(!0)),e.push(t),t=document.createElement("div"),t.tabIndex=-1,t.setAttribute("title",this.optionsStore.options.localization.pickSecond),t.setAttribute("data-action",Fi.showSeconds),t.setAttribute("data-time-component",oi.seconds),i.push(t),t=document.createElement("div"),t.tabIndex=-1,t.setAttribute("title",this.optionsStore.options.localization.decrementSecond),t.setAttribute("data-action",Fi.decrementSeconds),t.appendChild(r.cloneNode(!0)),s.push(t)}if(this.optionsStore.isTwelveHour){this._gridColumns+=" a";let t=c();e.push(t);const n=document.createElement("button");n.tabIndex=-1,n.setAttribute("type","button"),n.setAttribute("title",this.optionsStore.options.localization.toggleMeridiem),n.setAttribute("data-action",Fi.toggleMeridiem),n.setAttribute("tabindex","-1"),ni.css.toggleMeridiem.includes(",")?n.classList.add(...ni.css.toggleMeridiem.split(",")):n.classList.add(ni.css.toggleMeridiem),t=document.createElement("div"),t.classList.add(ni.css.noHighlight),t.appendChild(n),i.push(t),t=c(),s.push(t)}return this._gridColumns=this._gridColumns.trim(),[...e,...i,...s]}}class Bi{constructor(){this.optionsStore=pi.locate(fi),this.validation=pi.locate(gi),this.dates=pi.locate(Pi)}getPicker(){const t=document.createElement("div");t.classList.add(ni.css.hourContainer);for(let e=0;e<(this.optionsStore.isTwelveHour?12:24);e++){const e=document.createElement("div");e.tabIndex=-1,e.setAttribute("data-action",Fi.selectHour),t.appendChild(e)}return t}_update(t,e){const i=t.getElementsByClassName(ni.css.hourContainer)[0],s=this.optionsStore.viewDate.clone.startOf(oi.date);i.querySelectorAll(`[data-action="${Fi.selectHour}"]`).forEach(t=>{const i=[];i.push(ni.css.hour),this.validation.isValid(s,oi.hours)||i.push(ni.css.disabled),e(oi.hours,s,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",`${s.hours}`),t.innerText=s.getHoursFormatted(this.optionsStore.options.localization.hourCycle),s.manipulate(1,oi.hours)})}}class Ui{constructor(){this.optionsStore=pi.locate(fi),this.validation=pi.locate(gi)}getPicker(){const t=document.createElement("div");t.classList.add(ni.css.minuteContainer);const e=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;for(let i=0;60/e>i;i++){const e=document.createElement("div");e.tabIndex=-1,e.setAttribute("data-action",Fi.selectMinute),t.appendChild(e)}return t}_update(t,e){const i=t.getElementsByClassName(ni.css.minuteContainer)[0],s=this.optionsStore.viewDate.clone.startOf(oi.hours),n=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;i.querySelectorAll(`[data-action="${Fi.selectMinute}"]`).forEach(t=>{const i=[];i.push(ni.css.minute),this.validation.isValid(s,oi.minutes)||i.push(ni.css.disabled),e(oi.minutes,s,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",`${s.minutes}`),t.innerText=s.minutesFormatted,s.manipulate(n,oi.minutes)})}}class qi{constructor(){this.optionsStore=pi.locate(fi),this.validation=pi.locate(gi)}getPicker(){const t=document.createElement("div");t.classList.add(ni.css.secondContainer);for(let e=0;12>e;e++){const e=document.createElement("div");e.setAttribute("data-action",Fi.selectSecond),e.tabIndex=-1,t.appendChild(e)}return t}_update(t,e){const i=t.getElementsByClassName(ni.css.secondContainer)[0],s=this.optionsStore.viewDate.clone.startOf(oi.minutes);i.querySelectorAll(`[data-action="${Fi.selectSecond}"]`).forEach(t=>{const i=[];i.push(ni.css.second),this.validation.isValid(s,oi.seconds)||i.push(ni.css.disabled),e(oi.seconds,s,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",`${s.seconds}`),t.innerText=s.secondsFormatted,s.manipulate(5,oi.seconds)})}}class Wi{static toggle(t){t.classList.contains(ni.css.show)?this.hide(t):this.show(t)}static showImmediately(t){t.classList.remove(ni.css.collapsing),t.classList.add(ni.css.collapse,ni.css.show),t.style.height=""}static show(t){t.classList.contains(ni.css.collapsing)||t.classList.contains(ni.css.show)||(t.style.height="0",t.classList.remove(ni.css.collapse),t.classList.add(ni.css.collapsing),setTimeout(()=>{Wi.showImmediately(t)},this.getTransitionDurationFromElement(t)),t.style.height=`${t.scrollHeight}px`)}static hideImmediately(t){t&&(t.classList.remove(ni.css.collapsing,ni.css.show),t.classList.add(ni.css.collapse))}static hide(t){!t.classList.contains(ni.css.collapsing)&&t.classList.contains(ni.css.show)&&(t.style.height=`${t.getBoundingClientRect().height}px`,t.offsetHeight,t.classList.remove(ni.css.collapse,ni.css.show),t.classList.add(ni.css.collapsing),t.style.height="",setTimeout(()=>{Wi.hideImmediately(t)},this.getTransitionDurationFromElement(t)))}}Wi.getTransitionDurationFromElement=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const s=Number.parseFloat(e),n=Number.parseFloat(i);return s||n?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0};class Ki{constructor(){this._isVisible=!1,this._keyboardEventBound=this._keyboardEvent.bind(this),this._documentClickEvent=t=>{this.optionsStore.options.debug||window.debug||!this._isVisible||t.composedPath().includes(this.widget)||t.composedPath()?.includes(this.optionsStore.element)||this.hide()},this._actionsClickEvent=t=>{this._eventEmitters.action.emit({e:t})},this.optionsStore=pi.locate(fi),this.validation=pi.locate(gi),this.dates=pi.locate(Pi),this.dateDisplay=pi.locate(Hi),this.monthDisplay=pi.locate($i),this.yearDisplay=pi.locate(zi),this.decadeDisplay=pi.locate(ji),this.timeDisplay=pi.locate(Ri),this.hourDisplay=pi.locate(Bi),this.minuteDisplay=pi.locate(Ui),this.secondDisplay=pi.locate(qi),this._eventEmitters=pi.locate(yi),this._widget=void 0,this._eventEmitters.updateDisplay.subscribe(t=>{this._update(t)})}get widget(){return this._widget}get dateContainer(){return this.widget?.querySelector(`div.${ni.css.dateContainer}`)}get timeContainer(){return this.widget?.querySelector(`div.${ni.css.timeContainer}`)}get isVisible(){return this._isVisible}_update(t){if(this.widget)switch(t){case oi.seconds:this.secondDisplay._update(this.widget,this.paint);break;case oi.minutes:this.minuteDisplay._update(this.widget,this.paint);break;case oi.hours:this.hourDisplay._update(this.widget,this.paint);break;case oi.date:this.dateDisplay._update(this.widget,this.paint);break;case oi.month:this.monthDisplay._update(this.widget,this.paint);break;case oi.year:this.yearDisplay._update(this.widget,this.paint);break;case"decade":this.decadeDisplay._update(this.widget,this.paint);break;case"clock":if(!this._hasTime)break;this.timeDisplay._update(this.widget),this._update(oi.hours),this._update(oi.minutes),this._update(oi.seconds);break;case"calendar":this._update(oi.date),this._update(oi.year),this._update(oi.month),this.decadeDisplay._update(this.widget,this.paint),this._updateCalendarHeader();break;case"all":this._hasTime&&this._update("clock"),this._hasDate&&this._update("calendar")}}paint(t,e,i,s){}show(){if(null==this.widget){if(this._showSetDefaultIfNeeded(),this._buildWidget(),this._updateTheme(),this._showSetupViewMode(),this.optionsStore.options.display.inline)this.optionsStore.element.appendChild(this.widget);else{const t=this.optionsStore.options?.container||document.body,e=this.optionsStore.options?.display?.placement||"bottom";t.appendChild(this.widget);const i=this._handleFocus.bind(this);this.createPopup(this.optionsStore.element,this.widget,{modifiers:[{name:"eventListeners",enabled:!0},{name:"focusDate",enabled:!0,phase:"afterWrite",fn(){i()}}],placement:"rtl"===document.documentElement.dir?`${e}-end`:`${e}-start`}).then(()=>{this._handleFocus()})}"clock"==this.optionsStore.options.display.viewMode&&this._eventEmitters.action.emit({e:null,action:Fi.showClock}),this.widget.querySelectorAll("[data-action]").forEach(t=>t.addEventListener("click",this._actionsClickEvent)),this._hasTime&&this.optionsStore.options.display.sideBySide&&(this.timeDisplay._update(this.widget),this.widget.getElementsByClassName(ni.css.clockContainer)[0].style.display="grid")}this.widget.classList.add(ni.css.show),this.optionsStore.options.display.inline||(this.updatePopup(),document.addEventListener("click",this._documentClickEvent)),this._eventEmitters.triggerEvent.emit({type:ni.events.show}),this._isVisible=!0,this.optionsStore.options.display.keyboardNavigation&&this.widget.addEventListener("keydown",this._keyboardEventBound)}_showSetupViewMode(){const t=this._hasTime&&!this._hasDate;t?(this.optionsStore.currentView="clock",this._eventEmitters.action.emit({e:null,action:Fi.showClock})):this.optionsStore.currentCalendarViewMode||(this.optionsStore.currentCalendarViewMode=this.optionsStore.minimumCalendarViewMode),t||"clock"===this.optionsStore.options.display.viewMode||(this._hasTime&&(this.optionsStore.options.display.sideBySide?Wi.show(this.timeContainer):Wi.hideImmediately(this.timeContainer)),Wi.show(this.dateContainer)),this._hasDate&&this._showMode()}_showSetDefaultIfNeeded(){if(0==this.dates.picked.length){if(this.optionsStore.options.useCurrent&&!this.optionsStore.options.defaultDate){const t=(new di).setLocalization(this.optionsStore.options.localization);if(!this.optionsStore.options.keepInvalid){let e=0,i=1;for(this.optionsStore.options.restrictions.maxDate?.isBefore(t)&&(i=-1);!this.validation.isValid(t)&&e>31;)t.manipulate(i,oi.date),e++}this.dates.setValue(t)}this.optionsStore.options.defaultDate&&this.dates.setValue(this.optionsStore.options.defaultDate)}}async createPopup(t,e,i){let s;if(window?.Popper)s=window?.Popper?.createPopper;else{const{createPopper:t}=await ei(async()=>{const{createPopper:t}=await import("./vendor-core-f8R1kwD4.js").then(t=>t.c);return{createPopper:t}},[]);s=t}s&&(this._popperInstance=s(t,e,i))}updatePopup(){this._popperInstance&&this._popperInstance.update()}_showMode(t){if(!this.widget)return;if(t){const e=Math.max(this.optionsStore.minimumCalendarViewMode,Math.min(3,this.optionsStore.currentCalendarViewMode+t));if(this.optionsStore.currentCalendarViewMode==e)return;this.optionsStore.currentCalendarViewMode=e}this.widget.querySelectorAll(`.${ni.css.dateContainer} > div:not(.${ni.css.calendarHeader}), .${ni.css.timeContainer} > div:not(.${ni.css.clockContainer})`).forEach(t=>t.style.display="none");const e=mi[this.optionsStore.currentCalendarViewMode],i=this.widget.querySelector(`.${e.className}`);switch(e.className){case ni.css.decadesContainer:this.decadeDisplay._update(this.widget,this.paint);break;case ni.css.yearsContainer:this.yearDisplay._update(this.widget,this.paint);break;case ni.css.monthsContainer:this.monthDisplay._update(this.widget,this.paint);break;case ni.css.daysContainer:this.dateDisplay._update(this.widget,this.paint)}i.style.display="grid",this.optionsStore.options.display.sideBySide&&(this.widget.querySelectorAll(`.${ni.css.clockContainer}`)[0].style.display="grid"),this._updateCalendarHeader(),this._eventEmitters.viewUpdate.emit(),this.findViewDateElement()?.focus()}_updateTheme(t){if(this.widget){if(t){if(this.optionsStore.options.display.theme===t)return;this.optionsStore.options.display.theme=t}this.widget.classList.remove("light","dark"),this.widget.classList.add(this._getThemeClass()),"auto"===this.optionsStore.options.display.theme?window.matchMedia(ni.css.isDarkPreferredQuery).addEventListener("change",()=>this._updateTheme()):window.matchMedia(ni.css.isDarkPreferredQuery).removeEventListener("change",()=>this._updateTheme())}}_getThemeClass(){const t=this.optionsStore.options.display.theme||"auto",e=window.matchMedia&&window.matchMedia(ni.css.isDarkPreferredQuery).matches;switch(t){case"light":return ni.css.lightTheme;case"dark":return ni.css.darkTheme;case"auto":return e?ni.css.darkTheme:ni.css.lightTheme}}_updateCalendarHeader(){if(!this._hasDate)return;const t=[...this.widget.querySelector(`.${ni.css.dateContainer} div[style*="display: grid"]`).classList].find(t=>t.startsWith(ni.css.dateContainer)),[e,i,s]=this.widget.getElementsByClassName(ni.css.calendarHeader)[0].getElementsByTagName("div");switch(t){case ni.css.decadesContainer:e.setAttribute("title",this.optionsStore.options.localization.previousCentury),i.setAttribute("title",""),s.setAttribute("title",this.optionsStore.options.localization.nextCentury);break;case ni.css.yearsContainer:e.setAttribute("title",this.optionsStore.options.localization.previousDecade),i.setAttribute("title",this.optionsStore.options.localization.selectDecade),s.setAttribute("title",this.optionsStore.options.localization.nextDecade);break;case ni.css.monthsContainer:e.setAttribute("title",this.optionsStore.options.localization.previousYear),i.setAttribute("title",this.optionsStore.options.localization.selectYear),s.setAttribute("title",this.optionsStore.options.localization.nextYear);break;case ni.css.daysContainer:e.setAttribute("title",this.optionsStore.options.localization.previousMonth),i.setAttribute("title",this.optionsStore.options.localization.selectMonth),s.setAttribute("title",this.optionsStore.options.localization.nextMonth),i.setAttribute(t,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat))}i.innerText=i.getAttribute(t)}hide(){this.widget&&this._isVisible&&(this.widget.classList.remove(ni.css.show),this._isVisible&&(this._eventEmitters.triggerEvent.emit({type:ni.events.hide,date:this.optionsStore.unset?null:this.dates.lastPicked?.clone}),this._isVisible=!1),document.removeEventListener("click",this._documentClickEvent),this.optionsStore.options.display.keyboardNavigation&&this.widget.removeEventListener("keydown",this._keyboardEventBound),this.optionsStore.toggle?this.optionsStore.toggle.focus():this.optionsStore.input&&this.optionsStore.input.focus())}toggle(){return this._isVisible?this.hide():this.show()}_dispose(){document.removeEventListener("click",this._documentClickEvent),this._popperInstance&&this._popperInstance.destroy(),this.widget&&(this.widget.querySelectorAll("[data-action]").forEach(t=>t.removeEventListener("click",this._actionsClickEvent)),this.widget.parentNode.removeChild(this.widget),this._widget=void 0)}_buildWidget(){const t=document.createElement("div");t.tabIndex=-1,t.classList.add(ni.css.widget),t.setAttribute("role","widget");const e=document.createElement("div");e.tabIndex=-1,e.classList.add(ni.css.dateContainer),e.append(this.getHeadTemplate(),this.decadeDisplay.getPicker(),this.yearDisplay.getPicker(),this.monthDisplay.getPicker(),this.dateDisplay.getPicker());const i=document.createElement("div");i.tabIndex=-1,i.classList.add(ni.css.timeContainer),i.appendChild(this.timeDisplay.getPicker(this._iconTag.bind(this))),i.appendChild(this.hourDisplay.getPicker()),i.appendChild(this.minuteDisplay.getPicker()),i.appendChild(this.secondDisplay.getPicker());const s=document.createElement("div");if(s.tabIndex=-1,s.classList.add(ni.css.toolbar),s.append(...this.getToolbarElements()),this.optionsStore.options.display.inline&&t.classList.add(ni.css.inline),this.optionsStore.options.display.calendarWeeks&&t.classList.add("calendarWeeks"),this.optionsStore.options.display.sideBySide&&this._hasDateAndTime)return void this._buildWidgetSideBySide(t,e,i,s);"top"===this.optionsStore.options.display.toolbarPlacement&&t.appendChild(s);const n=(e,i,s,n)=>{e&&(i&&(s.classList.add(ni.css.collapse),n&&s.classList.add(ni.css.show)),t.appendChild(s))};n(this._hasDate,this._hasTime,e,"clock"!==this.optionsStore.options.display.viewMode),n(this._hasTime,this._hasDate,i,"clock"===this.optionsStore.options.display.viewMode),"bottom"===this.optionsStore.options.display.toolbarPlacement&&t.appendChild(s);const o=document.createElement("div");o.classList.add("arrow"),o.setAttribute("data-popper-arrow",""),t.appendChild(o),this._widget=t}_buildWidgetSideBySide(t,e,i,s){t.classList.add(ni.css.sideBySide),"top"===this.optionsStore.options.display.toolbarPlacement&&t.appendChild(s);const n=document.createElement("div");n.classList.add("td-row"),e.classList.add("td-half"),i.classList.add("td-half"),n.appendChild(e),n.appendChild(i),t.appendChild(n),"bottom"===this.optionsStore.options.display.toolbarPlacement&&t.appendChild(s),this._widget=t}get _hasTime(){return this.optionsStore.options.display.components.clock&&(this.optionsStore.options.display.components.hours||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.components.seconds)}get _hasDate(){return this.optionsStore.options.display.components.calendar&&(this.optionsStore.options.display.components.year||this.optionsStore.options.display.components.month||this.optionsStore.options.display.components.date)}get _hasDateAndTime(){return this._hasDate&&this._hasTime}getToolbarElements(){const t=[];if(this.optionsStore.options.display.buttons.today){const e=document.createElement("div");e.tabIndex=-1,e.setAttribute("data-action",Fi.today),e.setAttribute("title",this.optionsStore.options.localization.today),e.appendChild(this._iconTag(this.optionsStore.options.display.icons.today)),t.push(e)}if(!this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime){let e,i;"clock"===this.optionsStore.options.display.viewMode?(e=this.optionsStore.options.localization.selectDate,i=this.optionsStore.options.display.icons.date):(e=this.optionsStore.options.localization.selectTime,i=this.optionsStore.options.display.icons.time);const s=document.createElement("div");s.tabIndex=-1,s.setAttribute("data-action",Fi.togglePicker),s.setAttribute("title",e),s.appendChild(this._iconTag(i)),t.push(s)}if(this.optionsStore.options.display.buttons.clear){const e=document.createElement("div");e.tabIndex=-1,e.setAttribute("data-action",Fi.clear),e.setAttribute("title",this.optionsStore.options.localization.clear),e.appendChild(this._iconTag(this.optionsStore.options.display.icons.clear)),t.push(e)}if(this.optionsStore.options.display.buttons.close){const e=document.createElement("div");e.tabIndex=-1,e.setAttribute("data-action",Fi.close),e.setAttribute("title",this.optionsStore.options.localization.close),e.appendChild(this._iconTag(this.optionsStore.options.display.icons.close)),t.push(e)}return t}getHeadTemplate(){const t=document.createElement("div");t.classList.add(ni.css.calendarHeader);const e=document.createElement("div");e.classList.add(ni.css.previous),e.setAttribute("data-action",Fi.previous),e.appendChild(this._iconTag(this.optionsStore.options.display.icons.previous)),e.tabIndex=-1;const i=document.createElement("div");i.classList.add(ni.css.switch),i.setAttribute("data-action",Fi.changeCalendarView),i.tabIndex=-1;const s=document.createElement("div");return s.classList.add(ni.css.next),s.setAttribute("data-action",Fi.next),s.appendChild(this._iconTag(this.optionsStore.options.display.icons.next)),s.tabIndex=-1,t.append(e,i,s),t}_iconTag(t){if("sprites"===this.optionsStore.options.display.icons.type){const e=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=document.createElementNS("http://www.w3.org/2000/svg","use");return i.setAttribute("xlink:href",t),i.setAttribute("href",t),e.appendChild(i),e}const e=document.createElement("i");return e.classList.add(...t.split(" ")),e}_rebuild(){const t=this._isVisible;this._dispose(),t&&this.show()}refreshCurrentView(){switch(this._isVisible||this._dispose(),this.optionsStore.currentView){case"clock":this._update("clock");break;case"calendar":this._update(oi.date);break;case"months":this._update(oi.month);break;case"years":this._update(oi.year);break;case"decades":this._update("decade")}}_keyboardEvent(t){if("clock"!==this.optionsStore.currentView)return this._handleKeyDownDate(t),!1;this._handleKeyDownClock(t)}findViewDateElement(){let t="",e="";switch(this.optionsStore.currentView){case"clock":break;case"calendar":t=ni.css.daysContainer,e=this.optionsStore.viewDate.dateToDataValue();break;case"months":t=ni.css.monthsContainer,e=this.optionsStore.viewDate.month.toString();break;case"years":t=ni.css.yearsContainer,e=this.optionsStore.viewDate.year.toString();break;case"decades":t=ni.css.decadesContainer,e=(10*Math.floor(this.optionsStore.viewDate.year/10)).toString()}return this.widget.querySelector(`.${t} > div[data-value="${e}"]`)}_handleKeyDownDate(t){let e=!1;const i=document.activeElement;let s=null,n=7,o=1,r=1;const a=this.optionsStore.currentView;switch(a){case"calendar":s=oi.date;break;case"months":s=oi.month,n=3,o=1;break;case"years":s=oi.year,n=3,o=1;break;case"decades":s=oi.year,n=30,o=10}switch(t.key){case"Esc":case"Escape":this._eventEmitters.action.emit({e:null,action:Fi.close});break;case" ":case"Enter":return i.click(),t.stopPropagation(),void t.preventDefault();case"Tab":return void this._handleTab(i,t);case"Right":case"ArrowRight":r=o,e=!0;break;case"Left":case"ArrowLeft":e=!0,r=-o;break;case"Down":case"ArrowDown":e=!0,r=n;break;case"Up":case"ArrowUp":e=!0,r=-n;break;case"PageDown":switch(a){case"calendar":s=t.shiftKey?oi.year:oi.month,r=1;break;case"months":s=oi.year,r=t.shiftKey?10:1;break;case"years":case"decades":s=oi.year,r=t.shiftKey?100:10}e=!0;break;case"PageUp":switch(a){case"calendar":s=t.shiftKey?oi.year:oi.month,r=-1;break;case"months":s=oi.year,r=-(t.shiftKey?10:1);break;case"years":case"decades":s=oi.year,r=-(t.shiftKey?100:10)}e=!0;break;case"Home":this.optionsStore.viewDate=this.optionsStore.viewDate.clone.startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek),e=!0,s=null;break;case"End":this.optionsStore.viewDate=this.optionsStore.viewDate.clone.endOf("weekDay",this.optionsStore.options.localization.startOfTheWeek),e=!0,s=null}if(!e)return;let c=this.optionsStore.viewDate;s&&(c=c.clone.manipulate(r,s)),this._eventEmitters.updateViewDate.emit(c);const l=this.findViewDateElement();l&&l.focus(),t.stopPropagation(),t.preventDefault()}_handleKeyDownClock(t){let e=!1;const i=document.activeElement,s=this.widget.querySelector(`.${ni.css.timeContainer} > div[style*="display: grid"]`);let n=ni.css.clockContainer;switch(s.classList.contains(ni.css.hourContainer)&&(n=ni.css.hourContainer),s.classList.contains(ni.css.minuteContainer)&&(n=ni.css.minuteContainer),s.classList.contains(ni.css.secondContainer)&&(n=ni.css.secondContainer),t.key){case"Esc":case"Escape":this._eventEmitters.action.emit({e:null,action:Fi.close});break;case" ":case"Enter":return i.click(),t.stopPropagation(),void t.preventDefault();case"Tab":return void this._handleTab(i,t)}if(n===ni.css.clockContainer)return;const o=[...s.querySelectorAll("div")],r=o.indexOf(document.activeElement);let a;switch(t.key){case"Right":case"ArrowRight":a=r<o.length-1?r+1:null,e=!0;break;case"Left":case"ArrowLeft":e=!0,a=r>0?r-1:null;break;case"Down":case"ArrowDown":a=r+4<o.length?r+4:null,e=!0;break;case"Up":case"ArrowUp":a=0>r-4?null:r-4,e=!0}e&&(null!=a&&o[a].focus(),t.stopPropagation(),t.preventDefault())}_handleTab(t,e){const i=e.shiftKey,s=()=>{const t=this.widget.querySelectorAll(`.${ni.css.calendarHeader} > div`);n.push(...t)},n=[];switch(this.optionsStore.currentView){case"clock":{n.push(...this.widget.querySelectorAll(`.${ni.css.timeContainer} > div[style*="display: grid"] > div[data-action]`));const t=this.widget.querySelectorAll(`.${ni.css.clockContainer}`)[0];"grid"===t?.style.display&&n.push(...this.widget.querySelectorAll(`.${ni.css.toggleMeridiem}`))}break;case"calendar":case"months":case"years":case"decades":s(),n.push(this.findViewDateElement())}const o=this.widget.querySelectorAll(`.${ni.css.toolbar} > div`);n.push(...o);const r=n.indexOf(t);-1!==r&&(i?0===r?n[n.length-1].focus():n[r-1].focus():r===n.length-1?n[0].focus():n[r+1].focus(),e.stopPropagation(),e.preventDefault())}_handleFocus(){"clock"===this.optionsStore.currentView?this._handleFocusClock():this.findViewDateElement().focus()}_handleFocusClock(){this.widget.querySelector(`.${ni.css.timeContainer} > div[style*="display: grid"]`).children[0].focus()}}class Yi{constructor(){this.optionsStore=pi.locate(fi),this.dates=pi.locate(Pi),this.validation=pi.locate(gi),this.display=pi.locate(Ki),this._eventEmitters=pi.locate(yi),this._eventEmitters.action.subscribe(t=>{this.do(t.e,t.action)})}do(t,e){const i=t?.currentTarget;if(i?.classList?.contains(ni.css.disabled))return;e=e||i?.dataset?.action;const s=(this.dates.lastPicked||this.optionsStore.viewDate).clone;switch(e){case Fi.next:case Fi.previous:this.handleNextPrevious(e);break;case Fi.changeCalendarView:this.display._showMode(1),this.display._updateCalendarHeader();break;case Fi.selectMonth:case Fi.selectYear:case Fi.selectDecade:this.handleSelectCalendarMode(e,i);break;case Fi.selectDay:this.handleSelectDay(i);break;case Fi.selectHour:{let e=+i.dataset.value;s.hours>=12&&this.optionsStore.isTwelveHour&&(e+=12),s.hours=e,this.dates.setValue(s,this.dates.lastPickedIndex),this.hideOrClock(t);break}case Fi.selectMinute:s.minutes=+i.dataset.value,this.dates.setValue(s,this.dates.lastPickedIndex),this.hideOrClock(t);break;case Fi.selectSecond:s.seconds=+i.dataset.value,this.dates.setValue(s,this.dates.lastPickedIndex),this.hideOrClock(t);break;case Fi.incrementHours:this.manipulateAndSet(s,oi.hours);break;case Fi.incrementMinutes:this.manipulateAndSet(s,oi.minutes,this.optionsStore.options.stepping);break;case Fi.incrementSeconds:this.manipulateAndSet(s,oi.seconds);break;case Fi.decrementHours:this.manipulateAndSet(s,oi.hours,-1);break;case Fi.decrementMinutes:this.manipulateAndSet(s,oi.minutes,-1*this.optionsStore.options.stepping);break;case Fi.decrementSeconds:this.manipulateAndSet(s,oi.seconds,-1);break;case Fi.toggleMeridiem:this.manipulateAndSet(s,oi.hours,12>this.dates.lastPicked.hours?12:-12);break;case Fi.togglePicker:this.handleToggle(i);break;case Fi.showClock:case Fi.showHours:case Fi.showMinutes:case Fi.showSeconds:this.optionsStore.options.display.sideBySide||"clock"===this.optionsStore.currentView||(Wi.hideImmediately(this.display.dateContainer),Wi.showImmediately(this.display.timeContainer)),this.handleShowClockContainers(e);break;case Fi.clear:this.dates.setValue(null),this.display._updateCalendarHeader();break;case Fi.close:this.display.hide();break;case Fi.today:{const t=(new di).setLocalization(this.optionsStore.options.localization);if(this._eventEmitters.updateViewDate.emit(t),!this.validation.isValid(t,oi.date))break;this.optionsStore.options.dateRange?this.handleDateRange(t):this.optionsStore.options.multipleDates?this.handleMultiDate(t):this.dates.setValue(t,this.dates.lastPickedIndex);break}}}handleShowClockContainers(t){if(!this.display._hasTime)return void ni.errorMessages.throwError("Cannot show clock containers when time is disabled.");this.optionsStore.currentView="clock",this.display.widget.querySelectorAll(`.${ni.css.timeContainer} > div`).forEach(t=>t.style.display="none");let e="";switch(t){case Fi.showClock:e=ni.css.clockContainer,this.display._update("clock");break;case Fi.showHours:e=ni.css.hourContainer,this.display._update(oi.hours);break;case Fi.showMinutes:e=ni.css.minuteContainer,this.display._update(oi.minutes);break;case Fi.showSeconds:e=ni.css.secondContainer,this.display._update(oi.seconds)}const i=this.display.widget.getElementsByClassName(e)[0];i.style.display="grid",i.children[0]?.focus()}handleNextPrevious(t){const{unit:e,step:i}=mi[this.optionsStore.currentCalendarViewMode];t===Fi.next?this.optionsStore.viewDate.manipulate(i,e):this.optionsStore.viewDate.manipulate(-1*i,e),this._eventEmitters.viewUpdate.emit(),this.display._showMode()}hideOrClock(t){this.optionsStore.isTwelveHour||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline?this.do(t,Fi.showClock):this.display.hide()}manipulateAndSet(t,e,i=1){const s=t.manipulate(i,e);this.validation.isValid(s,e)&&this.dates.setValue(s,this.dates.lastPickedIndex)}handleSelectCalendarMode(t,e){const i=+e.dataset.value;switch(t){case Fi.selectMonth:this.optionsStore.viewDate.month=i;break;case Fi.selectYear:case Fi.selectDecade:this.optionsStore.viewDate.year=i}this.optionsStore.currentCalendarViewMode===this.optionsStore.minimumCalendarViewMode?(this.dates.setValue(this.optionsStore.viewDate,this.dates.lastPickedIndex),this.optionsStore.options.display.inline||this.display.hide()):this.display._showMode(-1)}handleToggle(t){t.getAttribute("title")===this.optionsStore.options.localization.selectDate?(t.setAttribute("title",this.optionsStore.options.localization.selectTime),t.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.time).outerHTML,this.display._updateCalendarHeader(),this.optionsStore.refreshCurrentView()):(t.setAttribute("title",this.optionsStore.options.localization.selectDate),t.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.date).outerHTML,this.display._hasTime&&(this.handleShowClockContainers(Fi.showClock),this.display._update("clock"))),this.display.widget.querySelectorAll(`.${ni.css.dateContainer}, .${ni.css.timeContainer}`).forEach(t=>Wi.toggle(t)),this._eventEmitters.viewUpdate.emit();const e=this.display.widget.querySelector(`.${ni.css.collapsing} > div[style*="display: grid"]`);e?.focus()}handleSelectDay(t){const e=this.optionsStore.viewDate.clone;t.classList.contains(ni.css.old)&&e.manipulate(-1,oi.month),t.classList.contains(ni.css.new)&&e.manipulate(1,oi.month),e.date=+t.dataset.day,this.optionsStore.options.dateRange?this.handleDateRange(e):this.optionsStore.options.multipleDates?this.handleMultiDate(e):this.dates.setValue(e,this.dates.lastPickedIndex),this.display._hasTime||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline||this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange||this.display.hide()}handleMultiDate(t){let e=this.dates.pickedIndex(t,oi.date);-1!==e?this.dates.setValue(null,e):(e=this.dates.lastPickedIndex+1,0===this.dates.picked.length&&(e=0),this.dates.setValue(t,e))}handleDateRange(t){switch(this.dates.picked.length){case 2:this.dates.clear();break;case 1:{const e=this.dates.picked[0];if(t.getTime()===e.getTime()){this.dates.clear();break}return t.isBefore(e)?(this.dates.setValue(t,0),void this.dates.setValue(e,1)):void this.dates.setValue(t,1)}}this.dates.setValue(t,0)}}class Gi{constructor(t,e={}){this._subscribers={},this._isDisabled=!1,this._inputChangeEvent=t=>{const e=t?.detail;if(e)return;const i=()=>{this.dates.lastPicked&&(this.optionsStore.viewDate=this.dates.lastPicked.clone)},s=this.optionsStore.input.value;if(this.optionsStore.options.multipleDates||this.optionsStore.options.dateRange)try{const t=s.split(this.optionsStore.options.multipleDatesSeparator);for(let e=0;e<t.length;e++)this.dates.setFromInput(t[e],e);i()}catch{}else this.dates.setFromInput(s,0),i()},this._toggleClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||"INPUT"===this.optionsStore.toggle.nodeName&&"text"===this.optionsStore.toggle?.type&&this.optionsStore.options.allowInputToggle||this.toggle()},this._openClickEvent=()=>{this.optionsStore.element?.disabled||this.optionsStore.input?.disabled||this.display.isVisible||this.show()},pi=new ui,this._eventEmitters=pi.locate(yi),this.optionsStore=pi.locate(fi),this.display=pi.locate(Ki),this.dates=pi.locate(Pi),this.actions=pi.locate(Yi),t||ni.errorMessages.mustProvideElement(),this.optionsStore.element=t,this._initializeOptions(e,bi,!0),this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.optionsStore.unset=!0,this._initializeInput(),this._initializeToggle(),this.optionsStore.options.display.inline&&this.display.show(),this._eventEmitters.triggerEvent.subscribe(t=>{this._triggerEvent(t)}),this._eventEmitters.viewUpdate.subscribe(()=>{this._viewUpdate()}),this._eventEmitters.updateViewDate.subscribe(t=>{this.viewDate=t})}get viewDate(){return this.optionsStore.viewDate}set viewDate(t){this.optionsStore.viewDate=t,this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.display._update("clock"===this.optionsStore.currentView?"clock":"calendar")}updateOptions(t,e=!1){e?this._initializeOptions(t,bi):this._initializeOptions(t,this.optionsStore.options),this.optionsStore.viewDate.setLocalization(this.optionsStore.options.localization),this.display.refreshCurrentView()}toggle(){this._isDisabled||this.display.toggle()}show(){this._isDisabled||this.display.show()}hide(){this.display.hide()}disable(){this._isDisabled=!0,this.optionsStore.input?.setAttribute("disabled","disabled"),this.display.hide()}enable(){this._isDisabled=!1,this.optionsStore.input?.removeAttribute("disabled")}clear(){this.optionsStore.input.value="",this.dates.clear()}subscribe(t,e){let i;"string"==typeof t&&(t=[t]),i=Array.isArray(e)?e:[e],t.length!==i.length&&ni.errorMessages.subscribeMismatch();const s=[];for(let n=0;n<t.length;n++){const e=t[n];if(Array.isArray(this._subscribers[e])||(this._subscribers[e]=[]),this._subscribers[e].push(i[n]),s.push({unsubscribe:this._unsubscribe.bind(this,e,this._subscribers[e].length-1)}),1===t.length)return s[0]}return s}dispose(){this.display.hide(),this.display._dispose(),this._eventEmitters.destroy(),this.optionsStore.input?.removeEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&(this.optionsStore.input?.removeEventListener("click",this._openClickEvent),this.optionsStore.input?.removeEventListener("focus",this._openClickEvent)),this.optionsStore.toggle?.removeEventListener("click",this._toggleClickEvent),this.optionsStore.toggle?.removeEventListener("keydown",this._handleToggleKeydown),this._subscribers={}}locale(t){const e=Xi[t];e&&this.updateOptions({localization:e})}_triggerEvent(t){t.viewMode=this.optionsStore.currentView;const e=t.type===ni.events.change;if(e){const{date:e,oldDate:i,isClear:s}=t;if(e&&i&&e.isSame(i)||!s&&!e&&!i)return;if(this._handleAfterChangeEvent(t),this.optionsStore.input?.dispatchEvent(new CustomEvent("change",{detail:t})),this.optionsStore.toggle){let t=this.optionsStore.options.localization.toggleAriaLabel;this.dates.picked.length>0&&(t=`${t}, ${this.dates.picked.map(t=>t.format()).join(", ")}`),this.optionsStore.toggle.ariaLabel=t}}if(this.optionsStore.element.dispatchEvent(new CustomEvent(t.type,{detail:t})),window.jQuery){const i=window.jQuery;e&&this.optionsStore.input?i(this.optionsStore.input).trigger(t):i(this.optionsStore.element).trigger(t)}this._publish(t)}_publish(t){Array.isArray(this._subscribers[t.type])&&this._subscribers[t.type].forEach(e=>{e(t)})}_viewUpdate(){this._triggerEvent({type:ni.events.update,viewDate:this.optionsStore.viewDate.clone})}_unsubscribe(t,e){this._subscribers[t].splice(e,1)}_initializeOptions(t,e,i=!1){let s=Oi.deepCopy(t);s=Oi._mergeOptions(s,e),i&&(s=Oi._dataToOptions(this.optionsStore.element,s)),Oi._validateConflicts(s),s.viewDate=s.viewDate.setLocalization(s.localization),this.optionsStore.viewDate.isSame(s.viewDate)||(this.optionsStore.viewDate=s.viewDate),s.display.components.year&&(this.optionsStore.minimumCalendarViewMode=2),s.display.components.month&&(this.optionsStore.minimumCalendarViewMode=1),s.display.components.date&&(this.optionsStore.minimumCalendarViewMode=0),this.optionsStore.currentCalendarViewMode=Math.max(this.optionsStore.minimumCalendarViewMode,this.optionsStore.currentCalendarViewMode),mi[this.optionsStore.currentCalendarViewMode].name!==s.display.viewMode&&(this.optionsStore.currentCalendarViewMode=Math.max(mi.findIndex(t=>t.name===s.display.viewMode),this.optionsStore.minimumCalendarViewMode)),this.display?.isVisible&&this.display._update("all"),s.display.components.useTwentyfourHour&&void 0===s.localization.hourCycle?s.localization.hourCycle="h24":void 0===s.localization.hourCycle&&(s.localization.hourCycle=hi(s.localization.locale)),this.optionsStore.options=s,s.restrictions.maxDate&&this.viewDate.isAfter(s.restrictions.maxDate)&&(this.viewDate=s.restrictions.maxDate.clone),s.restrictions.minDate&&this.viewDate.isBefore(s.restrictions.minDate)&&(this.viewDate=s.restrictions.minDate.clone)}_initializeInput(){if("INPUT"==this.optionsStore.element.tagName)this.optionsStore.input=this.optionsStore.element;else{const t=this.optionsStore.element.dataset.tdTargetInput;this.optionsStore.input=null==t||"nearest"==t?this.optionsStore.element.querySelector("input"):this.optionsStore.element.querySelector(t)}this.optionsStore.input&&(!this.optionsStore.input.value&&this.optionsStore.options.defaultDate&&(this.optionsStore.input.value=this.dates.formatInput(this.optionsStore.options.defaultDate)),this.optionsStore.input.addEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&(this.optionsStore.input.addEventListener("click",this._openClickEvent),this.optionsStore.input.addEventListener("focus",this._openClickEvent)),this.optionsStore.input.value&&this._inputChangeEvent())}_initializeToggle(){if(this.optionsStore.options.display.inline)return;let t=this.optionsStore.element.dataset.tdTargetToggle;"nearest"==t&&(t='[data-td-toggle="datetimepicker"]'),this.optionsStore.toggle=null==t?this.optionsStore.element:this.optionsStore.element.querySelector(t),null!=this.optionsStore.toggle&&(this.optionsStore.toggle.addEventListener("click",this._toggleClickEvent),this.optionsStore.toggle!==this.optionsStore.element&&this.optionsStore.toggle.addEventListener("keydown",this._handleToggleKeydown.bind(this)))}_handleAfterChangeEvent(t){!this.optionsStore.options.promptTimeOnDateChange||this.optionsStore.options.multipleDates||this.optionsStore.options.display.inline||this.optionsStore.options.display.sideBySide||!this.display._hasTime||this.display.widget?.getElementsByClassName(ni.css.show)[0].classList.contains(ni.css.timeContainer)||!t.oldDate&&this.optionsStore.options.useCurrent||t.oldDate&&t.date?.isSame(t.oldDate)||(clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout(()=>{this.display.widget&&this._eventEmitters.action.emit({e:{currentTarget:this.display.widget.querySelector('[data-action="togglePicker"]')},action:Fi.togglePicker})},this.optionsStore.options.promptTimeOnDateChangeTransitionDelay))}_handleToggleKeydown(t){" "!==t.key&&"Enter"!==t.key||(this.optionsStore.toggle.click(),t.stopPropagation(),t.preventDefault())}}const Xi={};var Ji=new Map;function Qi(t){var e=Ji.get(t);e&&e.destroy()}function Zi(t){var e=Ji.get(t);e&&e.update()}var ts=null;"undefined"==typeof window?((ts=function(t){return t}).destroy=function(t){return t},ts.update=function(t){return t}):((ts=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return function(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!Ji.has(t)){var e,i=null,s=window.getComputedStyle(t),n=(e=t.value,function(){r({testForHeightReduction:""===e||!t.value.startsWith(e),restoreTextAlign:null}),e=t.value}),o=function(e){t.removeEventListener("autosize:destroy",o),t.removeEventListener("autosize:update",a),t.removeEventListener("input",n),window.removeEventListener("resize",a),Object.keys(e).forEach(function(i){return t.style[i]=e[i]}),Ji.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,textAlign:t.style.textAlign,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",o),t.addEventListener("autosize:update",a),t.addEventListener("input",n),window.addEventListener("resize",a),t.style.overflowX="hidden",t.style.wordWrap="break-word",Ji.set(t,{destroy:o,update:a}),a()}function r(e){var n,o,a=e.restoreTextAlign,c=void 0===a?null:a,l=e.testForHeightReduction,h=void 0===l||l,d=s.overflowY;if(0!==t.scrollHeight&&("vertical"===s.resize?t.style.resize="none":"both"===s.resize&&(t.style.resize="horizontal"),h&&(n=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push([t.parentNode,t.parentNode.scrollTop]),t=t.parentNode;return function(){return e.forEach(function(t){var e=t[0],i=t[1];e.style.scrollBehavior="auto",e.scrollTop=i,e.style.scrollBehavior=null})}}(t),t.style.height=""),o="content-box"===s.boxSizing?t.scrollHeight-(parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)):t.scrollHeight+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),"none"!==s.maxHeight&&o>parseFloat(s.maxHeight)?("hidden"===s.overflowY&&(t.style.overflow="scroll"),o=parseFloat(s.maxHeight)):"hidden"!==s.overflowY&&(t.style.overflow="hidden"),t.style.height=o+"px",c&&(t.style.textAlign=c),n&&n(),i!==o&&(t.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),i=o),d!==s.overflow&&!c)){var u=s.textAlign;"hidden"===s.overflow&&(t.style.textAlign="start"===u?"end":"start"),r({restoreTextAlign:u,testForHeightReduction:!0})}}function a(){r({testForHeightReduction:!0,restoreTextAlign:null})}}(t)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],Qi),t},ts.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],Zi),t});var es=ts;export{re as C,di as D,Gi as T,ei as _,es as a,Ze as n,i as r};
