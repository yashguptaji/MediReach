import{$ as t,D as e}from"./vendor-tables-CdG1tERj.js";
/*! Responsive 3.0.6
 * © SpryMedia Ltd - datatables.net/license
 */let n=t;var o=function(t,i){if(!e.versionCheck||!e.versionCheck("2"))throw"DataTables Responsive requires DataTables 2 or newer";this.s={childNodeStore:{},columns:[],current:[],dt:new e.Api(t)},this.s.dt.settings()[0].responsive||(i&&"string"==typeof i.details?i.details={type:i.details}:i&&!1===i.details?i.details={type:!1}:i&&!0===i.details&&(i.details={type:"inline"}),this.c=n.extend(!0,{},o.defaults,e.defaults.responsive,i),t.responsive=this,this._constructor())};n.extend(o.prototype,{_constructor:function(){var t=this,o=this.s.dt,i=n(window).innerWidth();o.settings()[0]._responsive=this,n(window).on("orientationchange.dtr",e.util.throttle(function(){var e=n(window).innerWidth();e!==i&&(t._resize(),i=e)})),o.on("row-created.dtr",function(e,i,s,r){-1!==n.inArray(!1,t.s.current)&&n(">td, >th",i).each(function(e){var i=o.column.index("toData",e);!1===t.s.current[i]&&n(this).css("display","none").addClass("dtr-hidden")})}),o.on("destroy.dtr",function(){o.off(".dtr"),n(o.table().body()).off(".dtr"),n(window).off("resize.dtr orientationchange.dtr"),o.cells(".dtr-control").nodes().to$().removeClass("dtr-control"),n(o.table().node()).removeClass("dtr-inline collapsed"),n.each(t.s.current,function(e,n){!1===n&&t._setColumnVis(e,!0)})}),this.c.breakpoints.sort(function(t,e){return t.width<e.width?1:t.width>e.width?-1:0}),this._classLogic();var s=this.c.details;!1!==s.type&&(t._detailsInit(),o.on("column-visibility.dtr",function(){t._timer&&clearTimeout(t._timer),t._timer=setTimeout(function(){t._timer=null,t._classLogic(),t._resizeAuto(),t._resize(!0),t._redrawChildren()},100)}),o.on("draw.dtr",function(){t._redrawChildren()}),n(o.table().node()).addClass("dtr-"+s.type)),o.on("column-calc.dt",function(e,n){for(var o=t.s.current,i=0;i<o.length;i++){var s=n.visible.indexOf(i);!1!==o[i]||0>s||n.visible.splice(s,1)}}),o.on("preXhr.dtr",function(){var e=[];o.rows().every(function(){this.child.isShown()&&e.push(this.id(!0))}),o.one("draw.dtr",function(){t._resizeAuto(),t._resize(),o.rows(e).every(function(){t._detailsDisplay(this,!1)})})}),o.on("draw.dtr",function(){o.page.info().serverSide&&(t.s.childNodeStore={}),t._controlClass()}).ready(function(){t._resizeAuto(),t._resize(),o.on("column-sizing.dtr",function(){t._resizeAuto(),t._resize()})}),o.on("column-reorder.dtr",function(e,n,o){t._classLogic(),t._resizeAuto(),t._resize(!0)})},_colGroupAttach:function(t,e,n){var o=null;if(e[n].get(0).parentNode!==t[0]){for(var i=n+1;i<e.length;i++)if(t[0]===e[i].get(0).parentNode){o=i;break}null!==o?e[n].insertBefore(e[o][0]):t.append(e[n])}},_childNodes:function(t,e,n){var o=e+"-"+n;if(this.s.childNodeStore[o])return this.s.childNodeStore[o];for(var i=[],s=t.cell(e,n).node().childNodes,r=0,a=s.length;a>r;r++)i.push(s[r]);return this.s.childNodeStore[o]=i,i},_childNodesRestore:function(t,e,n){var o=e+"-"+n;if(this.s.childNodeStore[o]){var i=t.cell(e,n).node(),s=this.s.childNodeStore[o];if(s.length>0){for(var r=s[0].parentNode.childNodes,a=[],l=0,d=r.length;d>l;l++)a.push(r[l]);for(var c=0,u=a.length;u>c;c++)i.appendChild(a[c])}this.s.childNodeStore[o]=void 0}},_columnsVisibility:function(t){var e,o,i=this.s.dt,s=this.s.columns,r=s.map(function(t,e){return{columnIdx:e,priority:t.priority}}).sort(function(t,e){return t.priority!==e.priority?t.priority-e.priority:t.columnIdx-e.columnIdx}),a=n.map(s,function(e,o){return!1===i.column(o).visible()?"not-visible":(!e.auto||null!==e.minWidth)&&(!0===e.auto?"-":-1!==n.inArray(t,e.includeIn))}),l=0;for(e=0,o=a.length;o>e;e++)!0===a[e]&&(l+=s[e].minWidth);var d=i.settings()[0].oScroll,c=d.sY||d.sX?d.iBarWidth:0,u=i.table().container().offsetWidth-c-l;for(e=0,o=a.length;o>e;e++)s[e].control&&(u-=s[e].minWidth);var f=!1;for(e=0,o=r.length;o>e;e++){var h=r[e].columnIdx;"-"===a[h]&&!s[h].control&&s[h].minWidth&&(f||0>u-s[h].minWidth?(f=!0,a[h]=!1):a[h]=!0,u-=s[h].minWidth)}var p=!1;for(e=0,o=s.length;o>e;e++)if(!s[e].control&&!s[e].never&&!1===a[e]){p=!0;break}for(e=0,o=s.length;o>e;e++)s[e].control&&(a[e]=p),"not-visible"===a[e]&&(a[e]=!1);return-1===n.inArray(!0,a)&&(a[0]=!0),a},_classLogic:function(){var t=this,e=this.c.breakpoints,o=this.s.dt.columns().eq(0).map(function(t){var e=this.column(t),n=e.header().className,o=e.init().responsivePriority,i=e.header().getAttribute("data-priority");return void 0===o&&(o=null==i?1e4:1*i),{className:n,includeIn:[],auto:!1,control:!1,never:!!n.match(/\b(dtr\-)?never\b/),priority:o}}),i=function(t,e){var i=o[t].includeIn;-1===n.inArray(e,i)&&i.push(e)},s=function(n,s,r,a){var l,d,c;if(r){if("max-"===r)for(l=t._find(s).width,d=0,c=e.length;c>d;d++)e[d].width>l||i(n,e[d].name);else if("min-"===r)for(l=t._find(s).width,d=0,c=e.length;c>d;d++)e[d].width<l||i(n,e[d].name);else if("not-"===r)for(d=0,c=e.length;c>d;d++)-1===e[d].name.indexOf(a)&&i(n,e[d].name)}else o[n].includeIn.push(s)};o.each(function(t,o){for(var i=t.className.split(" "),r=!1,a=0,l=i.length;l>a;a++){var d=i[a].trim();if("all"===d||"dtr-all"===d)return r=!0,void(t.includeIn=n.map(e,function(t){return t.name}));if("none"===d||"dtr-none"===d||t.never)return void(r=!0);if("control"===d||"dtr-control"===d)return r=!0,void(t.control=!0);n.each(e,function(t,e){var n=e.name.split("-"),i=new RegExp("(min\\-|max\\-|not\\-)?("+n[0]+")(\\-[_a-zA-Z0-9])?"),a=d.match(i);a&&(r=!0,a[2]===n[0]&&a[3]==="-"+n[1]?s(o,e.name,a[1],a[2]+a[3]):a[2]!==n[0]||a[3]||s(o,e.name,a[1],a[2]))})}r||(t.auto=!0)}),this.s.columns=o},_controlClass:function(){if("inline"===this.c.details.type){var t=this.s.dt,e=this.s.current,o=n.inArray(!0,e);t.cells(null,function(t){return t!==o},{page:"current"}).nodes().to$().filter(".dtr-control").removeClass("dtr-control"),0>o||t.cells(null,o,{page:"current"}).nodes().to$().addClass("dtr-control")}this._tabIndexes()},_detailsDisplay:function(t,e){var i=this,s=this.s.dt,r=this.c.details,a=function(o){n(t.node()).toggleClass("dtr-expanded",!1!==o),n(s.table().node()).triggerHandler("responsive-display.dt",[s,t,o,e])};if(r&&!1!==r.type){var l="string"==typeof r.renderer?o.renderer[r.renderer]():r.renderer,d=r.display(t,e,function(){return l.call(i,s,t[0][0],i._detailsObj(t[0]))},function(){a(!1)});"boolean"==typeof d&&a(d)}},_detailsInit:function(){var t=this,e=this.s.dt,o=this.c.details;"inline"===o.type&&(o.target="td.dtr-control, th.dtr-control"),n(e.table().body()).on("keyup.dtr","td, th",function(t){13===t.keyCode&&n(this).data("dtr-keyboard")&&n(this).click()});var i=o.target,s="string"==typeof i?i:"td, th";void 0===i&&null===i||n(e.table().body()).on("click.dtr mousedown.dtr mouseup.dtr",s,function(o){if(n(e.table().node()).hasClass("collapsed")&&-1!==n.inArray(n(this).closest("tr").get(0),e.rows().nodes().toArray())){if("number"==typeof i){var s=0>i?e.columns().eq(0).length+i:i;if(e.cell(this).index().column!==s)return}var r=e.row(n(this).closest("tr"));"click"===o.type?t._detailsDisplay(r,!1):"mousedown"===o.type?n(this).css("outline","none"):"mouseup"===o.type&&n(this).trigger("blur").css("outline","")}})},_detailsObj:function(t){var e=this,o=this.s.dt,i=[];let s=o.settings()[0];return n.map(this.s.columns,function(n,r){if(!n.never&&!n.control){var a=s.aoColumns[r];return i[r]||(i[r]=o.column(r)),{className:a.sClass,columnIndex:r,data:s.fastData(t,r,e.c.orthogonal),hidden:i[r].visible()&&!e.s.current[r],rowIndex:t,title:i[r].title()}}})},_find:function(t){for(var e=this.c.breakpoints,n=0,o=e.length;o>n;n++)if(e[n].name===t)return e[n]},_redrawChildren:function(){var t=this,e=this.s.dt;e.rows({page:"current"}).iterator("row",function(n,o){t._detailsDisplay(e.row(o),!0)})},_resize:function(t){var e,o,i=this,s=this.s.dt,r=n(window).innerWidth(),a=this.c.breakpoints,l=a[0].name,d=this.s.columns,c=this.s.current.slice();for(e=a.length-1;e>=0;e--)if(r<=a[e].width){l=a[e].name;break}var u=this._columnsVisibility(l);this.s.current=u;var f=!1;for(e=0,o=d.length;o>e;e++)if(!1===u[e]&&!d[e].never&&!d[e].control&&0==!s.column(e).visible()){f=!0;break}n(s.table().node()).toggleClass("collapsed",f);var h=!1,p=0,b=s.settings()[0],v=n(s.table().node()).children("colgroup"),m=b.aoColumns.map(function(t){return t.colEl});s.columns().eq(0).each(function(e,n){s.column(e).visible()&&(!0===u[n]&&p++,(t||u[n]!==c[n])&&(h=!0,i._setColumnVis(e,u[n])),u[n]?i._colGroupAttach(v,m,n):m[n].detach())}),h&&(s.columns.adjust(),this._redrawChildren(),n(s.table().node()).trigger("responsive-resize.dt",[s,this._responsiveOnlyHidden()]),0===s.page.info().recordsDisplay&&n("td",s.table().body()).eq(0).attr("colspan",p)),i._controlClass()},_resizeAuto:function(){var t=this.s.dt,e=this.s.columns,o=this,i=t.columns().indexes().filter(function(e){return t.column(e).visible()});if(this.c.auto&&-1!==n.inArray(!0,n.map(e,function(t){return t.auto}))){var s=t.table().node().cloneNode(!1),r=n(t.table().header().cloneNode(!1)).appendTo(s),a=n(t.table().footer().cloneNode(!1)).appendTo(s),l=n(t.table().body()).clone(!1,!1).empty().appendTo(s);s.style.width="auto",t.table().header.structure(i).forEach(t=>{var e=t.filter(function(t){return!!t}).map(function(t){return n(t.cell).clone(!1).css("display","table-cell").css("width","auto").css("min-width",0)});n("<tr/>").append(e).appendTo(r)});for(var d=n("<tr/>").appendTo(l),c=0;c<i.count();c++)d.append("<td/>");this.c.details.renderer._responsiveMovesNodes?t.rows({page:"current"}).every(function(e){var s=this.node();if(s){var r=s.cloneNode(!1);t.cells(e,i).every(function(t,i){var s=o.s.childNodeStore[e+"-"+i];s?n(this.node().cloneNode(!1)).append(n(s).clone()).appendTo(r):n(this.node()).clone(!1).appendTo(r)}),l.append(r)}}):n(l).append(n(t.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display",""),l.find("th, td").css("display",""),t.table().footer.structure(i).forEach(t=>{var e=t.filter(function(t){return!!t}).map(function(t){return n(t.cell).clone(!1).css("display","table-cell").css("width","auto").css("min-width",0)});n("<tr/>").append(e).appendTo(a)}),"inline"===this.c.details.type&&n(s).addClass("dtr-inline collapsed"),n(s).find("[name]").removeAttr("name"),n(s).css("position","relative");var u=n("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(s);u.insertBefore(t.table().node()),d.children().each(function(n){var o=t.column.index("fromVisible",n);e[o].minWidth=this.offsetWidth||0}),u.remove()}},_responsiveOnlyHidden:function(){var t=this.s.dt;return n.map(this.s.current,function(e,n){return!1===t.column(n).visible()||e})},_setColumnVis:function(t,e){var o=this,i=this.s.dt,s=e?"":"none";this._setHeaderVis(t,e,i.table().header.structure()),this._setHeaderVis(t,e,i.table().footer.structure()),i.column(t).nodes().to$().css("display",s).toggleClass("dtr-hidden",!e),n.isEmptyObject(this.s.childNodeStore)||i.cells(null,t).indexes().each(function(t){o._childNodesRestore(i,t.row,t.column)})},_setHeaderVis:function(t,e,o){var i=this,s=e?"":"none";o.forEach(function(t,e){for(var n=0;n<t.length;n++)if(t[n]&&t[n].rowspan>1)for(var i=t[n].rowspan,s=1;i>s;s++)o[e+s][n]={}}),o.forEach(function(o){if(o[t]&&o[t].cell)n(o[t].cell).css("display",s).toggleClass("dtr-hidden",!e);else for(var r=t;r>=0;){if(o[r]&&o[r].cell){o[r].cell.colSpan=i._colspan(o,r);break}r--}})},_colspan:function(t,e){for(var n=1,o=e+1;o<t.length;o++)if(null===t[o]&&this.s.current[o])n++;else if(t[o])break;return n},_tabIndexes:function(){var t=this.s.dt,e=t.cells({page:"current"}).nodes().to$(),o=t.settings()[0],i=this.c.details.target;if(e.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"),"number"==typeof i)t.cells(null,i,{page:"current"}).nodes().to$().attr("tabIndex",o.iTabIndex).data("dtr-keyboard",1);else{"td:first-child, th:first-child"===i&&(i=">td:first-child, >th:first-child");var s=t.rows({page:"current"}).nodes();("tr"===i?n(s):n(i,s)).attr("tabIndex",o.iTabIndex).data("dtr-keyboard",1)}}}),o.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}],o.display={childRow:function(t,e,o){var i=n(t.node());if(!e){if(i.hasClass("dtr-expanded"))return t.child(!1),!1;var s=o();return!1!==s&&(t.child(s,"child").show(),!0)}if(i.hasClass("dtr-expanded"))return t.child(o(),"child").show(),!0},childRowImmediate:function(t,e,o){var i=n(t.node());if(!e&&i.hasClass("dtr-expanded")||!t.responsive.hasHidden())return t.child(!1),!1;var s=o();return!1!==s&&(t.child(s,"child").show(),!0)},modal:function(t){return function(e,o,i,s){var r,a=i();if(!1===a)return!1;if(o){if(!(r=n("div.dtr-modal-content")).length||e.index()!==r.data("dtr-row-idx"))return null;r.empty().append(a)}else{var l=function(){r.remove(),n(document).off("keypress.dtr"),n(e.node()).removeClass("dtr-expanded"),s()};r=n('<div class="dtr-modal"/>').append(n('<div class="dtr-modal-display"/>').append(n('<div class="dtr-modal-content"/>').data("dtr-row-idx",e.index()).append(a)).append(n('<div class="dtr-modal-close">&times;</div>').click(function(){l()}))).append(n('<div class="dtr-modal-background"/>').click(function(){l()})).appendTo("body"),n(e.node()).addClass("dtr-expanded"),n(document).on("keyup.dtr",function(t){27===t.keyCode&&(t.stopPropagation(),l())})}return t&&t.header&&n("div.dtr-modal-content").prepend("<h2>"+t.header(e)+"</h2>"),!0}}},o.renderer={listHiddenNodes:function(){var t=function(t,e,o){var i=this,s=n('<ul data-dtr-index="'+e+'" class="dtr-details"/>'),r=!1;return n.each(o,function(e,o){if(o.hidden){var a=o.className?'class="'+o.className+'"':"";n("<li "+a+' data-dtr-index="'+o.columnIndex+'" data-dt-row="'+o.rowIndex+'" data-dt-column="'+o.columnIndex+'"><span class="dtr-title">'+o.title+"</span> </li>").append(n('<span class="dtr-data"/>').append(i._childNodes(t,o.rowIndex,o.columnIndex))).appendTo(s),r=!0}}),!!r&&s};return t._responsiveMovesNodes=!0,t},listHidden:function(){return function(t,e,o){var i=n.map(o,function(t){var e=t.className?'class="'+t.className+'"':"";return t.hidden?"<li "+e+' data-dtr-index="'+t.columnIndex+'" data-dt-row="'+t.rowIndex+'" data-dt-column="'+t.columnIndex+'"><span class="dtr-title">'+t.title+'</span> <span class="dtr-data">'+t.data+"</span></li>":""}).join("");return!!i&&n('<ul data-dtr-index="'+e+'" class="dtr-details"/>').append(i)}},tableAll:function(t){return t=n.extend({tableClass:""},t),function(e,o,i){var s=n.map(i,function(t){return"<tr "+(t.className?'class="'+t.className+'"':"")+' data-dt-row="'+t.rowIndex+'" data-dt-column="'+t.columnIndex+'"><td>'+(""!==t.title?t.title+":":"")+"</td> <td>"+t.data+"</td></tr>"}).join("");return n('<table class="'+t.tableClass+' dtr-details" width="100%"/>').append(s)}}},o.defaults={breakpoints:o.breakpoints,auto:!0,details:{display:o.display.childRow,renderer:o.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var i=n.fn.dataTable.Api;i.register("responsive()",function(){return this}),i.register("responsive.index()",function(t){return{column:(t=n(t)).data("dtr-index"),row:t.parent().data("dtr-index")}}),i.register("responsive.rebuild()",function(){return this.iterator("table",function(t){t._responsive&&t._responsive._classLogic()})}),i.register("responsive.recalc()",function(){return this.iterator("table",function(t){t._responsive&&(t._responsive._resizeAuto(),t._responsive._resize())})}),i.register("responsive.hasHidden()",function(){var t=this.context[0];return!!t._responsive&&-1!==n.inArray(!1,t._responsive._responsiveOnlyHidden())}),i.registerPlural("columns().responsiveHidden()","column().responsiveHidden()",function(){return this.iterator("column",function(t,e){return!!t._responsive&&t._responsive._responsiveOnlyHidden()[e]},1)}),o.version="3.0.6",n.fn.dataTable.Responsive=o,n.fn.DataTable.Responsive=o,n(document).on("preInit.dt.dtr",function(t,i,s){if("dt"===t.namespace&&(n(i.nTable).hasClass("responsive")||n(i.nTable).hasClass("dt-responsive")||i.oInit.responsive||e.defaults.responsive)){var r=i.oInit.responsive;!1!==r&&new o(i,n.isPlainObject(r)?r:{})}});
/*! Bootstrap 5 integration for DataTables' Responsive
 * © SpryMedia Ltd - datatables.net/license
 */
let s=t;var r,a=e.Responsive.display,l=a.modal,d=s('<div class="modal fade dtr-bs-modal" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"/></div></div></div>'),c=window.bootstrap;e.Responsive.bootstrap=function(t){c=t},a.modal=function(t){if(!r&&c.Modal){let t=function(){let t=e.use("bootstrap");if(t)return t;if(c)return c;throw new Error("No Bootstrap library. Set it with `DataTable.use(bootstrap);`")}();r=new t.Modal(d[0])}return function(e,n,o,i){if(r){var a=o();if(!1===a)return!1;if(n){if(!s.contains(document,d[0])||e.index()!==d.data("dtr-row-idx"))return null;d.find("div.modal-body").empty().append(a)}else{if(t&&t.header){var c=d.find("div.modal-header"),u=c.find("button").detach();c.empty().append('<h4 class="modal-title">'+t.header(e)+"</h4>").append(u)}d.find("div.modal-body").empty().append(a),d.data("dtr-row-idx",e.index()).one("hidden.bs.modal",i).appendTo("body"),r.show()}return!0}return l(e,n,o,i)}};
/*! Buttons for DataTables 3.2.5
 * © SpryMedia Ltd - datatables.net/license
 */
let u=t;var f=0,h=0,p=e.ext.buttons,b=null;function v(t,e,n){u.fn.animate?t.stop().fadeIn(e,n):t.css("display","block")}function m(t,e,n){u.fn.animate?t.stop().fadeOut(e,n):(t.css("display","none"),n&&n.call(t))}var g,y=function(t,n){if(!e.versionCheck("2"))throw"Warning: Buttons requires DataTables 2 or newer";if(!(this instanceof y))return function(e){return new y(e,t).container()};void 0===n&&(n={}),!0===n&&(n={}),Array.isArray(n)&&(n={buttons:n}),this.c=u.extend(!0,{},y.defaults,n),n.buttons&&(this.c.buttons=n.buttons),this.s={dt:new e.Api(t),buttons:[],listenKeys:"",namespace:"dtb"+f++},this.dom={container:u("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};u.extend(y.prototype,{action:function(t,e){var n=this._nodeToButton(t);return void 0===e?n.conf.action:(n.conf.action=e,this)},active:function(t,e){var n=this._nodeToButton(t),o=this.c.dom.button.active,i=u(n.node);return n.inCollection&&this.c.dom.collection.button&&void 0!==this.c.dom.collection.button.active&&(o=this.c.dom.collection.button.active),void 0===e?i.hasClass(o):(i.toggleClass(o,void 0===e||e),this)},add:function(t,e,n){var o=this.s.buttons;if("string"==typeof e){for(var i=e.split("-"),s=this.s,r=0,a=i.length-1;a>r;r++)s=s.buttons[1*i[r]];o=s.buttons,e=1*i[i.length-1]}let l=this._expandButton(o,t,void 0!==t?t.split:void 0,(void 0===t||void 0===t.split||0===t.split.length)&&void 0!==s,!1,e);return void 0!==n&&!0!==n||this._draw(),l},collectionRebuild:function(t,e){var n=this._nodeToButton(t);if(void 0!==e){var o;for(o=n.buttons.length-1;o>=0;o--)this.remove(n.buttons[o].node);for(n.conf.prefixButtons&&e.unshift.apply(e,n.conf.prefixButtons),n.conf.postfixButtons&&e.push.apply(e,n.conf.postfixButtons),o=0;o<e.length;o++){var i=e[o];this._expandButton(n.buttons,i,void 0!==i&&void 0!==i.config&&void 0!==i.config.split,!0,void 0!==i.parentConf&&void 0!==i.parentConf.split,null,i.parentConf)}}this._draw(n.collection,n.buttons)},container:function(){return this.dom.container},disable:function(t){var e=this._nodeToButton(t);return e.isSplit?u(e.node.childNodes[0]).addClass(this.c.dom.button.disabled).prop("disabled",!0):u(e.node).addClass(this.c.dom.button.disabled).prop("disabled",!0),e.disabled=!0,this._checkSplitEnable(),this},destroy:function(){u("body").off("keyup."+this.s.namespace);var t,e,n=this.s.buttons.slice();for(t=0,e=n.length;e>t;t++)this.remove(n[t].node);this.dom.container.remove();var o=this.s.dt.settings()[0];for(t=0,e=o.length;e>t;t++)if(o.inst===this){o.splice(t,1);break}return this},enable:function(t,e){if(!1===e)return this.disable(t);var n=this._nodeToButton(t);return n.isSplit?u(n.node.childNodes[0]).removeClass(this.c.dom.button.disabled).prop("disabled",!1):u(n.node).removeClass(this.c.dom.button.disabled).prop("disabled",!1),n.disabled=!1,this._checkSplitEnable(),this},index:function(t,e,n){e||(e="",n=this.s.buttons);for(var o=0,i=n.length;i>o;o++){var s=n[o].buttons;if(n[o].node===t)return e+o;if(s&&s.length){var r=this.index(t,o+"-",s);if(null!==r)return r}}return null},name:function(){return this.c.name},node:function(t){if(!t)return this.dom.container;var e=this._nodeToButton(t);return u(e.node)},processing:function(t,e){var n=this.s.dt,o=this._nodeToButton(t);return void 0===e?u(o.node).hasClass("processing"):(u(o.node).toggleClass("processing",e),u(n.table().node()).triggerHandler("buttons-processing.dt",[e,n.button(t),n,u(t),o.conf]),this)},remove:function(t){var e=this._nodeToButton(t),n=this._nodeToHost(t),o=this.s.dt;if(e.buttons.length)for(var i=e.buttons.length-1;i>=0;i--)this.remove(e.buttons[i].node);e.conf.destroying=!0,e.conf.destroy&&e.conf.destroy.call(o.button(t),o,u(t),e.conf),this._removeKey(e.conf),u(e.node).remove(),e.inserter&&u(e.inserter).remove();var s=u.inArray(e,n);return n.splice(s,1),this},text:function(t,e){var n=this._nodeToButton(t),o=n.textNode,i=this.s.dt,s=u(n.node),r=function(t){return"function"==typeof t?t(i,s,n.conf):t};return void 0===e?r(n.conf.text):(n.conf.text=e,o.html(r(e)),this)},_constructor:function(){var t=this,e=this.s.dt,n=e.settings()[0],o=this.c.buttons;n._buttons||(n._buttons=[]),n._buttons.push({inst:this,name:this.c.name});for(var i=0,s=o.length;s>i;i++)this.add(o[i]);e.on("destroy",function(e,o){o===n&&t.destroy()}),u("body").on("keyup."+this.s.namespace,function(e){if(!document.activeElement||document.activeElement===document.body){var n=String.fromCharCode(e.keyCode).toLowerCase();-1!==t.s.listenKeys.toLowerCase().indexOf(n)&&t._keypress(n,e)}})},_addKey:function(t){t.key&&(this.s.listenKeys+=u.isPlainObject(t.key)?t.key.key:t.key)},_draw:function(t,e){t||(t=this.dom.container,e=this.s.buttons),t.children().detach();for(var n=0,o=e.length;o>n;n++)t.append(e[n].inserter),t.append(" "),e[n].buttons&&e[n].buttons.length&&this._draw(e[n].collection,e[n].buttons)},_expandButton:function(t,e,n,o,i,s,r){var a,l=this.s.dt,d=!1,c=this.c.dom.collection,f=Array.isArray(e)?e:[e];void 0===e&&(f=Array.isArray(n)?n:[n]);for(var h=0,p=f.length;p>h;h++){var b=this._resolveExtends(f[h]);if(b)if(d=!(!b.config||!b.config.split),Array.isArray(b))this._expandButton(t,b,void 0!==v&&void 0!==v.conf?v.conf.split:void 0,o,void 0!==r&&void 0!==r.split,s,r);else{var v=this._buildButton(b,o,void 0!==b.split||void 0!==b.config&&void 0!==b.config.split,i);if(v){if(null!=s?(t.splice(s,0,v),s++):t.push(v),v.conf.dropIcon&&!v.conf.split&&u(v.node).addClass(this.c.dom.button.dropClass).append(this.c.dom.button.dropHtml),v.conf.buttons&&(v.collection=u("<"+c.container.content.tag+"/>"),v.conf._collection=v.collection,this._expandButton(v.buttons,v.conf.buttons,v.conf.split,!d,d,s,v.conf)),v.conf.split){v.collection=u("<"+c.container.tag+"/>"),v.conf._collection=v.collection;for(var m=0;m<v.conf.split.length;m++){var g=v.conf.split[m];"object"==typeof g&&(g.parent=r,void 0===g.collectionLayout&&(g.collectionLayout=v.conf.collectionLayout),void 0===g.dropup&&(g.dropup=v.conf.dropup),void 0===g.fade&&(g.fade=v.conf.fade))}this._expandButton(v.buttons,v.conf.buttons,v.conf.split,!d,d,s,v.conf)}v.conf.parent=r,b.init&&b.init.call(l.button(v.node),l,u(v.node),b),a=v.node}}}return a},_buildButton:function(t,e,n,o){var i,s,r=this,a=this.c.dom,l=this.s.dt,d=!1,c=function(e){return"function"==typeof e?e(l,s,t):e},f=u.extend(!0,{},a.button);if(e&&n&&a.collection.split?u.extend(!0,f,a.collection.split.action):o||e?u.extend(!0,f,a.collection.button):n&&u.extend(!0,f,a.split.button),t.spacer){var b=u("<"+f.spacer.tag+"/>").addClass("dt-button-spacer "+t.style+" "+f.spacer.className).html(c(t.text));return{conf:t,node:b,nodeChild:null,inserter:b,buttons:[],inCollection:e,isSplit:n,collection:null,textNode:b}}if(t.available&&!t.available(l,t)&&!t.html)return!1;if(t.html)s=u(t.html);else{var v=function(t,e,n,o,i){o.action.call(e.button(n),t,e,n,o,i),u(e.table().node()).triggerHandler("buttons-action.dt",[e.button(n),e,n,o])},m=function(t,e,n,o){o.async?(r.processing(n[0],!0),setTimeout(function(){v(t,e,n,o,function(){r.processing(n[0],!1)})},o.async)):v(t,e,n,o,function(){})},g=t.tag||f.tag,y=void 0===t.clickBlurs||t.clickBlurs;if(s=u("<"+g+"/>").addClass(f.className).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(e){e.preventDefault(),!s.hasClass(f.disabled)&&t.action&&m(e,l,s,t),y&&s.trigger("blur")}).on("keypress.dtb",function(e){13===e.keyCode&&(e.preventDefault(),!s.hasClass(f.disabled)&&t.action&&m(e,l,s,t))}),"a"===g.toLowerCase()&&s.attr("href","#"),"button"===g.toLowerCase()&&s.attr("type","button"),f.liner.tag){var _=f.liner.tag.toLowerCase(),w=u("<"+_+"/>").html(c(t.text)).addClass(f.liner.className);"a"===_&&w.attr("href","#"),"a"!==_&&"button"!==_||(w.attr("tabindex",this.s.dt.settings()[0].iTabIndex),d=!0),s.append(w),i=w}else s.html(c(t.text)),i=s;d||s.attr("tabindex",this.s.dt.settings()[0].iTabIndex),!1===t.enabled&&s.addClass(f.disabled),t.className&&s.addClass(t.className),t.titleAttr&&s.attr("title",c(t.titleAttr)),t.attr&&s.attr(t.attr),t.namespace||(t.namespace=".dt-button-"+h++),void 0!==t.config&&t.config.split&&(t.split=t.config.split)}var x,k,C=this.c.dom.buttonContainer;if(x=C&&C.tag?u("<"+C.tag+"/>").addClass(C.className).append(s):s,this._addKey(t),this.c.buttonCreated&&(x=this.c.buttonCreated(t,x)),n){var A=e?u.extend(!0,this.c.dom.split,this.c.dom.collection.split):this.c.dom.split,T=A.wrapper;k=u("<"+T.tag+"/>").addClass(T.className).append(s);var H=u.extend(t,{autoClose:!0,align:A.dropdown.align,attr:{"aria-haspopup":"dialog","aria-expanded":!1},className:A.dropdown.className,closeButton:!1,splitAlignClass:A.dropdown.splitAlignClass,text:A.dropdown.text});this._addKey(H);var N=function(t,e,n,o){p.split.action.call(e.button(k),t,e,n,o),u(e.table().node()).triggerHandler("buttons-action.dt",[e.button(n),e,n,o]),n.attr("aria-expanded",!0)},D=u('<button class="'+A.dropdown.className+' dt-button"></button>').html(this.c.dom.button.dropHtml).addClass(this.c.dom.button.dropClass).on("click.dtb",function(t){t.preventDefault(),t.stopPropagation(),D.hasClass(f.disabled)||N(t,l,D,H),y&&D.trigger("blur")}).on("keypress.dtb",function(t){13===t.keyCode&&(t.preventDefault(),D.hasClass(f.disabled)||N(t,l,D,H))});0===t.split.length&&D.addClass("dtb-hide-drop"),k.append(D).attr(H.attr)}var B=n?k.get(0):s.get(0);return{conf:t,node:B,nodeChild:B&&B.children&&B.children.length?B.children[0]:null,inserter:n?k:x,buttons:[],inCollection:e,isSplit:n,inSplit:o,collection:null,textNode:i}},_checkSplitEnable:function(t){t||(t=this.s.buttons);for(var e=0;e<t.length;e++){var n=t[e];if(n.isSplit){var o=n.node.childNodes[1];this._checkAnyEnabled(n.buttons)?u(o).removeClass(this.c.dom.button.disabled).prop("disabled",!1):u(o).addClass(this.c.dom.button.disabled).prop("disabled",!1)}else n.isCollection&&this._checkSplitEnable(n.buttons)}},_checkAnyEnabled:function(t){for(var e=0;e<t.length;e++)if(!t[e].disabled)return!0;return!1},_nodeToButton:function(t,e){e||(e=this.s.buttons);for(var n=0,o=e.length;o>n;n++){if(e[n].node===t||e[n].nodeChild===t)return e[n];if(e[n].buttons.length){var i=this._nodeToButton(t,e[n].buttons);if(i)return i}}},_nodeToHost:function(t,e){e||(e=this.s.buttons);for(var n=0,o=e.length;o>n;n++){if(e[n].node===t)return e;if(e[n].buttons.length){var i=this._nodeToHost(t,e[n].buttons);if(i)return i}}},_keypress:function(t,e){if(!e._buttonsHandled){var n=function(n,o){if(n.key)if(n.key===t)e._buttonsHandled=!0,u(o).click();else if(u.isPlainObject(n.key)){if(n.key.key!==t)return;if(n.key.shiftKey&&!e.shiftKey)return;if(n.key.altKey&&!e.altKey)return;if(n.key.ctrlKey&&!e.ctrlKey)return;if(n.key.metaKey&&!e.metaKey)return;e._buttonsHandled=!0,u(o).click()}},o=function(t){for(var e=0,i=t.length;i>e;e++)n(t[e].conf,t[e].node),t[e].buttons.length&&o(t[e].buttons)};o(this.s.buttons)}},_removeKey:function(t){if(t.key){var e=u.isPlainObject(t.key)?t.key.key:t.key,n=this.s.listenKeys.split(""),o=u.inArray(e,n);n.splice(o,1),this.s.listenKeys=n.join("")}},_resolveExtends:function(t){var e,n,o=this,i=this.s.dt,s=function(e){for(var n=0;!u.isPlainObject(e)&&!Array.isArray(e);){if(void 0===e)return;if("function"==typeof e){if(!(e=e.call(o,i,t)))return!1}else if("string"==typeof e){if(!p[e])return{html:e};e=p[e]}if(++n>30)throw"Buttons: Too many iterations"}return Array.isArray(e)?e:u.extend({},e)};for(t=s(t);t&&t.extend;){if(!p[t.extend])throw"Cannot extend unknown button type: "+t.extend;var r=s(p[t.extend]);if(Array.isArray(r))return r;if(!r)return!1;var a=r.className;void 0!==t.config&&void 0!==r.config&&(t.config=u.extend({},r.config,t.config)),t=u.extend({},r,t),a&&t.className!==a&&(t.className=a+" "+t.className),t.extend=r.extend}var l=t.postfixButtons;if(l)for(t.buttons||(t.buttons=[]),e=0,n=l.length;n>e;e++)t.buttons.push(l[e]);var d=t.prefixButtons;if(d)for(t.buttons||(t.buttons=[]),e=0,n=d.length;n>e;e++)t.buttons.splice(e,0,d[e]);return t},_popover:function(t,e,n){var o=e,i=this.c,s=!1,r=u.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",closeButton:!0,containerClassName:i.dom.collection.container.className,contentClassName:i.dom.collection.container.content.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,popoverTitle:"",rightAlignClassName:"dt-button-right",tag:i.dom.collection.container.tag},n),a=r.tag+"."+r.containerClassName.replace(/ /g,"."),l=e.node(),d=r.collectionLayout.includes("fixed")?u("body"):e.node(),c=function(){s=!0,m(u(a),r.fade,function(){u(this).detach()}),u(o.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes()).attr("aria-expanded","false"),u("div.dt-button-background").off("click.dtb-collection"),y.background(!1,r.backgroundClassName,r.fade,d),u(window).off("resize.resize.dtb-collection"),u("body").off(".dtb-collection"),o.off("buttons-action.b-internal"),o.off("destroy"),u("body").trigger("buttons-popover-hide.dt")};if(!1!==t){var f=u(o.buttons('[aria-haspopup="dialog"][aria-expanded="true"]').nodes());if(f.length&&(d.closest(a).length&&(d=f.eq(0)),c()),r.sort){var h=u("button",t).map(function(t,e){return{text:u(e).text(),el:e}}).toArray();h.sort(function(t,e){return t.text.localeCompare(e.text)}),u(t).append(h.map(function(t){return t.el}))}var p=u(".dt-button",t).length,b="";3===p?b="dtb-b3":2===p?b="dtb-b2":1===p&&(b="dtb-b1");var g=u("<"+r.tag+"/>").addClass(r.containerClassName).addClass(r.collectionLayout).addClass(r.splitAlignClass).addClass(b).css("display","none").attr({"aria-modal":!0,role:"dialog"});t=u(t).addClass(r.contentClassName).attr("role","menu").appendTo(g),l.attr("aria-expanded","true"),d.parents("body")[0]!==document.body&&(d=u(document.body).children("div, section, p").last()),r.popoverTitle?g.prepend('<div class="dt-button-collection-title">'+r.popoverTitle+"</div>"):r.collectionTitle&&g.prepend('<div class="dt-button-collection-title">'+r.collectionTitle+"</div>"),r.closeButton&&g.prepend('<div class="dtb-popover-close">&times;</div>').addClass("dtb-collection-closeable"),v(g.insertAfter(d),r.fade);var _=u(e.table().container()),w=g.css("position");if("container"!==r.span&&"dt-container"!==r.align||(d=d.parent(),g.css("width",_.width())),"absolute"===w){var x=u(d[0].offsetParent),k=d.position(),C=d.offset(),A=x.offset(),T=x.position(),H=window.getComputedStyle(x[0]);A.height=x.outerHeight(),A.width=x.width()+parseFloat(H.paddingLeft),A.right=A.left+A.width,A.bottom=A.top+A.height;var N=k.top+d.outerHeight(),D=k.left;g.css({top:N,left:D}),H=window.getComputedStyle(g[0]);var B=g.offset();B.height=g.outerHeight(),B.width=g.outerWidth(),B.right=B.left+B.width,B.bottom=B.top+B.height,B.marginTop=parseFloat(H.marginTop),B.marginBottom=parseFloat(H.marginBottom),r.dropup&&(N=k.top-B.height-B.marginTop-B.marginBottom),("button-right"===r.align||g.hasClass(r.rightAlignClassName))&&(D=k.left-B.width+d.outerWidth()),"dt-container"!==r.align&&"container"!==r.align||D<k.left&&(D=-k.left),T.left+D+B.width>u(window).width()&&(D=u(window).width()-B.width-T.left),0>C.left+D&&(D=-C.left),T.top+N+B.height>u(window).height()+u(window).scrollTop()&&(N=k.top-B.height-B.marginTop-B.marginBottom),x.offset().top+N<u(window).scrollTop()&&(N=k.top+d.outerHeight()),g.css({top:N,left:D})}else{var O=function(){var t=u(window).height()/2,e=g.height()/2;e>t&&(e=t),g.css("marginTop",-1*e)};O(),u(window).on("resize.dtb-collection",function(){O()})}r.background&&y.background(!0,r.backgroundClassName,r.fade,r.backgroundHost||d),u("div.dt-button-background").on("click.dtb-collection",function(){}),r.autoClose&&setTimeout(function(){o.on("buttons-action.b-internal",function(t,e,n,o){o[0]!==d[0]&&c()})},0),u(g).trigger("buttons-popover.dt"),o.on("destroy",c),setTimeout(function(){s=!1,u("body").on("click.dtb-collection",function(e){if(!s){var n=u.fn.addBack?"addBack":"andSelf",o=u(e.target).parent()[0];(!u(e.target).parents()[n]().filter(t).length&&!u(o).hasClass("dt-buttons")||u(e.target).hasClass("dt-button-background"))&&c()}}).on("keyup.dtb-collection",function(t){27===t.keyCode&&c()}).on("keydown.dtb-collection",function(e){var n=u("a, button",t),o=document.activeElement;9===e.keyCode&&(-1===n.index(o)?(n.first().focus(),e.preventDefault()):e.shiftKey?o===n[0]&&(n.last().focus(),e.preventDefault()):o===n.last()[0]&&(n.first().focus(),e.preventDefault()))})},0)}else c()}}),y.background=function(t,e,n,o){void 0===n&&(n=400),o||(o=document.body),t?v(u("<div/>").addClass(e).css("display","none").insertAfter(o),n):m(u("div."+e),n,function(){u(this).removeClass(e).remove()})},y.instanceSelector=function(t,e){if(null==t)return u.map(e,function(t){return t.inst});var n=[],o=u.map(e,function(t){return t.name}),i=function(t){if(Array.isArray(t))for(var s=0,r=t.length;r>s;s++)i(t[s]);else if("string"==typeof t)if(-1!==t.indexOf(","))i(t.split(","));else{var a=u.inArray(t.trim(),o);-1!==a&&n.push(e[a].inst)}else if("number"==typeof t)n.push(e[t].inst);else if("object"==typeof t&&t.nodeName)for(var l=0;l<e.length;l++)e[l].inst.dom.container[0]===t&&n.push(e[l].inst);else"object"==typeof t&&n.push(t)};return i(t),n},y.buttonSelector=function(t,e){for(var n=[],o=function(t,e,n){for(var i,s,r=0,a=e.length;a>r;r++)(i=e[r])&&(s=void 0!==n?n+r:r+"",t.push({node:i.node,name:i.conf.name,idx:s}),i.buttons&&o(t,i.buttons,s+"-"))},i=function(t,e){var s,r,a=[];o(a,e.s.buttons);var l=u.map(a,function(t){return t.node});if(Array.isArray(t)||t instanceof u)for(s=0,r=t.length;r>s;s++)i(t[s],e);else if(null==t||"*"===t)for(s=0,r=a.length;r>s;s++)n.push({inst:e,node:a[s].node});else if("number"==typeof t)e.s.buttons[t]&&n.push({inst:e,node:e.s.buttons[t].node});else if("string"==typeof t)if(-1!==t.indexOf(",")){var d=t.split(",");for(s=0,r=d.length;r>s;s++)i(d[s].trim(),e)}else if(t.match(/^\d+(\-\d+)*$/)){var c=u.map(a,function(t){return t.idx});n.push({inst:e,node:a[u.inArray(t,c)].node})}else if(-1!==t.indexOf(":name")){var f=t.replace(":name","");for(s=0,r=a.length;r>s;s++)a[s].name===f&&n.push({inst:e,node:a[s].node})}else u(l).filter(t).each(function(){n.push({inst:e,node:this})});else if("object"==typeof t&&t.nodeName){var h=u.inArray(t,l);-1!==h&&n.push({inst:e,node:l[h]})}},s=0,r=t.length;r>s;s++){var a=t[s];i(e,a)}return n},y.stripData=function(t,n){return null!==t&&"object"==typeof t&&t.nodeName&&t.nodeType&&(t=t.innerHTML),"string"!=typeof t||(t=y.stripHtmlScript(t),t=y.stripHtmlComments(t),n&&!n.stripHtml||(t=e.util.stripHtml(t)),n&&!n.trim||(t=t.trim()),n&&!n.stripNewlines||(t=t.replace(/\n/g," ")),n&&!n.decodeEntities||(b?t=b(t):(C.innerHTML=t,t=C.value)),n&&!n.escapeExcelFormula||t.match(/^[=@\t\r]/)&&(t="'"+t)),t},y.entityDecoder=function(t){b=t},y.stripHtmlComments=function(t){var e;do{e=t,t=t.replace(/(<!--.*?--!?>)|(<!--[\S\s]+?--!?>)|(<!--[\S\s]*?$)/g,"")}while(t!==e);return t},y.stripHtmlScript=function(t){var e;do{e=t,t=t.replace(/<script\b[^<]*(?:(?!<\/script[^>]*>)<[^<]*)*<\/script[^>]*>/gi,"")}while(t!==e);return t},y.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{container:{className:"dt-button-collection",content:{className:"",tag:"div"},tag:"div"}},button:{tag:"button",className:"dt-button",active:"dt-button-active",disabled:"disabled",spacer:{className:"dt-button-spacer",tag:"span"},liner:{tag:"span",className:""},dropClass:"",dropHtml:'<span class="dt-button-down-arrow">&#x25BC;</span>'},split:{action:{className:"dt-button-split-drop-button dt-button",tag:"button"},dropdown:{align:"split-right",className:"dt-button-split-drop",splitAlignClass:"dt-button-split-left",tag:"button"},wrapper:{className:"dt-button-split",tag:"div"}}}},y.version="3.2.5",u.extend(p,{collection:{text:function(t){return t.i18n("buttons.collection","Collection")},className:"buttons-collection",closeButton:!1,dropIcon:!0,init:function(t,e){e.attr("aria-expanded",!1)},action:function(t,e,n,o){o._collection.parents("body").length?this.popover(!1,o):this.popover(o._collection,o),"keypress"===t.type&&u("a, button",o._collection).eq(0).focus()},attr:{"aria-haspopup":"dialog"}},split:{text:function(t){return t.i18n("buttons.split","Split")},className:"buttons-split",closeButton:!1,init:function(t,e){return e.attr("aria-expanded",!1)},action:function(t,e,n,o){this.popover(o._collection,o)},attr:{"aria-haspopup":"dialog"}},copy:function(){if(p.copyHtml5)return"copyHtml5"},csv:function(t,e){if(p.csvHtml5&&p.csvHtml5.available(t,e))return"csvHtml5"},excel:function(t,e){if(p.excelHtml5&&p.excelHtml5.available(t,e))return"excelHtml5"},pdf:function(t,e){if(p.pdfHtml5&&p.pdfHtml5.available(t,e))return"pdfHtml5"},pageLength:function(t){var e=t.settings()[0].aLengthMenu,n=[],o=[];if(Array.isArray(e[0]))n=e[0],o=e[1];else for(var i=0;i<e.length;i++){var s=e[i];u.isPlainObject(s)?(n.push(s.value),o.push(s.label)):(n.push(s),o.push(s))}return{extend:"collection",text:function(t){return t.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},t.page.len())},className:"buttons-page-length",autoClose:!0,buttons:u.map(n,function(t,e){return{text:o[e],className:"button-page-length",action:function(e,n){n.page.len(t).draw()},init:function(e,n,o){var i=this,s=function(){i.active(e.page.len()===t)};e.on("length.dt"+o.namespace,s),s()},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}}),init:function(t,e,n){var o=this;t.on("length.dt"+n.namespace,function(){o.text(n.text)})},destroy:function(t,e,n){t.off("length.dt"+n.namespace)}}},spacer:{style:"empty",spacer:!0,text:function(t){return t.i18n("buttons.spacer","")}}}),e.Api.register("buttons()",function(t,e){void 0===e&&(e=t,t=void 0),this.selector.buttonGroup=t;var n=this.iterator(!0,"table",function(n){if(n._buttons)return y.buttonSelector(y.instanceSelector(t,n._buttons),e)},!0);return n._groupSelector=t,n}),e.Api.register("button()",function(t,e){var n=this.buttons(t,e);return n.length>1&&n.splice(1,n.length),n}),e.Api.registerPlural("buttons().active()","button().active()",function(t){return void 0===t?this.map(function(t){return t.inst.active(t.node)}):this.each(function(e){e.inst.active(e.node,t)})}),e.Api.registerPlural("buttons().action()","button().action()",function(t){return void 0===t?this.map(function(t){return t.inst.action(t.node)}):this.each(function(e){e.inst.action(e.node,t)})}),e.Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",function(t){return this.each(function(e){for(var n=0;n<t.length;n++)"object"==typeof t[n]&&(t[n].parentConf=e);e.inst.collectionRebuild(e.node,t)})}),e.Api.register(["buttons().enable()","button().enable()"],function(t){return this.each(function(e){e.inst.enable(e.node,t)})}),e.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(t){t.inst.disable(t.node)})}),e.Api.register("button().index()",function(){var t=null;return this.each(function(e){var n=e.inst.index(e.node);null!==n&&(t=n)}),t}),e.Api.registerPlural("buttons().nodes()","button().node()",function(){var t=u();return u(this.each(function(e){t=t.add(e.inst.node(e.node))})),t}),e.Api.registerPlural("buttons().processing()","button().processing()",function(t){return void 0===t?this.map(function(t){return t.inst.processing(t.node)}):this.each(function(e){e.inst.processing(e.node,t)})}),e.Api.registerPlural("buttons().text()","button().text()",function(t){return void 0===t?this.map(function(t){return t.inst.text(t.node)}):this.each(function(e){e.inst.text(e.node,t)})}),e.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(t){t.inst.node(t.node).trigger("click")})}),e.Api.register("button().popover()",function(t,e){return this.map(function(n){return n.inst._popover(t,this.button(this[0].node),e)})}),e.Api.register("buttons().containers()",function(){var t=u(),e=this._groupSelector;return this.iterator(!0,"table",function(n){if(n._buttons)for(var o=y.instanceSelector(e,n._buttons),i=0,s=o.length;s>i;i++)t=t.add(o[i].container())}),t}),e.Api.register("buttons().container()",function(){return this.containers().eq(0)}),e.Api.register("button().add()",function(t,e,n){var o,i=this.context;if(i.length){var s=y.instanceSelector(this._groupSelector,i[0]._buttons);s.length&&(o=s[0].add(e,t,n))}return o?this.button(this._groupSelector,o):this}),e.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(t){t.destroy()}),this}),e.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(t){t.inst.remove(t.node)}),this}),e.Api.register("buttons.info()",function(t,e,n){var o=this;return!1===t?(this.off("destroy.btn-info"),m(u("#datatables_buttons_info"),400,function(){u(this).remove()}),clearTimeout(g),g=null,this):(g&&clearTimeout(g),u("#datatables_buttons_info").length&&u("#datatables_buttons_info").remove(),t=t?"<h2>"+t+"</h2>":"",v(u('<div id="datatables_buttons_info" class="dt-button-info"/>').html(t).append(u("<div/>")["string"==typeof e?"html":"append"](e)).css("display","none").appendTo("body")),void 0!==n&&0!==n&&(g=setTimeout(function(){o.buttons.info(!1)},n)),this.on("destroy.btn-info",function(){o.buttons.info(!1)}),this)}),e.Api.register("buttons.exportData()",function(t){if(this.context.length)return A(new e.Api(this.context[0]),t)}),e.Api.register("buttons.exportInfo()",function(t){return t||(t={}),{filename:_(t,this),title:x(t,this),messageTop:k(this,t,t.message||t.messageTop,"top"),messageBottom:k(this,t,t.messageBottom,"bottom")}});var _=function(t,e){var n="*"===t.filename&&"*"!==t.title&&void 0!==t.title&&null!==t.title&&""!==t.title?t.title:t.filename;if("function"==typeof n&&(n=n(t,e)),null==n)return null;-1!==n.indexOf("*")&&(n=n.replace(/\*/g,u("head > title").text()).trim()),n=n.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var o=w(t.extension,t,e);return o||(o=""),n+o},w=function(t,e,n){return null==t?null:"function"==typeof t?t(e,n):t},x=function(t,e){var n=w(t.title,t,e);return null===n?null:-1!==n.indexOf("*")?n.replace(/\*/g,u("head > title").text()||"Exported data"):n},k=function(t,e,n,o){var i=w(n,e,t);if(null===i)return null;var s=u("caption",t.table().container()).eq(0);return"*"===i?s.css("caption-side")!==o?null:s.length?s.text():"":i},C=u("<textarea/>")[0],A=function(t,e){var n=u.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,escapeExcelFormula:!1,trim:!0,format:{header:function(t){return y.stripData(t,n)},footer:function(t){return y.stripData(t,n)},body:function(t){return y.stripData(t,n)}},customizeData:null,customizeZip:null},e),o=t.columns(n.columns).indexes().map(function(e){var o=t.column(e);return n.format.header(o.title(),e,o.header())}).toArray(),i=t.table().footer()?t.columns(n.columns).indexes().map(function(e){var o=t.column(e).footer(),i="";if(o){var s=u(".dt-column-title",o);i=s.length?s.html():u(o).html()}return n.format.footer(i,e,o)}).toArray():null,s=u.extend({},n.modifier);t.select&&"function"==typeof t.select.info&&void 0===s.selected&&t.rows(n.rows,u.extend({selected:!0},s)).any()&&u.extend(s,{selected:!0});for(var r=t.rows(n.rows,s).indexes().toArray(),a=t.cells(r,n.columns,{order:s.order}),l=a.render(n.orthogonal).toArray(),d=a.nodes().toArray(),c=a.indexes().toArray(),f=t.columns(n.columns).count(),h=[],p=0,b=0,v=f>0?l.length/f:0;v>b;b++){for(var m=[f],g=0;f>g;g++)m[g]=n.format.body(l[p],c[p].row,c[p].column,d[p]),p++;h[b]=m}var _={header:o,headerStructure:T(n.format.header,t.table().header.structure(n.columns)),footer:i,footerStructure:T(n.format.footer,t.table().footer.structure(n.columns)),body:h};return n.customizeData&&n.customizeData(_),_};function T(t,e){for(var n=0;n<e.length;n++)for(var o=0;o<e[n].length;o++){var i=e[n][o];i&&(i.title=t(i.title,o,i.cell))}return e}function H(t,n){var o=new e.Api(t),i=n||o.init().buttons||e.defaults.buttons;return new y(o,i).container()}u.fn.dataTable.Buttons=y,u.fn.DataTable.Buttons=y,u(document).on("init.dt plugin-init.dt",function(t,n){if("dt"===t.namespace){var o=n.oInit.buttons||e.defaults.buttons;o&&!n._buttons&&new y(n,o).container()}}),e.ext.feature.push({fnInit:H,cFeature:"B"}),e.feature&&e.feature.register("buttons",H);const N=Object.freeze(Object.defineProperty({__proto__:null,default:e},Symbol.toStringTag,{value:"Module"}));
/*! Bootstrap integration for DataTables' Buttons
 * © SpryMedia Ltd - datatables.net/license
 */let D=t;D.extend(!0,e.Buttons.defaults,{dom:{container:{className:"dt-buttons btn-group flex-wrap"},button:{className:"btn btn-secondary",active:"active",dropHtml:"",dropClass:"dropdown-toggle"},collection:{container:{tag:"div",className:"dt-button-collection",content:{tag:"ul",className:"dropdown-menu show"}},closeButton:!1,button:{tag:"li",className:"dt-button",active:"dt-button-active-a",disabled:"disabled",liner:{tag:"a",className:"dropdown-item"},spacer:{className:"divider",tag:"li"}}},split:{action:{tag:"a",className:"btn btn-secondary dt-button-split-drop-button",closeButton:!1},dropdown:{tag:"button",className:"btn btn-secondary dt-button-split-drop dropdown-toggle-split",closeButton:!1,align:"split-left",splitAlignClass:"dt-button-split-left"},wrapper:{tag:"div",className:"dt-button-split btn-group",closeButton:!1}}},buttonCreated:function(t,e){return t.buttons?D('<div class="btn-group"/>').append(e):e}}),e.ext.buttons.collection.rightAlignClassName="dropdown-menu-right";
/*! FixedHeader 4.0.3
 * © SpryMedia Ltd - datatables.net/license
 */
let B=t;var O=0,S=function(t,n){if(!e.versionCheck("2"))throw"Warning: FixedHeader requires DataTables 2 or newer";if(!(this instanceof S))throw"FixedHeader must be initialised with the 'new' keyword.";!0===n&&(n={}),t=new e.Api(t),this.c=B.extend(!0,{},S.defaults,n),this.s={dt:t,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:B(window).height(),visible:!0},headerMode:null,footerMode:null,autoWidth:t.settings()[0].oFeatures.bAutoWidth,namespace:".dtfc"+O++,scrollLeft:{header:-1,footer:-1},enable:!0,autoDisable:!1},this.dom={floatingHeader:null,thead:B(t.table().header()),tbody:B(t.table().body()),tfoot:B(t.table().footer()),header:{host:null,scrollAdjust:null,floating:null,floatingParent:B('<div class="dtfh-floatingparent"><div class="dtfh-floating-limiter"><div></div></div></div>'),limiter:null,placeholder:null},footer:{host:null,scrollAdjust:null,floating:null,floatingParent:B('<div class="dtfh-floatingparent"><div class="dtfh-floating-limiter"><div></div></div></div>'),limiter:null,placeholder:null}};var o=this.dom;o.header.host=o.thead.parent(),o.header.limiter=o.header.floatingParent.children(),o.header.scrollAdjust=o.header.limiter.children(),o.footer.host=o.tfoot.parent(),o.footer.limiter=o.footer.floatingParent.children(),o.footer.scrollAdjust=o.footer.limiter.children();var i=t.settings()[0];if(i._fixedHeader)throw"FixedHeader already initialised on table "+i.nTable.id;i._fixedHeader=this,this._constructor()};B.extend(S.prototype,{destroy:function(){var t=this.dom;this.s.dt.off(".dtfc"),B(window).off(this.s.namespace),t.header.rightBlocker&&t.header.rightBlocker.remove(),t.header.leftBlocker&&t.header.leftBlocker.remove(),t.footer.rightBlocker&&t.footer.rightBlocker.remove(),t.footer.leftBlocker&&t.footer.leftBlocker.remove(),this.c.header&&this._modeChange("in-place","header",!0),this.c.footer&&t.tfoot.length&&this._modeChange("in-place","footer",!0)},enable:function(t,e,n){this.s.enable=t,this.s.enableType=n,(e||void 0===e)&&(this._positions(),this._scroll(!0))},enabled:function(){return this.s.enable},headerOffset:function(t){return void 0!==t&&(this.c.headerOffset=t,this.update()),this.c.headerOffset},footerOffset:function(t){return void 0!==t&&(this.c.footerOffset=t,this.update()),this.c.footerOffset},update:function(t){var e=this.s.dt.table().node();(this.s.enable||this.s.autoDisable)&&(B(e).is(":visible")?(this.s.autoDisable=!1,this.enable(!0,!1)):(this.s.autoDisable=!0,this.enable(!1,!1)),0!==B(e).children("thead").length&&(this._positions(),this._scroll(void 0===t||t),this._widths(this.dom.header),this._widths(this.dom.footer)))},_constructor:function(){var t=this,n=this.s.dt;B(window).on("scroll"+this.s.namespace,function(){t._scroll()}).on("resize"+this.s.namespace,e.util.throttle(function(){t.s.position.windowHeight=B(window).height(),t.update()},50));var o=B(".fh-fixedHeader");!this.c.headerOffset&&o.length&&(this.c.headerOffset=o.outerHeight());var i=B(".fh-fixedFooter");!this.c.footerOffset&&i.length&&(this.c.footerOffset=i.outerHeight()),n.on("column-reorder.dt.dtfc column-visibility.dt.dtfc column-sizing.dt.dtfc responsive-display.dt.dtfc",function(e,n){t.update()}).on("draw.dt.dtfc",function(e,o){t.update(o!==n.settings()[0])}),n.on("destroy.dtfc",function(){t.destroy()}),this._positions(),this._scroll()},_clone:function(t,e){var n=this,o=this.s.dt,i=this.dom[t],s="header"===t?this.dom.thead:this.dom.tfoot;if("footer"!==t||!this._scrollEnabled())if(!e&&i.floating)i.floating.removeClass("fixedHeader-floating fixedHeader-locked");else{i.floating&&(null!==i.placeholder&&i.placeholder.remove(),i.floating.remove());var r=B(o.table().node()),a=B(r.parent()),l=this._scrollEnabled();i.floating=B(o.table().node().cloneNode(!1)).attr("aria-hidden","true").css({top:0,left:0}).removeAttr("id"),i.floatingParent.css({width:a[0].offsetWidth,position:"fixed",left:l?r.offset().left+a.scrollLeft():0}).css("header"===t?{top:this.c.headerOffset,bottom:""}:{top:"",bottom:this.c.footerOffset}).addClass("footer"===t?"dtfh-floatingparent-foot":"dtfh-floatingparent-head").appendTo("body").children().eq(0),i.limiter.css({width:"100%",overflow:"hidden",height:"fit-content"}),i.scrollAdjust.append(i.floating),this._stickyPosition(i.floating,"-");var d=function(){var t=a.scrollLeft();n.s.scrollLeft={footer:t,header:t},i.limiter.scrollLeft(n.s.scrollLeft.header)};d(),a.off("scroll.dtfh").on("scroll.dtfh",d),i.scrollAdjust.css({width:"fit-content",paddingRight:n.s.dt.settings()[0].oBrowser.barWidth});let e=B("footer"===t?"div.dtfc-bottom-blocker":"div.dtfc-top-blocker",o.table().container());e.length&&e.clone().appendTo(i.floatingParent).css({position:"fixed",right:e.width()}),i.placeholder=s.clone(!1),i.placeholder.find("*[id]").removeAttr("id"),i.host.prepend(i.placeholder),i.floating.append(s),this._widths(i)}},_stickyPosition:function(t,e){if(this._scrollEnabled()){var n="rtl"===B(this.s.dt.table().node()).css("direction");t.find("th").each(function(){if("sticky"===B(this).css("position")){var t,e=B(this).css("right"),o=B(this).css("left");"auto"===e||n?"auto"!==o&&n&&(t=+o.replace(/px/g,""),B(this).css("left",t>0?t:0)):(t=+e.replace(/px/g,""),B(this).css("right",t>0?t:0))}})}},_horizontal:function(t,e){var n=this.dom[t],o=this.s.scrollLeft;if(n.floating&&o[t]!==e){if(this._scrollEnabled()){var i=B(B(this.s.dt.table().node()).parent()).scrollLeft();n.floating.scrollLeft(i),n.floatingParent.scrollLeft(i)}o[t]=e}},_modeChange:function(t,e,n){var o=this.s.dt,i=this.dom[e],s=this.s.position,r=this._scrollEnabled();if("footer"!==e||!r){var a=function(t){i.floating[0].style.setProperty("width",t+"px","important"),r||i.floatingParent[0].style.setProperty("width",t+"px","important")},l=this.dom["footer"===e?"tfoot":"thead"],d=B.contains(l[0],document.activeElement)?document.activeElement:null,c=B(B(this.s.dt.table().node()).parent());if("in-place"===t)i.placeholder&&(i.placeholder.remove(),i.placeholder=null),B.contains(i.host[0],l[0])||("header"===e?i.host.prepend(l):i.host.append(l)),i.floating&&(i.floating.remove(),i.floating=null,this._stickyPosition(i.host,"+")),i.floatingParent&&(i.floatingParent.find("div.dtfc-top-blocker").remove(),i.floatingParent.remove()),B(B(i.host.parent()).parent()).scrollLeft(c.scrollLeft());else if("in"===t){this._clone(e,n);var u,f=c.offset(),h=B(document).scrollTop(),p=h+B(window).height(),b=r?f.top:s.tbodyTop,v=r?f.top+c.outerHeight():s.tfootTop;u="footer"===e?b>p?s.tfootHeight:b+s.tfootHeight-p:h+this.c.headerOffset+s.theadHeight-v;var m="header"===e?"top":"bottom",g=this.c[e+"Offset"]-(u>0?u:0);i.floating.addClass("fixedHeader-floating"),i.floatingParent.css(m,g).css({left:s.left,"z-index":3}),a(s.width),"footer"===e&&i.floating.css("top","")}else"below"===t?(this._clone(e,n),i.floating.addClass("fixedHeader-locked"),i.floatingParent.css({position:"absolute",top:s.tfootTop-s.theadHeight,left:s.left+"px"}),a(s.width)):"above"===t&&(this._clone(e,n),i.floating.addClass("fixedHeader-locked"),i.floatingParent.css({position:"absolute",top:s.tbodyTop,left:s.left+"px"}),a(s.width));d&&d!==document.activeElement&&setTimeout(function(){d.focus()},10),this.s.scrollLeft.header=-1,this.s.scrollLeft.footer=-1,this.s[e+"Mode"]=t,o.trigger("fixedheader-mode",[t,e])}},_positions:function(){var t=this.s.dt,e=t.table(),n=this.s.position,o=this.dom,i=B(e.node()),s=this._scrollEnabled(),r=B(t.table().header()),a=B(t.table().footer()),l=o.tbody,d=i.parent();n.visible=i.is(":visible"),n.width=i.outerWidth(),n.left=i.offset().left,n.theadTop=r.offset().top,n.tbodyTop=s?d.offset().top:l.offset().top,n.tbodyHeight=s?d.outerHeight():l.outerHeight(),n.theadHeight=r.outerHeight(),n.theadBottom=n.theadTop+n.theadHeight,n.tfootTop=n.tbodyTop+n.tbodyHeight,a.length?(n.tfootBottom=n.tfootTop+a.outerHeight(),n.tfootHeight=a.outerHeight()):(n.tfootBottom=n.tfootTop,n.tfootHeight=0)},_scroll:function(t){if(!this.s.dt.settings()[0].bDestroying){var e,n,o=this._scrollEnabled(),i=B(this.s.dt.table().node()).parent(),s=i.offset(),r=i.outerHeight(),a=B(document).scrollLeft(),l=B(document).scrollTop(),d=B(window).height()+l,c=this.s.position,u=o?s.top:c.tbodyTop,f=o?s.left:c.left,h=o?s.top+r:c.tfootTop,p=o?i.outerWidth():c.tbodyWidth;if(this.c.header){if(this.s.enable)if(c.visible&&l+this.c.headerOffset+c.theadHeight>u)if(l+this.c.headerOffset+c.theadHeight>u&&l+this.c.headerOffset+c.theadHeight<h)if(e="in",l+this.c.headerOffset+c.theadHeight>h||void 0===this.dom.header.floatingParent)t=!0;else{var b=this.dom.header.floatingParent.css({top:this.c.headerOffset,position:"fixed"}).children().eq(0);0===b.find(this.dom.header.floating).length&&b.append(this.dom.header.floating)}else e="below";else e="in-place";else e="in-place";(t||e!==this.s.headerMode)&&this._modeChange(e,"header",t),this._horizontal("header",a)}var v={offset:{top:0},height:0},m={offset:{top:0},height:0};if(this.c.footer&&this.dom.tfoot.length&&this.dom.tfoot.find("th, td").length){this.s.enable&&c.visible&&c.tfootBottom+this.c.footerOffset>d?h+c.tfootHeight+this.c.footerOffset>d&&u+this.c.footerOffset<d?(n="in",t=!0):n="above":n="in-place",(t||n!==this.s.footerMode)&&this._modeChange(n,"footer",t),this._horizontal("footer",a);var g=function(t){return{offset:t.offset(),height:t.outerHeight()}};if(v=this.dom.header.floating?g(this.dom.header.floating):g(this.dom.thead),m=this.dom.footer.floating?g(this.dom.footer.floating):g(this.dom.tfoot),o&&m.offset.top>l){var y=l-s.top,_=d+(y>-v.height?y:0)-(v.offset.top+(y<-v.height?v.height:0)+m.height);0>_&&(_=0),i.outerHeight(_),Math.round(i.outerHeight())<Math.round(_)?B(this.dom.tfoot.parent()).removeClass("fixedHeader-floating"):B(this.dom.tfoot.parent()).addClass("fixedHeader-floating")}}if(this.dom.header.floating&&this.dom.header.floatingParent.css("left",f-a),this.dom.footer.floating&&this.dom.footer.floatingParent.css("left",f-a),void 0!==this.s.dt.settings()[0]._fixedColumns){var w=function(t,n,o){if(void 0===o){var i=B("div.dtfc-"+t+"-"+n+"-blocker");o=0===i.length?null:i.clone().css("z-index",1)}return null!==o&&("in"===e||"below"===e?o.appendTo("body").css({top:"top"===n?v.offset.top:m.offset.top,left:"right"===t?f+p-o.width():f}):o.detach()),o};this.dom.header.rightBlocker=w("right","top",this.dom.header.rightBlocker),this.dom.header.leftBlocker=w("left","top",this.dom.header.leftBlocker),this.dom.footer.rightBlocker=w("right","bottom",this.dom.footer.rightBlocker),this.dom.footer.leftBlocker=w("left","bottom",this.dom.footer.leftBlocker)}}},_scrollEnabled:function(){var t=this.s.dt.settings()[0].oScroll;return""!==t.sY||""!==t.sX},_widths:function(t){if(t&&t.placeholder){var e=B(this.s.dt.table().node()),n=B(e.parent());t.floatingParent.css("width",n[0].offsetWidth),t.floating.css("width",e[0].offsetWidth),B("colgroup",t.floating).remove();for(var o=t.placeholder.parent().find("colgroup").clone().appendTo(t.floating).find("col"),i=this.s.dt.columns(":visible").widths(),s=0;s<i.length;s++)o.eq(s).css("width",i[s])}}}),S.version="4.0.3",S.defaults={header:!0,footer:!1,headerOffset:0,footerOffset:0},B.fn.dataTable.FixedHeader=S,B.fn.DataTable.FixedHeader=S,B(document).on("init.dt.dtfh",function(t,n,o){if("dt"===t.namespace){var i=n.oInit.fixedHeader,s=e.defaults.fixedHeader;if((i||s)&&!n._fixedHeader){var r=B.extend({},s,i);!1!==i&&new S(n,r)}}}),e.Api.register("fixedHeader()",function(){}),e.Api.register("fixedHeader.adjust()",function(){return this.iterator("table",function(t){var e=t._fixedHeader;e&&e.update()})}),e.Api.register("fixedHeader.enable()",function(t){return this.iterator("table",function(e){var n=e._fixedHeader;t=void 0===t||t,n&&t!==n.enabled()&&n.enable(t)})}),e.Api.register("fixedHeader.enabled()",function(){if(this.context.length){var t=this.context[0]._fixedHeader;if(t)return t.enabled()}return!1}),e.Api.register("fixedHeader.disable()",function(){return this.iterator("table",function(t){var e=t._fixedHeader;e&&e.enabled()&&e.enable(!1)})}),B.each(["header","footer"],function(t,n){e.Api.register("fixedHeader."+n+"Offset()",function(t){var e=this.context;return void 0===t?e.length&&e[0]._fixedHeader?e[0]._fixedHeader[n+"Offset"]():void 0:this.iterator("table",function(e){var o=e._fixedHeader;o&&o[n+"Offset"](t)})})});
/*! KeyTable 2.12.1
 * © SpryMedia Ltd - datatables.net/license
 */
let I=t;var F=0,E=0,P=function(t,n){if(!e.versionCheck||!e.versionCheck("1.10.8"))throw"KeyTable requires DataTables 1.10.8 or newer";this.c=I.extend(!0,{},e.defaults.keyTable,P.defaults,n),this.s={dt:new e.Api(t),dtDrawing:!1,enable:!0,focusDraw:!1,waitingForDraw:!1,lastFocus:null,namespace:".keyTable-"+F++,tabInput:null},this.dom={};var o=this.s.dt.settings()[0],i=o.keytable;if(i)return i;o.keytable=this,this._constructor()};I.extend(P.prototype,{blur:function(){this._blur()},enable:function(t){this.s.enable=t},enabled:function(){return this.s.enable},focus:function(t,e){this._focus(this.s.dt.cell(t,e))},focused:function(t){if(!this.s.lastFocus)return!1;var e=this.s.lastFocus.cell.index();return t.row===e.row&&t.column===e.column},_constructor:function(){this._tabInput();var t=this,e=this.s.dt,n=I(e.table().node()),o=this.s.namespace,i=!1;if("static"===n.css("position")&&n.css("position","relative"),I(e.table().body()).on("click"+o,"th, td",function(n){if(!1!==t.s.enable){var o=e.cell(this);o.any()&&t._focus(o,null,!1,n)}}),I(document).on("keydown"+o,function(e){i||t.s.dtDrawing?e.preventDefault():t._key(e)}),this.c.blurable&&I(document).on("mousedown"+o,function(n){I(n.target).parents(".dataTables_filter, .dt-search").length&&t._blur(),I(n.target).parents().filter(e.table().container()).length||I(n.target).parents("div.DTE").length||I(n.target).parents("div.editor-datetime").length||I(n.target).parents("div.dt-datetime").length||I(n.target).parents().filter(".DTFC_Cloned").length||t._blur()}),this.c.editor){var s=this.c.editor;s.on("open.keyTableMain",function(e,n,i){"inline"!==n&&t.s.enable&&(t.enable(!1),s.one("close"+o,function(){t.enable(!0)}))}),this.c.editOnFocus&&e.on("key-focus"+o+" key-refocus"+o,function(e,n,o,i){t._editor(null,i,!0)}),e.on("key"+o,function(e,n,o,i,s){t._editor(o,s,!1)}),I(e.table().body()).on("dblclick"+o,"th, td",function(n){!1!==t.s.enable&&e.cell(this).any()&&(t.s.lastFocus&&this!==t.s.lastFocus.cell.node()||t._editor(null,n,!0))}),s.on("preSubmit",function(){i=!0}).on("preSubmitCancelled",function(){i=!1}).on("submitComplete",function(){i=!1})}e.on("stateSaveParams"+o,function(e,n,o){o.keyTable=t.s.lastFocus?t.s.lastFocus.cell.index():null}),e.on("column-visibility"+o,function(e){t._tabInput()}),e.on("column-reorder"+o,function(e,n,o){var i=t.s.lastFocus;if(i&&i.cell){var s=i.relative.column;i.cell[0][0].column=o.mapping.indexOf(s),i.relative.column=o.mapping.indexOf(s)}}),e.on("preDraw"+o+" scroller-will-draw"+o,function(e){t.s.dtDrawing=!0}),e.on("draw"+o,function(n){if(t.s.dtDrawing=!1,t._tabInput(),!t.s.focusDraw&&t.s.lastFocus){var o=t.s.lastFocus.relative,i=e.page.info(),s=o.row;if(0===i.recordsDisplay)return;if(s<i.start||s>i.start+i.length)return;s<i.recordsDisplay||(s=i.recordsDisplay-1),t._focus(s,o.column,!0,n)}}),this.c.clipboard&&this._clipboard(),e.on("destroy"+o,function(){t._blur(!0),e.off(o),I(e.table().body()).off("click"+o,"th, td").off("dblclick"+o,"th, td"),I(document).off("mousedown"+o).off("keydown"+o).off("copy"+o).off("paste"+o)});var r=e.state.loaded();r&&r.keyTable?e.one("init",function(){var t=e.cell(r.keyTable);t.any()&&t.focus()}):this.c.focus&&e.cell(this.c.focus).focus()},_blur:function(t){if(this.s.enable&&this.s.lastFocus){var e=this.s.lastFocus.cell;I(e.node()).removeClass(this.c.className),this.s.lastFocus=null,t||(this._updateFixedColumns(e.index().column),this._emitEvent("key-blur",[this.s.dt,e]))}},_clipboard:function(){var t=this.s.dt,e=this,n=this.s.namespace,o=this.c.clipboard;window.getSelection&&((!0===o||o.copy)&&I(document).on("copy"+n,function(t){var n=t.originalEvent,o=window.getSelection().toString(),i=e.s.lastFocus;!o&&i&&(n.clipboardData.setData("text/plain",i.cell.render(e.c.clipboardOrthogonal)),n.preventDefault())}),(!0===o||o.paste)&&I(document).on("paste"+n,function(n){var o,i=n.originalEvent,s=e.s.lastFocus,r=document.activeElement,a=e.c.editor;if(s&&(!r||"body"===r.nodeName.toLowerCase()))if(i.preventDefault(),window.clipboardData&&window.clipboardData.getData?o=window.clipboardData.getData("Text"):i.clipboardData&&i.clipboardData.getData&&(o=i.clipboardData.getData("text/plain")),a){var l=e._inlineOptions(s.cell.index());a.inline(l.cell,l.field,l.options).set(a.displayed()[0],o).submit()}else s.cell.data(o),t.draw(!1)}))},_columns:function(){var t=this.s.dt,e=t.columns(this.c.columns).indexes(),n=[];return t.columns(":visible").every(function(t){-1!==e.indexOf(t)&&n.push(t)}),n},_editor:function(t,e,n){if(this.s.lastFocus&&(!e||"draw"!==e.type)){var o=this,i=this.s.dt,s=this.c.editor,r=this.s.lastFocus.cell,a=this.s.namespace+"e"+E++;if(!I("div.DTE",r.node()).length&&(null===t||(0>t||t>9)&&11!==t&&12!==t&&(14>t||t>31)&&(112>t||t>123)&&(127>t||t>159))){e&&(e.stopPropagation(),13===t&&e.preventDefault());var l=function(){var t=o._inlineOptions(r.index());s.one("open"+a,function(){s.off("cancelOpen"+a),n||I("div.DTE_Field_InputControl input, div.DTE_Field_InputControl textarea").select(),i.keys.enable(n?"tab-only":"navigation-only"),i.on("key-blur.editor",function(t,e,n){"submit"!==s.s.editOpts.onBlur&&s.displayed()&&n.node()===r.node()&&s.submit()}),n&&I(i.table().container()).addClass("dtk-focus-alt"),s.on("preSubmitCancelled"+a,function(){setTimeout(function(){o._focus(r,null,!1)},50)}),s.on("submitUnsuccessful"+a,function(){o._focus(r,null,!1)}),s.one("close"+a,function(){i.keys.enable(!0),i.off("key-blur.editor"),s.off(a),I(i.table().container()).removeClass("dtk-focus-alt"),o.s.returnSubmit&&(o.s.returnSubmit=!1,o._emitEvent("key-return-submit",[i,r]))})}).one("cancelOpen"+a,function(){s.off(a)}).inline(t.cell,t.field,t.options)};13===t?(n=!0,I(document).one("keyup",function(){l()})):l()}}},_inlineOptions:function(t){return this.c.editorOptions?this.c.editorOptions(t):{cell:t,field:void 0,options:void 0}},_emitEvent:function(t,e){return this.s.dt.iterator("table",function(n,o){return I(n.nTable).triggerHandler(t,e)})},_focus:function(t,e,n,o){var i=this,s=this.s.dt,r=s.page.info(),a=this.s.lastFocus;if(o||(o=null),this.s.enable){if("number"!=typeof t){if(!t.any())return;var l=t.index();if(e=l.column,0>(t=s.rows({filter:"applied",order:"applied"}).indexes().indexOf(l.row)))return;r.serverSide&&(t+=r.start)}if(-1!==r.length&&(t<r.start||t>=r.start+r.length))return this.s.focusDraw=!0,this.s.waitingForDraw=!0,void s.one("draw",function(){i.s.focusDraw=!1,i.s.waitingForDraw=!1,i._focus(t,e,void 0,o)}).page(Math.floor(t/r.length)).draw(!1);if(-1!==I.inArray(e,this._columns())){r.serverSide&&(t-=r.start);var d=s.cells(null,e,{search:"applied",order:"applied"}).flatten(),c=s.cell(d[t]);if(-1===this._emitEvent("key-prefocus",[this.s.dt,c,o||null]).indexOf(!1)){if(a){if(a.node===c.node())return void this._emitEvent("key-refocus",[this.s.dt,c,o||null]);this._blur()}this._removeOtherFocus();var u=I(c.node());if(u.addClass(this.c.className),this._updateFixedColumns(e),void 0===n||!0===n){this._scroll(I(window),I(document.body),u,"offset");var f=s.table().body().parentNode;if(f!==s.table().header().parentNode){var h=I(f.parentNode);this._scroll(h,h,u,"position")}}var p=s.page.info();this.s.lastFocus={cell:c,node:c.node(),relative:{row:p.start+s.rows({page:"current"}).indexes().indexOf(c.index().row),column:c.index().column}},this._emitEvent("key-focus",[this.s.dt,c,o||null]),s.state.save()}}}},_key:function(t){if(this.s.waitingForDraw)t.preventDefault();else if(!I(t.target).closest(".dte-inlineAdd").length){var e=this.s.enable;this.s.returnSubmit=("navigation-only"===e||"tab-only"===e)&&13===t.keyCode;var n=!0===e||"navigation-only"===e;if(e&&(!(0===t.keyCode||t.ctrlKey||t.metaKey||t.altKey)||t.ctrlKey&&t.altKey)){var o=this.s.lastFocus;if(o)if(this.s.dt.cell(o.node).any()){var i=this,s=this.s.dt,r=!!this.s.dt.settings()[0].oScroll.sY;if(!this.c.keys||-1!==I.inArray(t.keyCode,this.c.keys))switch(t.keyCode){case 9:t.preventDefault(),this._keyAction(function(){i._shift(t,t.shiftKey?"left":"right",!0)});break;case 27:if(I(o.node).find("div.DTE").length)return;this.c.blurable&&!0===e&&this._blur();break;case 33:case 34:n&&!r&&(t.preventDefault(),this._keyAction(function(){s.page(33===t.keyCode?"previous":"next").draw(!1)}));break;case 35:case 36:n&&(t.preventDefault(),this._keyAction(function(){var e=s.cells({page:"current"}).indexes(),n=i._columns();i._focus(s.cell(e[35===t.keyCode?e.length-1:n[0]]),null,!0,t)}));break;case 37:n&&this._keyAction(function(){i._shift(t,"left")});break;case 38:n&&this._keyAction(function(){i._shift(t,"up")});break;case 39:n&&this._keyAction(function(){i._shift(t,"right")});break;case 40:n&&this._keyAction(function(){i._shift(t,"down")});break;case 113:if(this.c.editor){this._editor(null,t,!0);break}default:!0===e&&this._emitEvent("key",[s,t.keyCode,this.s.lastFocus.cell,t])}}else this.s.lastFocus=null}}},_keyAction:function(t){var e=this.c.editor;e&&e.mode()&&e.display()?e.submit(t):t()},_removeOtherFocus:function(){var t=this.s.dt.table().node();I.fn.dataTable.tables({api:!0}).iterator("table",function(e){this.table().node()!==t&&this.cell.blur()})},_scroll:function(t,e,n,o){var i=n[o](),s=n.outerHeight(),r=n.outerWidth(),a=e.scrollTop(),l=e.scrollLeft(),d=t.height(),c=t.width();"position"===o&&(i.top+=parseInt(n.closest("table").css("top"),10)),i.top<a&&i.top+s>a-5&&e.scrollTop(i.top),i.left<l&&e.scrollLeft(i.left),i.top+s>a+d&&i.top<a+d+5&&d>s&&e.scrollTop(i.top+s-d),i.left+r>l+c&&c>r&&e.scrollLeft(i.left+r-c)},_shift:function(t,e,n){var o=this.s.dt,i=o.page.info(),s=i.recordsDisplay,r=this._columns(),a=this.s.lastFocus;if(a){var l=a.cell;if(l){var d=o.rows({filter:"applied",order:"applied"}).indexes().indexOf(l.index().row);i.serverSide&&(d+=i.start);var c=o.columns(r).indexes().indexOf(l.index().column),u=d,f=r[c];"rtl"===I(o.table().node()).css("direction")&&("right"===e?e="left":"left"===e&&(e="right")),"right"===e?c<r.length-1?f=r[c+1]:(u++,f=r[0]):"left"===e?0===c?(u--,f=r[r.length-1]):f=r[c-1]:"up"===e?u--:"down"===e&&u++,u>=0&&s>u&&-1!==I.inArray(f,r)?(t&&t.preventDefault(),this._focus(u,f,!0,t)):n&&this.c.blurable?this._blur():t&&t.preventDefault()}}},_tabInput:function(){var t=this,e=this.s.dt,n=null!==this.c.tabIndex?this.c.tabIndex:e.settings()[0].iTabIndex;if(-1!=n){if(!this.s.tabInput){var o=I('<div><input type="text" tabindex="'+n+'"/></div>').css({position:"absolute",height:1,width:0,overflow:"hidden"});o.children().on("focus",function(n){var o=e.cell(":eq(0)",t._columns(),{page:"current"});o.any()&&t._focus(o,null,!0,n)}),this.s.tabInput=o}var i=this.s.dt.cell(":eq(0)","0:visible",{page:"current",order:"current"}).node();i&&I(i).prepend(this.s.tabInput)}},_updateFixedColumns:function(t){var e=this.s.dt,n=e.settings()[0];if(n._oFixedColumns){var o=n._oFixedColumns.s.iLeftColumns,i=n.aoColumns.length-n._oFixedColumns.s.iRightColumns;t>=o&&i>t||e.fixedColumns().update()}}}),P.defaults={blurable:!0,className:"focus",clipboard:!0,clipboardOrthogonal:"display",columns:"",editor:null,editOnFocus:!1,editorOptions:null,focus:null,keys:null,tabIndex:null},P.version="2.12.1",I.fn.dataTable.KeyTable=P,I.fn.DataTable.KeyTable=P,e.Api.register("cell.blur()",function(){return this.iterator("table",function(t){t.keytable&&t.keytable.blur()})}),e.Api.register("cell().focus()",function(){return this.iterator("cell",function(t,e,n){t.keytable&&t.keytable.focus(e,n)})}),e.Api.register("keys.disable()",function(){return this.iterator("table",function(t){t.keytable&&t.keytable.enable(!1)})}),e.Api.register("keys.enable()",function(t){return this.iterator("table",function(e){e.keytable&&e.keytable.enable(void 0===t||t)})}),e.Api.register("keys.enabled()",function(t){var e=this.context;return!!e.length&&!!e[0].keytable&&e[0].keytable.enabled()}),e.Api.register("keys.move()",function(t){return this.iterator("table",function(e){e.keytable&&e.keytable._shift(null,t,!1)})}),e.ext.selector.cell.push(function(t,e,n){var o=e.focused,i=t.keytable,s=[];if(!i||void 0===o)return n;for(var r=0,a=n.length;a>r;r++)(!0===o&&i.focused(n[r])||!1===o&&!i.focused(n[r]))&&s.push(n[r]);return s}),I(document).on("preInit.dt.dtk",function(t,n,o){if("dt"===t.namespace){var i=n.oInit.keys,s=e.defaults.keys;if(i||s){var r=I.extend({},s,i);!1!==i&&new P(n,r)}}});export{N as d};
